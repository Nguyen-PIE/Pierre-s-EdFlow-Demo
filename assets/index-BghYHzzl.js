(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var fd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function wS(){if(ey)return fl;ey=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:l,key:f,ref:o!==void 0?o:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var ty;function NS(){return ty||(ty=1,fd.exports=wS()),fd.exports}var y=NS(),hd={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function AS(){if(ny)return $;ny=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function M(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,D={};function B(T,U,Y){this.props=T,this.context=U,this.refs=D,this.updater=Y||j}B.prototype.isReactComponent={},B.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function H(){}H.prototype=B.prototype;function G(T,U,Y){this.props=T,this.context=U,this.refs=D,this.updater=Y||j}var se=G.prototype=new H;se.constructor=G,q(se,B.prototype),se.isPureReactComponent=!0;var Le=Array.isArray;function Ve(){}var ee={H:null,A:null,T:null,S:null},Ge=Object.prototype.hasOwnProperty;function ze(T,U,Y){var F=Y.ref;return{$$typeof:s,type:T,key:U,ref:F!==void 0?F:null,props:Y}}function ht(T,U){return ze(T.type,U,T.props)}function mt(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function me(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return U[Y]})}var Oe=/\/+/g;function Zt(T,U){return typeof T=="object"&&T!==null&&T.key!=null?me(""+T.key):U.toString(36)}function Jt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ve,Ve):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function I(T,U,Y,F,te){var ae=typeof T;(ae==="undefined"||ae==="boolean")&&(T=null);var _e=!1;if(T===null)_e=!0;else switch(ae){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(T.$$typeof){case s:case t:_e=!0;break;case b:return _e=T._init,I(_e(T._payload),U,Y,F,te)}}if(_e)return te=te(T),_e=F===""?"."+Zt(T,0):F,Le(te)?(Y="",_e!=null&&(Y=_e.replace(Oe,"$&/")+"/"),I(te,U,Y,"",function(va){return va})):te!=null&&(mt(te)&&(te=ht(te,Y+(te.key==null||T&&T.key===te.key?"":(""+te.key).replace(Oe,"$&/")+"/")+_e)),U.push(te)),1;_e=0;var pt=F===""?".":F+":";if(Le(T))for(var Pe=0;Pe<T.length;Pe++)F=T[Pe],ae=pt+Zt(F,Pe),_e+=I(F,U,Y,ae,te);else if(Pe=M(T),typeof Pe=="function")for(T=Pe.call(T),Pe=0;!(F=T.next()).done;)F=F.value,ae=pt+Zt(F,Pe++),_e+=I(F,U,Y,ae,te);else if(ae==="object"){if(typeof T.then=="function")return I(Jt(T),U,Y,F,te);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return _e}function P(T,U,Y){if(T==null)return T;var F=[],te=0;return I(T,F,"","",function(ae){return U.call(Y,ae,te++)}),F}function Z(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var xe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ae={map:P,forEach:function(T,U,Y){P(T,function(){U.apply(this,arguments)},Y)},count:function(T){var U=0;return P(T,function(){U++}),U},toArray:function(T){return P(T,function(U){return U})||[]},only:function(T){if(!mt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return $.Activity=v,$.Children=Ae,$.Component=B,$.Fragment=i,$.Profiler=o,$.PureComponent=G,$.StrictMode=l,$.Suspense=p,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,$.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ee.H.useMemoCache(T)}},$.cache=function(T){return function(){return T.apply(null,arguments)}},$.cacheSignal=function(){return null},$.cloneElement=function(T,U,Y){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var F=q({},T.props),te=T.key;if(U!=null)for(ae in U.key!==void 0&&(te=""+U.key),U)!Ge.call(U,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&U.ref===void 0||(F[ae]=U[ae]);var ae=arguments.length-2;if(ae===1)F.children=Y;else if(1<ae){for(var _e=Array(ae),pt=0;pt<ae;pt++)_e[pt]=arguments[pt+2];F.children=_e}return ze(T.type,te,F)},$.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},$.createElement=function(T,U,Y){var F,te={},ae=null;if(U!=null)for(F in U.key!==void 0&&(ae=""+U.key),U)Ge.call(U,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(te[F]=U[F]);var _e=arguments.length-2;if(_e===1)te.children=Y;else if(1<_e){for(var pt=Array(_e),Pe=0;Pe<_e;Pe++)pt[Pe]=arguments[Pe+2];te.children=pt}if(T&&T.defaultProps)for(F in _e=T.defaultProps,_e)te[F]===void 0&&(te[F]=_e[F]);return ze(T,ae,te)},$.createRef=function(){return{current:null}},$.forwardRef=function(T){return{$$typeof:g,render:T}},$.isValidElement=mt,$.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:Z}},$.memo=function(T,U){return{$$typeof:m,type:T,compare:U===void 0?null:U}},$.startTransition=function(T){var U=ee.T,Y={};ee.T=Y;try{var F=T(),te=ee.S;te!==null&&te(Y,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Ve,xe)}catch(ae){xe(ae)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),ee.T=U}},$.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},$.use=function(T){return ee.H.use(T)},$.useActionState=function(T,U,Y){return ee.H.useActionState(T,U,Y)},$.useCallback=function(T,U){return ee.H.useCallback(T,U)},$.useContext=function(T){return ee.H.useContext(T)},$.useDebugValue=function(){},$.useDeferredValue=function(T,U){return ee.H.useDeferredValue(T,U)},$.useEffect=function(T,U){return ee.H.useEffect(T,U)},$.useEffectEvent=function(T){return ee.H.useEffectEvent(T)},$.useId=function(){return ee.H.useId()},$.useImperativeHandle=function(T,U,Y){return ee.H.useImperativeHandle(T,U,Y)},$.useInsertionEffect=function(T,U){return ee.H.useInsertionEffect(T,U)},$.useLayoutEffect=function(T,U){return ee.H.useLayoutEffect(T,U)},$.useMemo=function(T,U){return ee.H.useMemo(T,U)},$.useOptimistic=function(T,U){return ee.H.useOptimistic(T,U)},$.useReducer=function(T,U,Y){return ee.H.useReducer(T,U,Y)},$.useRef=function(T){return ee.H.useRef(T)},$.useState=function(T){return ee.H.useState(T)},$.useSyncExternalStore=function(T,U,Y){return ee.H.useSyncExternalStore(T,U,Y)},$.useTransition=function(){return ee.H.useTransition()},$.version="19.2.0",$}var iy;function af(){return iy||(iy=1,hd.exports=AS()),hd.exports}var O=af(),md={exports:{}},hl={},pd={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function RS(){return sy||(sy=1,(function(s){function t(I,P){var Z=I.length;I.push(P);e:for(;0<Z;){var xe=Z-1>>>1,Ae=I[xe];if(0<o(Ae,P))I[xe]=P,I[Z]=Ae,Z=xe;else break e}}function i(I){return I.length===0?null:I[0]}function l(I){if(I.length===0)return null;var P=I[0],Z=I.pop();if(Z!==P){I[0]=Z;e:for(var xe=0,Ae=I.length,T=Ae>>>1;xe<T;){var U=2*(xe+1)-1,Y=I[U],F=U+1,te=I[F];if(0>o(Y,Z))F<Ae&&0>o(te,Y)?(I[xe]=te,I[F]=Z,xe=F):(I[xe]=Y,I[U]=Z,xe=U);else if(F<Ae&&0>o(te,Z))I[xe]=te,I[F]=Z,xe=F;else break e}}return P}function o(I,P){var Z=I.sortIndex-P.sortIndex;return Z!==0?Z:I.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],m=[],b=1,v=null,x=3,M=!1,j=!1,q=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function se(I){for(var P=i(m);P!==null;){if(P.callback===null)l(m);else if(P.startTime<=I)l(m),P.sortIndex=P.expirationTime,t(p,P);else break;P=i(m)}}function Le(I){if(q=!1,se(I),!j)if(i(p)!==null)j=!0,Ve||(Ve=!0,me());else{var P=i(m);P!==null&&Jt(Le,P.startTime-I)}}var Ve=!1,ee=-1,Ge=5,ze=-1;function ht(){return D?!0:!(s.unstable_now()-ze<Ge)}function mt(){if(D=!1,Ve){var I=s.unstable_now();ze=I;var P=!0;try{e:{j=!1,q&&(q=!1,H(ee),ee=-1),M=!0;var Z=x;try{t:{for(se(I),v=i(p);v!==null&&!(v.expirationTime>I&&ht());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,x=v.priorityLevel;var Ae=xe(v.expirationTime<=I);if(I=s.unstable_now(),typeof Ae=="function"){v.callback=Ae,se(I),P=!0;break t}v===i(p)&&l(p),se(I)}else l(p);v=i(p)}if(v!==null)P=!0;else{var T=i(m);T!==null&&Jt(Le,T.startTime-I),P=!1}}break e}finally{v=null,x=Z,M=!1}P=void 0}}finally{P?me():Ve=!1}}}var me;if(typeof G=="function")me=function(){G(mt)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Zt=Oe.port2;Oe.port1.onmessage=mt,me=function(){Zt.postMessage(null)}}else me=function(){B(mt,0)};function Jt(I,P){ee=B(function(){I(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(I){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var Z=x;x=P;try{return I()}finally{x=Z}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Z=x;x=I;try{return P()}finally{x=Z}},s.unstable_scheduleCallback=function(I,P,Z){var xe=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?xe+Z:xe):Z=xe,I){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Z+Ae,I={id:b++,callback:P,priorityLevel:I,startTime:Z,expirationTime:Ae,sortIndex:-1},Z>xe?(I.sortIndex=Z,t(m,I),i(p)===null&&I===i(m)&&(q?(H(ee),ee=-1):q=!0,Jt(Le,Z-xe))):(I.sortIndex=Ae,t(p,I),j||M||(j=!0,Ve||(Ve=!0,me()))),I},s.unstable_shouldYield=ht,s.unstable_wrapCallback=function(I){var P=x;return function(){var Z=x;x=P;try{return I.apply(this,arguments)}finally{x=Z}}}})(gd)),gd}var ay;function OS(){return ay||(ay=1,pd.exports=RS()),pd.exports}var yd={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function MS(){if(ly)return ct;ly=1;var s=af();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:m,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,b)},ct.flushSync=function(p){var m=f.T,b=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=m,l.p=b,l.d.f()}},ct.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(p,m))},ct.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ct.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,v=g(b,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?l.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:M}):b==="script"&&l.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ct.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(p)},ct.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,v=g(b,m.crossOrigin);l.d.L(p,b,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ct.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=g(m.as,m.crossOrigin);l.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(p)},ct.requestFormReset=function(p){l.d.r(p)},ct.unstable_batchedUpdates=function(p,m){return p(m)},ct.useFormState=function(p,m,b){return f.H.useFormState(p,m,b)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var ry;function DS(){if(ry)return yd.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yd.exports=MS(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function kS(){if(oy)return hl;oy=1;var s=OS(),t=af(),i=DS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(l(188));return n!==e?null:e}for(var a=e,r=n;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return p(u),e;if(d===r)return p(u),n;d=d.sibling}throw Error(l(188))}if(a.return!==r.return)a=u,r=d;else{for(var h=!1,_=u.child;_;){if(_===a){h=!0,a=u,r=d;break}if(_===r){h=!0,r=u,a=d;break}_=_.sibling}if(!h){for(_=d.child;_;){if(_===a){h=!0,a=d,r=u;break}if(_===r){h=!0,r=d,a=u;break}_=_.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),ze=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case Le:return"Suspense";case Ve:return"SuspenseList";case ze:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case G:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case Ge:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Jt=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},xe=[],Ae=-1;function T(e){return{current:e}}function U(e){0>Ae||(e.current=xe[Ae],xe[Ae]=null,Ae--)}function Y(e,n){Ae++,xe[Ae]=e.current,e.current=n}var F=T(null),te=T(null),ae=T(null),_e=T(null);function pt(e,n){switch(Y(ae,n),Y(te,e),Y(F,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Eg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Eg(n),e=Tg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(F),Y(F,e)}function Pe(){U(F),U(te),U(ae)}function va(e){e.memoizedState!==null&&Y(_e,e);var n=F.current,a=Tg(n,e.type);n!==a&&(Y(te,e),Y(F,a))}function ql(e){te.current===e&&(U(F),U(te)),_e.current===e&&(U(_e),ol._currentValue=Z)}var Ko,$f;function Di(e){if(Ko===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ko=n&&n[1]||"",$f=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ko+e+$f}var Xo=!1;function Wo(e,n){if(!e||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(R){var A=R}Reflect.construct(e,[],z)}else{try{z.call()}catch(R){A=R}e.call(z.prototype)}}else{try{throw Error()}catch(R){A=R}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),h=d[0],_=d[1];if(h&&_){var S=h.split(`
`),N=_.split(`
`);for(u=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(r===S.length||u===N.length)for(r=S.length-1,u=N.length-1;1<=r&&0<=u&&S[r]!==N[u];)u--;for(;1<=r&&0<=u;r--,u--)if(S[r]!==N[u]){if(r!==1||u!==1)do if(r--,u--,0>u||S[r]!==N[u]){var k=`
`+S[r].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=r&&0<=u);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function ib(e,n){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return e.child!==n&&n!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Wo(e.type,!1);case 11:return Wo(e.type.render,!1);case 1:return Wo(e.type,!0);case 31:return Di("Activity");default:return""}}function eh(e){try{var n="",a=null;do n+=ib(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Zo=Object.prototype.hasOwnProperty,Jo=s.unstable_scheduleCallback,$o=s.unstable_cancelCallback,sb=s.unstable_shouldYield,ab=s.unstable_requestPaint,Nt=s.unstable_now,lb=s.unstable_getCurrentPriorityLevel,th=s.unstable_ImmediatePriority,nh=s.unstable_UserBlockingPriority,Vl=s.unstable_NormalPriority,rb=s.unstable_LowPriority,ih=s.unstable_IdlePriority,ob=s.log,ub=s.unstable_setDisableYieldValue,ba=null,At=null;function Fn(e){if(typeof ob=="function"&&ub(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ba,e)}catch{}}var Rt=Math.clz32?Math.clz32:fb,cb=Math.log,db=Math.LN2;function fb(e){return e>>>=0,e===0?32:31-(cb(e)/db|0)|0}var Gl=256,Pl=262144,Yl=4194304;function ki(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ql(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var u=0,d=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~d,r!==0?u=ki(r):(h&=_,h!==0?u=ki(h):a||(a=_&~e,a!==0&&(u=ki(a))))):(_=r&~d,_!==0?u=ki(_):h!==0?u=ki(h):a||(a=r&~e,a!==0&&(u=ki(a)))),u===0?0:n!==0&&n!==u&&(n&d)===0&&(d=u&-u,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:u}function Sa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(){var e=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),e}function eu(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mb(e,n,a,r,u,d){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(a=h&~a;0<a;){var k=31-Rt(a),z=1<<k;_[k]=0,S[k]=-1;var A=N[k];if(A!==null)for(N[k]=null,k=0;k<A.length;k++){var R=A[k];R!==null&&(R.lane&=-536870913)}a&=~z}r!==0&&ah(e,r,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(h&~n))}function ah(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Rt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function lh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Rt(a),u=1<<r;u&n|e[r]&n&&(e[r]|=n),a&=~u}}function rh(e,n){var a=n&-n;return a=(a&42)!==0?1:tu(a),(a&(e.suspendedLanes|n))!==0?0:a}function tu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oh(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Fg(e.type))}function uh(e,n){var a=P.p;try{return P.p=e,n()}finally{P.p=a}}var Kn=Math.random().toString(36).slice(2),it="__reactFiber$"+Kn,_t="__reactProps$"+Kn,ds="__reactContainer$"+Kn,iu="__reactEvents$"+Kn,pb="__reactListeners$"+Kn,gb="__reactHandles$"+Kn,ch="__reactResources$"+Kn,Ea="__reactMarker$"+Kn;function su(e){delete e[it],delete e[_t],delete e[iu],delete e[pb],delete e[gb]}function fs(e){var n=e[it];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ds]||a[it]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Mg(e);e!==null;){if(a=e[it])return a;e=Mg(e)}return n}e=a,a=e.parentNode}return null}function hs(e){if(e=e[it]||e[ds]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ta(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ms(e){var n=e[ch];return n||(n=e[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[Ea]=!0}var dh=new Set,fh={};function Ii(e,n){ps(e,n),ps(e+"Capture",n)}function ps(e,n){for(fh[e]=n,e=0;e<n.length;e++)dh.add(n[e])}var yb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hh={},mh={};function _b(e){return Zo.call(mh,e)?!0:Zo.call(hh,e)?!1:yb.test(e)?mh[e]=!0:(hh[e]=!0,!1)}function Fl(e,n,a){if(_b(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Kl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function yn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ph(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vb(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,d=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function au(e){if(!e._valueTracker){var n=ph(e)?"checked":"value";e._valueTracker=vb(e,n,""+e[n])}}function gh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=ph(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bb=/[\n"\\]/g;function Ut(e){return e.replace(bb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(e,n,a,r,u,d,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),n!=null?h==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),n!=null?ru(e,h,zt(n)):a!=null?ru(e,h,zt(a)):r!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+zt(_):e.removeAttribute("name")}function yh(e,n,a,r,u,d,h,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){au(e);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),au(e)}function ru(e,n,a){n==="number"&&Xl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gs(e,n,a,r){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&r&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function _h(e,n,a){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+zt(a):""}function vh(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(l(92));if(Jt(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=zt(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),au(e)}function ys(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bh(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||Sb.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Sh(e,n,a){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&a[u]!==r&&bh(e,u,r)}else for(var d in n)n.hasOwnProperty(d)&&bh(e,d,n[d])}function ou(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(e){return Eb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var uu=null;function cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,vs=null;function xh(e){var n=hs(e);if(n&&(e=n.stateNode)){var a=e[_t]||null;e:switch(e=n.stateNode,n.type){case"input":if(lu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var u=r[_t]||null;if(!u)throw Error(l(90));lu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&gh(r)}break e;case"textarea":_h(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(e,!!a.multiple,n,!1)}}}var du=!1;function Eh(e,n,a){if(du)return e(n,a);du=!0;try{var r=e(n);return r}finally{if(du=!1,(_s!==null||vs!==null)&&(zr(),_s&&(n=_s,e=vs,vs=_s=null,xh(n),e)))for(n=0;n<e.length;n++)xh(e[n])}}function Ca(e,n){var a=e.stateNode;if(a===null)return null;var r=a[_t]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(vn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){fu=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{fu=!1}var Xn=null,hu=null,Zl=null;function Th(){if(Zl)return Zl;var e,n=hu,a=n.length,r,u="value"in Xn?Xn.value:Xn.textContent,d=u.length;for(e=0;e<a&&n[e]===u[e];e++);var h=a-e;for(r=1;r<=h&&n[a-r]===u[d-r];r++);return Zl=u.slice(e,1<r?1-r:void 0)}function Jl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function Ch(){return!1}function vt(e){function n(a,r,u,d,h){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$l:Ch,this.isPropagationStopped=Ch,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=vt(ji),Na=v({},ji,{view:0,detail:0}),Tb=vt(Na),mu,pu,Aa,tr=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(mu=e.screenX-Aa.screenX,pu=e.screenY-Aa.screenY):pu=mu=0,Aa=e),mu)},movementY:function(e){return"movementY"in e?e.movementY:pu}}),wh=vt(tr),Cb=v({},tr,{dataTransfer:0}),wb=vt(Cb),Nb=v({},Na,{relatedTarget:0}),gu=vt(Nb),Ab=v({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=vt(Ab),Ob=v({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mb=vt(Ob),Db=v({},ji,{data:0}),Nh=vt(Db),kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=jb[e])?!!n[e]:!1}function yu(){return Lb}var zb=v({},Na,{key:function(e){if(e.key){var n=kb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ib[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ub=vt(zb),Hb=v({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=vt(Hb),Bb=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),qb=vt(Bb),Vb=v({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=vt(Vb),Pb=v({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yb=vt(Pb),Qb=v({},ji,{newState:0,oldState:0}),Fb=vt(Qb),Kb=[9,13,27,32],_u=vn&&"CompositionEvent"in window,Ra=null;vn&&"documentMode"in document&&(Ra=document.documentMode);var Xb=vn&&"TextEvent"in window&&!Ra,Rh=vn&&(!_u||Ra&&8<Ra&&11>=Ra),Oh=" ",Mh=!1;function Dh(e,n){switch(e){case"keyup":return Kb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function Wb(e,n){switch(e){case"compositionend":return kh(n);case"keypress":return n.which!==32?null:(Mh=!0,Oh);case"textInput":return e=n.data,e===Oh&&Mh?null:e;default:return null}}function Zb(e,n){if(bs)return e==="compositionend"||!_u&&Dh(e,n)?(e=Th(),Zl=hu=Xn=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rh&&n.locale!=="ko"?null:n.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jb[e.type]:n==="textarea"}function jh(e,n,a,r){_s?vs?vs.push(r):vs=[r]:_s=r,n=Pr(n,"onChange"),0<n.length&&(a=new er("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var Oa=null,Ma=null;function $b(e){yg(e,0)}function nr(e){var n=Ta(e);if(gh(n))return e}function Lh(e,n){if(e==="change")return n}var zh=!1;if(vn){var vu;if(vn){var bu="oninput"in document;if(!bu){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),bu=typeof Uh.oninput=="function"}vu=bu}else vu=!1;zh=vu&&(!document.documentMode||9<document.documentMode)}function Hh(){Oa&&(Oa.detachEvent("onpropertychange",Bh),Ma=Oa=null)}function Bh(e){if(e.propertyName==="value"&&nr(Ma)){var n=[];jh(n,Ma,e,cu(e)),Eh($b,n)}}function e1(e,n,a){e==="focusin"?(Hh(),Oa=n,Ma=a,Oa.attachEvent("onpropertychange",Bh)):e==="focusout"&&Hh()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(Ma)}function n1(e,n){if(e==="click")return nr(n)}function i1(e,n){if(e==="input"||e==="change")return nr(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:s1;function Da(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!Zo.call(n,u)||!Ot(e[u],n[u]))return!1}return!0}function qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vh(e,n){var a=qh(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qh(a)}}function Gh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ph(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Xl(e.document)}return n}function Su(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var a1=vn&&"documentMode"in document&&11>=document.documentMode,Ss=null,xu=null,ka=null,Eu=!1;function Yh(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eu||Ss==null||Ss!==Xl(r)||(r=Ss,"selectionStart"in r&&Su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ka&&Da(ka,r)||(ka=r,r=Pr(xu,"onSelect"),0<r.length&&(n=new er("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=Ss)))}function Li(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var xs={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Tu={},Qh={};vn&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function zi(e){if(Tu[e])return Tu[e];if(!xs[e])return e;var n=xs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qh)return Tu[e]=n[a];return e}var Fh=zi("animationend"),Kh=zi("animationiteration"),Xh=zi("animationstart"),l1=zi("transitionrun"),r1=zi("transitionstart"),o1=zi("transitioncancel"),Wh=zi("transitionend"),Zh=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function $t(e,n){Zh.set(e,n),Ii(n,[e])}var ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Es=0,wu=0;function sr(){for(var e=Es,n=wu=Es=0;n<e;){var a=Ht[n];Ht[n++]=null;var r=Ht[n];Ht[n++]=null;var u=Ht[n];Ht[n++]=null;var d=Ht[n];if(Ht[n++]=null,r!==null&&u!==null){var h=r.pending;h===null?u.next=u:(u.next=h.next,h.next=u),r.pending=u}d!==0&&Jh(a,u,d)}}function ar(e,n,a,r){Ht[Es++]=e,Ht[Es++]=n,Ht[Es++]=a,Ht[Es++]=r,wu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Nu(e,n,a,r){return ar(e,n,a,r),lr(e)}function Ui(e,n){return ar(e,null,null,n),lr(e)}function Jh(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var u=!1,d=e.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&n!==null&&(u=31-Rt(a),e=d.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=a|536870912),d):null}function lr(e){if(50<tl)throw tl=0,Lc=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ts={};function u1(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,a,r){return new u1(e,n,a,r)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var a=e.alternate;return a===null?(a=Mt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $h(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function rr(e,n,a,r,u,d){var h=0;if(r=e,typeof e=="function")Au(e)&&(h=1);else if(typeof e=="string")h=mS(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ze:return e=Mt(31,a,n,u),e.elementType=ze,e.lanes=d,e;case q:return Hi(a.children,u,d,n);case D:h=8,u|=24;break;case B:return e=Mt(12,a,n,u|2),e.elementType=B,e.lanes=d,e;case Le:return e=Mt(13,a,n,u),e.elementType=Le,e.lanes=d,e;case Ve:return e=Mt(19,a,n,u),e.elementType=Ve,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:h=10;break e;case H:h=9;break e;case se:h=11;break e;case ee:h=14;break e;case Ge:h=16,r=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Mt(h,a,n,u),n.elementType=e,n.type=r,n.lanes=d,n}function Hi(e,n,a,r){return e=Mt(7,e,r,n),e.lanes=a,e}function Ru(e,n,a){return e=Mt(6,e,null,n),e.lanes=a,e}function em(e){var n=Mt(18,null,null,0);return n.stateNode=e,n}function Ou(e,n,a){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var tm=new WeakMap;function Bt(e,n){if(typeof e=="object"&&e!==null){var a=tm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:eh(n)},tm.set(e,n),n)}return{value:e,source:n,stack:eh(n)}}var Cs=[],ws=0,or=null,Ia=0,qt=[],Vt=0,Wn=null,un=1,cn="";function Sn(e,n){Cs[ws++]=Ia,Cs[ws++]=or,or=e,Ia=n}function nm(e,n,a){qt[Vt++]=un,qt[Vt++]=cn,qt[Vt++]=Wn,Wn=e;var r=un;e=cn;var u=32-Rt(r)-1;r&=~(1<<u),a+=1;var d=32-Rt(n)+u;if(30<d){var h=u-u%5;d=(r&(1<<h)-1).toString(32),r>>=h,u-=h,un=1<<32-Rt(n)+u|a<<u|r,cn=d+e}else un=1<<d|a<<u|r,cn=e}function Mu(e){e.return!==null&&(Sn(e,1),nm(e,1,0))}function Du(e){for(;e===or;)or=Cs[--ws],Cs[ws]=null,Ia=Cs[--ws],Cs[ws]=null;for(;e===Wn;)Wn=qt[--Vt],qt[Vt]=null,cn=qt[--Vt],qt[Vt]=null,un=qt[--Vt],qt[Vt]=null}function im(e,n){qt[Vt++]=un,qt[Vt++]=cn,qt[Vt++]=Wn,un=n.id,cn=n.overflow,Wn=e}var st=null,Me=null,de=!1,Zn=null,Gt=!1,ku=Error(l(519));function Jn(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ja(Bt(n,e)),ku}function sm(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[it]=e,n[_t]=r,a){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(a=0;a<il.length;a++)re(il[a],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":re("invalid",n),yh(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":re("invalid",n);break;case"textarea":re("invalid",n),vh(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||Sg(n.textContent,a)?(r.popover!=null&&(re("beforetoggle",n),re("toggle",n)),r.onScroll!=null&&re("scroll",n),r.onScrollEnd!=null&&re("scrollend",n),r.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||Jn(e,!0)}function am(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:st=st.return}}function Ns(e){if(e!==st)return!1;if(!de)return am(e),de=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zc(e.type,e.memoizedProps)),a=!a),a&&Me&&Jn(e),am(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Og(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Og(e)}else n===27?(n=Me,fi(e.type)?(e=nd,nd=null,Me=e):Me=n):Me=st?Yt(e.stateNode.nextSibling):null;return!0}function Bi(){Me=st=null,de=!1}function Iu(){var e=Zn;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),Zn=null),e}function ja(e){Zn===null?Zn=[e]:Zn.push(e)}var ju=T(null),qi=null,xn=null;function $n(e,n,a){Y(ju,n._currentValue),n._currentValue=a}function En(e){e._currentValue=ju.current,U(ju)}function Lu(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function zu(e,n,a,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var h=u.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),Lu(d.return,a,e),r||(h=null);break e}d=_.next}}else if(u.tag===18){if(h=u.return,h===null)throw Error(l(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),Lu(h,a,e),h=null}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===e){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}}function As(e,n,a,r){e=null;for(var u=n,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var h=u.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var _=u.type;Ot(u.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(u===_e.current){if(h=u.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}u=u.return}e!==null&&zu(n,e,a,r),n.flags|=262144}function ur(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vi(e){qi=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return lm(qi,e)}function cr(e,n){return qi===null&&Vi(e),lm(e,n)}function lm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xn===null){if(e===null)throw Error(l(308));xn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xn=xn.next=n;return a}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},d1=s.unstable_scheduleCallback,f1=s.unstable_NormalPriority,Fe={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new c1,data:new Map,refCount:0}}function La(e){e.refCount--,e.refCount===0&&d1(f1,function(){e.controller.abort()})}var za=null,Hu=0,Rs=0,Os=null;function h1(e,n){if(za===null){var a=za=[];Hu=0,Rs=Vc(),Os={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Hu++,n.then(rm,rm),n}function rm(){if(--Hu===0&&za!==null){Os!==null&&(Os.status="fulfilled");var e=za;za=null,Rs=0,Os=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var om=I.S;I.S=function(e,n){Yp=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),om!==null&&om(e,n)};var Gi=T(null);function Bu(){var e=Gi.current;return e!==null?e:Re.pooledCache}function dr(e,n){n===null?Y(Gi,Gi.current):Y(Gi,n.pool)}function um(){var e=Bu();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ms=Error(l(460)),qu=Error(l(474)),fr=Error(l(542)),hr={then:function(){}};function cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_n,_n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hm(e),e;default:if(typeof n.status=="string")n.then(_n,_n);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hm(e),e}throw Yi=n,Ms}}function Pi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yi=a,Ms):a}}var Yi=null;function fm(){if(Yi===null)throw Error(l(459));var e=Yi;return Yi=null,e}function hm(e){if(e===Ms||e===fr)throw Error(l(483))}var Ds=null,Ua=0;function mr(e){var n=Ua;return Ua+=1,Ds===null&&(Ds=[]),dm(Ds,e,n)}function Ha(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pr(e,n){throw n.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function mm(e){function n(C,E){if(e){var w=C.deletions;w===null?(C.deletions=[E],C.flags|=16):w.push(E)}}function a(C,E){if(!e)return null;for(;E!==null;)n(C,E),E=E.sibling;return null}function r(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function u(C,E){return C=bn(C,E),C.index=0,C.sibling=null,C}function d(C,E,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<E?(C.flags|=67108866,E):w):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function h(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,E,w,L){return E===null||E.tag!==6?(E=Ru(w,C.mode,L),E.return=C,E):(E=u(E,w),E.return=C,E)}function S(C,E,w,L){var X=w.type;return X===q?k(C,E,w.props.children,L,w.key):E!==null&&(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ge&&Pi(X)===E.type)?(E=u(E,w.props),Ha(E,w),E.return=C,E):(E=rr(w.type,w.key,w.props,null,C.mode,L),Ha(E,w),E.return=C,E)}function N(C,E,w,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=Ou(w,C.mode,L),E.return=C,E):(E=u(E,w.children||[]),E.return=C,E)}function k(C,E,w,L,X){return E===null||E.tag!==7?(E=Hi(w,C.mode,L,X),E.return=C,E):(E=u(E,w),E.return=C,E)}function z(C,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ru(""+E,C.mode,w),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case M:return w=rr(E.type,E.key,E.props,null,C.mode,w),Ha(w,E),w.return=C,w;case j:return E=Ou(E,C.mode,w),E.return=C,E;case Ge:return E=Pi(E),z(C,E,w)}if(Jt(E)||me(E))return E=Hi(E,C.mode,w,null),E.return=C,E;if(typeof E.then=="function")return z(C,mr(E),w);if(E.$$typeof===G)return z(C,cr(C,E),w);pr(C,E)}return null}function A(C,E,w,L){var X=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return X!==null?null:_(C,E,""+w,L);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case M:return w.key===X?S(C,E,w,L):null;case j:return w.key===X?N(C,E,w,L):null;case Ge:return w=Pi(w),A(C,E,w,L)}if(Jt(w)||me(w))return X!==null?null:k(C,E,w,L,null);if(typeof w.then=="function")return A(C,E,mr(w),L);if(w.$$typeof===G)return A(C,E,cr(C,w),L);pr(C,w)}return null}function R(C,E,w,L,X){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return C=C.get(w)||null,_(E,C,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return C=C.get(L.key===null?w:L.key)||null,S(E,C,L,X);case j:return C=C.get(L.key===null?w:L.key)||null,N(E,C,L,X);case Ge:return L=Pi(L),R(C,E,w,L,X)}if(Jt(L)||me(L))return C=C.get(w)||null,k(E,C,L,X,null);if(typeof L.then=="function")return R(C,E,w,mr(L),X);if(L.$$typeof===G)return R(C,E,w,cr(E,L),X);pr(E,L)}return null}function Q(C,E,w,L){for(var X=null,pe=null,K=E,ie=E=0,ue=null;K!==null&&ie<w.length;ie++){K.index>ie?(ue=K,K=null):ue=K.sibling;var ge=A(C,K,w[ie],L);if(ge===null){K===null&&(K=ue);break}e&&K&&ge.alternate===null&&n(C,K),E=d(ge,E,ie),pe===null?X=ge:pe.sibling=ge,pe=ge,K=ue}if(ie===w.length)return a(C,K),de&&Sn(C,ie),X;if(K===null){for(;ie<w.length;ie++)K=z(C,w[ie],L),K!==null&&(E=d(K,E,ie),pe===null?X=K:pe.sibling=K,pe=K);return de&&Sn(C,ie),X}for(K=r(K);ie<w.length;ie++)ue=R(K,C,ie,w[ie],L),ue!==null&&(e&&ue.alternate!==null&&K.delete(ue.key===null?ie:ue.key),E=d(ue,E,ie),pe===null?X=ue:pe.sibling=ue,pe=ue);return e&&K.forEach(function(yi){return n(C,yi)}),de&&Sn(C,ie),X}function W(C,E,w,L){if(w==null)throw Error(l(151));for(var X=null,pe=null,K=E,ie=E=0,ue=null,ge=w.next();K!==null&&!ge.done;ie++,ge=w.next()){K.index>ie?(ue=K,K=null):ue=K.sibling;var yi=A(C,K,ge.value,L);if(yi===null){K===null&&(K=ue);break}e&&K&&yi.alternate===null&&n(C,K),E=d(yi,E,ie),pe===null?X=yi:pe.sibling=yi,pe=yi,K=ue}if(ge.done)return a(C,K),de&&Sn(C,ie),X;if(K===null){for(;!ge.done;ie++,ge=w.next())ge=z(C,ge.value,L),ge!==null&&(E=d(ge,E,ie),pe===null?X=ge:pe.sibling=ge,pe=ge);return de&&Sn(C,ie),X}for(K=r(K);!ge.done;ie++,ge=w.next())ge=R(K,C,ie,ge.value,L),ge!==null&&(e&&ge.alternate!==null&&K.delete(ge.key===null?ie:ge.key),E=d(ge,E,ie),pe===null?X=ge:pe.sibling=ge,pe=ge);return e&&K.forEach(function(CS){return n(C,CS)}),de&&Sn(C,ie),X}function Ce(C,E,w,L){if(typeof w=="object"&&w!==null&&w.type===q&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case M:e:{for(var X=w.key;E!==null;){if(E.key===X){if(X=w.type,X===q){if(E.tag===7){a(C,E.sibling),L=u(E,w.props.children),L.return=C,C=L;break e}}else if(E.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ge&&Pi(X)===E.type){a(C,E.sibling),L=u(E,w.props),Ha(L,w),L.return=C,C=L;break e}a(C,E);break}else n(C,E);E=E.sibling}w.type===q?(L=Hi(w.props.children,C.mode,L,w.key),L.return=C,C=L):(L=rr(w.type,w.key,w.props,null,C.mode,L),Ha(L,w),L.return=C,C=L)}return h(C);case j:e:{for(X=w.key;E!==null;){if(E.key===X)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){a(C,E.sibling),L=u(E,w.children||[]),L.return=C,C=L;break e}else{a(C,E);break}else n(C,E);E=E.sibling}L=Ou(w,C.mode,L),L.return=C,C=L}return h(C);case Ge:return w=Pi(w),Ce(C,E,w,L)}if(Jt(w))return Q(C,E,w,L);if(me(w)){if(X=me(w),typeof X!="function")throw Error(l(150));return w=X.call(w),W(C,E,w,L)}if(typeof w.then=="function")return Ce(C,E,mr(w),L);if(w.$$typeof===G)return Ce(C,E,cr(C,w),L);pr(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(a(C,E.sibling),L=u(E,w),L.return=C,C=L):(a(C,E),L=Ru(w,C.mode,L),L.return=C,C=L),h(C)):a(C,E)}return function(C,E,w,L){try{Ua=0;var X=Ce(C,E,w,L);return Ds=null,X}catch(K){if(K===Ms||K===fr)throw K;var pe=Mt(29,K,null,C.mode);return pe.lanes=L,pe.return=C,pe}finally{}}}var Qi=mm(!0),pm=mm(!1),ei=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=lr(e),Jh(e,null,a),n}return ar(e,r,n,a),lr(e)}function Ba(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,lh(e,a)}}function Pu(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?u=d=n:d=d.next=n}else u=d=n;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Yu=!1;function qa(){if(Yu){var e=Os;if(e!==null)throw e}}function Va(e,n,a,r){Yu=!1;var u=e.updateQueue;ei=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,N=S.next;S.next=null,h===null?d=N:h.next=N,h=S;var k=e.alternate;k!==null&&(k=k.updateQueue,_=k.lastBaseUpdate,_!==h&&(_===null?k.firstBaseUpdate=N:_.next=N,k.lastBaseUpdate=S))}if(d!==null){var z=u.baseState;h=0,k=N=S=null,_=d;do{var A=_.lane&-536870913,R=A!==_.lane;if(R?(oe&A)===A:(r&A)===A){A!==0&&A===Rs&&(Yu=!0),k!==null&&(k=k.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Q=e,W=_;A=n;var Ce=a;switch(W.tag){case 1:if(Q=W.payload,typeof Q=="function"){z=Q.call(Ce,z,A);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=W.payload,A=typeof Q=="function"?Q.call(Ce,z,A):Q,A==null)break e;z=v({},z,A);break e;case 2:ei=!0}}A=_.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=u.callbacks,R===null?u.callbacks=[A]:R.push(A))}else R={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},k===null?(N=k=R,S=z):k=k.next=R,h|=A;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;R=_,_=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);k===null&&(S=z),u.baseState=S,u.firstBaseUpdate=N,u.lastBaseUpdate=k,d===null&&(u.shared.lanes=0),ri|=h,e.lanes=h,e.memoizedState=z}}function gm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function ym(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gm(a[e],n)}var ks=T(null),gr=T(0);function _m(e,n){e=Dn,Y(gr,e),Y(ks,n),Dn=e|n.baseLanes}function Qu(){Y(gr,Dn),Y(ks,ks.current)}function Fu(){Dn=gr.current,U(ks),U(gr)}var Dt=T(null),Pt=null;function ii(e){var n=e.alternate;Y(Ye,Ye.current&1),Y(Dt,e),Pt===null&&(n===null||ks.current!==null||n.memoizedState!==null)&&(Pt=e)}function Ku(e){Y(Ye,Ye.current),Y(Dt,e),Pt===null&&(Pt=e)}function vm(e){e.tag===22?(Y(Ye,Ye.current),Y(Dt,e),Pt===null&&(Pt=e)):si()}function si(){Y(Ye,Ye.current),Y(Dt,Dt.current)}function kt(e){U(Dt),Pt===e&&(Pt=null),U(Ye)}var Ye=T(0);function yr(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ed(a)||td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,ne=null,Ee=null,Ke=null,_r=!1,Is=!1,Fi=!1,vr=0,Ga=0,js=null,p1=0;function Be(){throw Error(l(321))}function Xu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ot(e[a],n[a]))return!1;return!0}function Wu(e,n,a,r,u,d){return Tn=d,ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?np:dc,Fi=!1,d=a(r,u),Fi=!1,Is&&(d=Sm(n,a,r,u)),bm(e),d}function bm(e){I.H=Qa;var n=Ee!==null&&Ee.next!==null;if(Tn=0,Ke=Ee=ne=null,_r=!1,Ga=0,js=null,n)throw Error(l(300));e===null||Xe||(e=e.dependencies,e!==null&&ur(e)&&(Xe=!0))}function Sm(e,n,a,r){ne=e;var u=0;do{if(Is&&(js=null),Ga=0,Is=!1,25<=u)throw Error(l(301));if(u+=1,Ke=Ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=ip,d=n(a,r)}while(Is);return d}function g1(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?Pa(n):n,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ne.flags|=1024),n}function Zu(){var e=vr!==0;return vr=0,e}function Ju(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function $u(e){if(_r){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}_r=!1}Tn=0,Ke=Ee=ne=null,Is=!1,Ga=vr=0,js=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ne.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Qe(){if(Ee===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var n=Ke===null?ne.memoizedState:Ke.next;if(n!==null)Ke=n,Ee=e;else{if(e===null)throw ne.alternate===null?Error(l(467)):Error(l(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ke===null?ne.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(e){var n=Ga;return Ga+=1,js===null&&(js=[]),e=dm(js,e,n),n=ne,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?np:dc),e}function Sr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pa(e);if(e.$$typeof===G)return at(e)}throw Error(l(438,String(e)))}function ec(e){var n=null,a=ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=ne.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=br(),ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=ht;return n.index++,a}function Cn(e,n){return typeof n=="function"?n(e):n}function xr(e){var n=Qe();return tc(n,Ee,e)}function tc(e,n,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var u=e.baseQueue,d=r.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}n.baseQueue=u=d,r.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{n=u.next;var _=h=null,S=null,N=n,k=!1;do{var z=N.lane&-536870913;if(z!==N.lane?(oe&z)===z:(Tn&z)===z){var A=N.revertLane;if(A===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),z===Rs&&(k=!0);else if((Tn&A)===A){N=N.next,A===Rs&&(k=!0);continue}else z={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=z,h=d):S=S.next=z,ne.lanes|=A,ri|=A;z=N.action,Fi&&a(d,z),d=N.hasEagerState?N.eagerState:a(d,z)}else A={lane:z,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=A,h=d):S=S.next=A,ne.lanes|=z,ri|=z;N=N.next}while(N!==null&&N!==n);if(S===null?h=d:S.next=_,!Ot(d,e.memoizedState)&&(Xe=!0,k&&(a=Os,a!==null)))throw a;e.memoizedState=d,e.baseState=h,e.baseQueue=S,r.lastRenderedState=d}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function nc(e){var n=Qe(),a=n.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,u=a.pending,d=n.memoizedState;if(u!==null){a.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);Ot(d,n.memoizedState)||(Xe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,r]}function xm(e,n,a){var r=ne,u=Qe(),d=de;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=n();var h=!Ot((Ee||u).memoizedState,a);if(h&&(u.memoizedState=a,Xe=!0),u=u.queue,ac(Cm.bind(null,r,u,e),[e]),u.getSnapshot!==n||h||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Ls(9,{destroy:void 0},Tm.bind(null,r,u,a,n),null),Re===null)throw Error(l(349));d||(Tn&127)!==0||Em(r,n,a)}return a}function Em(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ne.updateQueue,n===null?(n=br(),ne.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Tm(e,n,a,r){n.value=a,n.getSnapshot=r,wm(n)&&Nm(e)}function Cm(e,n,a){return a(function(){wm(n)&&Nm(e)})}function wm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ot(e,a)}catch{return!0}}function Nm(e){var n=Ui(e,2);n!==null&&Tt(n,e,2)}function ic(e){var n=gt();if(typeof e=="function"){var a=e;if(e=a(),Fi){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},n}function Am(e,n,a,r){return e.baseState=a,tc(e,Ee,typeof r=="function"?r:Cn)}function y1(e,n,a,r,u){if(Cr(e))throw Error(l(485));if(e=n.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};I.T!==null?a(!0):d.isTransition=!1,r(d),a=n.pending,a===null?(d.next=n.pending=d,Rm(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Rm(e,n){var a=n.action,r=n.payload,u=e.state;if(n.isTransition){var d=I.T,h={};I.T=h;try{var _=a(u,r),S=I.S;S!==null&&S(h,_),Om(e,n,_)}catch(N){sc(e,n,N)}finally{d!==null&&h.types!==null&&(d.types=h.types),I.T=d}}else try{d=a(u,r),Om(e,n,d)}catch(N){sc(e,n,N)}}function Om(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Mm(e,n,r)},function(r){return sc(e,n,r)}):Mm(e,n,a)}function Mm(e,n,a){n.status="fulfilled",n.value=a,Dm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rm(e,a)))}function sc(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,Dm(n),n=n.next;while(n!==r)}e.action=null}function Dm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function km(e,n){return n}function Im(e,n){if(de){var a=Re.formState;if(a!==null){e:{var r=ne;if(de){if(Me){t:{for(var u=Me,d=Gt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Me=Yt(u.nextSibling),r=u.data==="F!";break e}}Jn(r)}r=!1}r&&(n=a[0])}}return a=gt(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},a.queue=r,a=$m.bind(null,ne,r),r.dispatch=a,r=ic(!1),d=cc.bind(null,ne,!1,r.queue),r=gt(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,a=y1.bind(null,ne,u,d,a),u.dispatch=a,r.memoizedState=e,[n,a,!1]}function jm(e){var n=Qe();return Lm(n,Ee,e)}function Lm(e,n,a){if(n=tc(e,n,km)[0],e=xr(Cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Pa(n)}catch(h){throw h===Ms?fr:h}else r=n;n=Qe();var u=n.queue,d=u.dispatch;return a!==n.memoizedState&&(ne.flags|=2048,Ls(9,{destroy:void 0},_1.bind(null,u,a),null)),[r,d,e]}function _1(e,n){e.action=n}function zm(e){var n=Qe(),a=Ee;if(a!==null)return Lm(n,a,e);Qe(),n=n.memoizedState,a=Qe();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function Ls(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=ne.updateQueue,n===null&&(n=br(),ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function Um(){return Qe().memoizedState}function Er(e,n,a,r){var u=gt();ne.flags|=e,u.memoizedState=Ls(1|n,{destroy:void 0},a,r===void 0?null:r)}function Tr(e,n,a,r){var u=Qe();r=r===void 0?null:r;var d=u.memoizedState.inst;Ee!==null&&r!==null&&Xu(r,Ee.memoizedState.deps)?u.memoizedState=Ls(n,d,a,r):(ne.flags|=e,u.memoizedState=Ls(1|n,d,a,r))}function Hm(e,n){Er(8390656,8,e,n)}function ac(e,n){Tr(2048,8,e,n)}function v1(e){ne.flags|=4;var n=ne.updateQueue;if(n===null)n=br(),ne.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Bm(e){var n=Qe().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((ye&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function qm(e,n){return Tr(4,2,e,n)}function Vm(e,n){return Tr(4,4,e,n)}function Gm(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pm(e,n,a){a=a!=null?a.concat([e]):null,Tr(4,4,Gm.bind(null,n,e),a)}function lc(){}function Ym(e,n){var a=Qe();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&Xu(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function Qm(e,n){var a=Qe();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&Xu(n,r[1]))return r[0];if(r=e(),Fi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[r,n],r}function rc(e,n,a){return a===void 0||(Tn&1073741824)!==0&&(oe&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Fp(),ne.lanes|=e,ri|=e,a)}function Fm(e,n,a,r){return Ot(a,n)?a:ks.current!==null?(e=rc(e,a,r),Ot(e,n)||(Xe=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(oe&261930)===0?(Xe=!0,e.memoizedState=a):(e=Fp(),ne.lanes|=e,ri|=e,n)}function Km(e,n,a,r,u){var d=P.p;P.p=d!==0&&8>d?d:8;var h=I.T,_={};I.T=_,cc(e,!1,n,a);try{var S=u(),N=I.S;if(N!==null&&N(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=m1(S,r);Ya(e,n,k,Lt(e))}else Ya(e,n,r,Lt(e))}catch(z){Ya(e,n,{then:function(){},status:"rejected",reason:z},Lt())}finally{P.p=d,h!==null&&_.types!==null&&(h.types=_.types),I.T=h}}function b1(){}function oc(e,n,a,r){if(e.tag!==5)throw Error(l(476));var u=Xm(e).queue;Km(e,u,n,Z,a===null?b1:function(){return Wm(e),a(r)})}function Xm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wm(e){var n=Xm(e);n.next===null&&(n=e.alternate.memoizedState),Ya(e,n.next.queue,{},Lt())}function uc(){return at(ol)}function Zm(){return Qe().memoizedState}function Jm(){return Qe().memoizedState}function S1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Lt();e=ti(a);var r=ni(n,e,a);r!==null&&(Tt(r,n,a),Ba(r,n,a)),n={cache:Uu()},e.payload=n;return}n=n.return}}function x1(e,n,a){var r=Lt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cr(e)?ep(n,a):(a=Nu(e,n,a,r),a!==null&&(Tt(a,e,r),tp(a,n,r)))}function $m(e,n,a){var r=Lt();Ya(e,n,a,r)}function Ya(e,n,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cr(e))ep(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,_=d(h,a);if(u.hasEagerState=!0,u.eagerState=_,Ot(_,h))return ar(e,n,u,0),Re===null&&sr(),!1}catch{}finally{}if(a=Nu(e,n,u,r),a!==null)return Tt(a,e,r),tp(a,n,r),!0}return!1}function cc(e,n,a,r){if(r={lane:2,revertLane:Vc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Cr(e)){if(n)throw Error(l(479))}else n=Nu(e,a,r,2),n!==null&&Tt(n,e,2)}function Cr(e){var n=e.alternate;return e===ne||n!==null&&n===ne}function ep(e,n){Is=_r=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function tp(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,lh(e,a)}}var Qa={readContext:at,use:Sr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Qa.useEffectEvent=Be;var np={readContext:at,use:Sr,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:at,useEffect:Hm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Er(4194308,4,Gm.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Er(4194308,4,e,n)},useInsertionEffect:function(e,n){Er(4,2,e,n)},useMemo:function(e,n){var a=gt();n=n===void 0?null:n;var r=e();if(Fi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=gt();if(a!==void 0){var u=a(n);if(Fi){Fn(!0);try{a(n)}finally{Fn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=x1.bind(null,ne,e),[r.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=ic(e);var n=e.queue,a=$m.bind(null,ne,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:lc,useDeferredValue:function(e,n){var a=gt();return rc(a,e,n)},useTransition:function(){var e=ic(!1);return e=Km.bind(null,ne,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=ne,u=gt();if(de){if(a===void 0)throw Error(l(407));a=a()}else{if(a=n(),Re===null)throw Error(l(349));(oe&127)!==0||Em(r,n,a)}u.memoizedState=a;var d={value:a,getSnapshot:n};return u.queue=d,Hm(Cm.bind(null,r,d,e),[e]),r.flags|=2048,Ls(9,{destroy:void 0},Tm.bind(null,r,d,a,n),null),a},useId:function(){var e=gt(),n=Re.identifierPrefix;if(de){var a=cn,r=un;a=(r&~(1<<32-Rt(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vr++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=p1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uc,useFormState:Im,useActionState:Im,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=cc.bind(null,ne,!0,a),a.dispatch=n,[e,n]},useMemoCache:ec,useCacheRefresh:function(){return gt().memoizedState=S1.bind(null,ne)},useEffectEvent:function(e){var n=gt(),a={impl:e};return n.memoizedState=a,function(){if((ye&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},dc={readContext:at,use:Sr,useCallback:Ym,useContext:at,useEffect:ac,useImperativeHandle:Pm,useInsertionEffect:qm,useLayoutEffect:Vm,useMemo:Qm,useReducer:xr,useRef:Um,useState:function(){return xr(Cn)},useDebugValue:lc,useDeferredValue:function(e,n){var a=Qe();return Fm(a,Ee.memoizedState,e,n)},useTransition:function(){var e=xr(Cn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:xm,useId:Zm,useHostTransitionStatus:uc,useFormState:jm,useActionState:jm,useOptimistic:function(e,n){var a=Qe();return Am(a,Ee,e,n)},useMemoCache:ec,useCacheRefresh:Jm};dc.useEffectEvent=Bm;var ip={readContext:at,use:Sr,useCallback:Ym,useContext:at,useEffect:ac,useImperativeHandle:Pm,useInsertionEffect:qm,useLayoutEffect:Vm,useMemo:Qm,useReducer:nc,useRef:Um,useState:function(){return nc(Cn)},useDebugValue:lc,useDeferredValue:function(e,n){var a=Qe();return Ee===null?rc(a,e,n):Fm(a,Ee.memoizedState,e,n)},useTransition:function(){var e=nc(Cn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:xm,useId:Zm,useHostTransitionStatus:uc,useFormState:zm,useActionState:zm,useOptimistic:function(e,n){var a=Qe();return Ee!==null?Am(a,Ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Jm};ip.useEffectEvent=Bm;function fc(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:v({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hc={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=Lt(),u=ti(r);u.payload=n,a!=null&&(u.callback=a),n=ni(e,u,r),n!==null&&(Tt(n,e,r),Ba(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=Lt(),u=ti(r);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=ni(e,u,r),n!==null&&(Tt(n,e,r),Ba(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Lt(),r=ti(a);r.tag=2,n!=null&&(r.callback=n),n=ni(e,r,a),n!==null&&(Tt(n,e,a),Ba(n,e,a))}};function sp(e,n,a,r,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,h):n.prototype&&n.prototype.isPureReactComponent?!Da(a,r)||!Da(u,d):!0}function ap(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&hc.enqueueReplaceState(n,n.state,null)}function Ki(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=v({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function lp(e){ir(e)}function rp(e){console.error(e)}function op(e){ir(e)}function wr(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function up(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mc(e,n,a){return a=ti(a),a.tag=3,a.payload={element:null},a.callback=function(){wr(e,n)},a}function cp(e){return e=ti(e),e.tag=3,e}function dp(e,n,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;e.payload=function(){return u(d)},e.callback=function(){up(n,a,r)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){up(n,a,r),typeof u!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function E1(e,n,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&As(n,a,u,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Pt===null?Ur():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===hr?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),Hc(e,r,u)),!1;case 22:return a.flags|=65536,r===hr?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),Hc(e,r,u)),!1}throw Error(l(435,a.tag))}return Hc(e,r,u),Ur(),!1}if(de)return n=Dt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==ku&&(e=Error(l(422),{cause:r}),ja(Bt(e,a)))):(r!==ku&&(n=Error(l(423),{cause:r}),ja(Bt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Bt(r,a),u=mc(e.stateNode,r,u),Pu(e,u),qe!==4&&(qe=2)),!1;var d=Error(l(520),{cause:r});if(d=Bt(d,a),el===null?el=[d]:el.push(d),qe!==4&&(qe=2),n===null)return!0;r=Bt(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=mc(a.stateNode,r,e),Pu(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(oi===null||!oi.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=cp(u),dp(u,e,a,r),Pu(a,u),!1}a=a.return}while(a!==null);return!1}var pc=Error(l(461)),Xe=!1;function lt(e,n,a,r){n.child=e===null?pm(n,null,a,r):Qi(n,e.child,a,r)}function fp(e,n,a,r,u){a=a.render;var d=n.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Vi(n),r=Wu(e,n,a,h,d,u),_=Zu(),e!==null&&!Xe?(Ju(e,n,u),wn(e,n,u)):(de&&_&&Mu(n),n.flags|=1,lt(e,n,r,u),n.child)}function hp(e,n,a,r,u){if(e===null){var d=a.type;return typeof d=="function"&&!Au(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,mp(e,n,d,r,u)):(e=rr(a.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Ec(e,u)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:Da,a(h,r)&&e.ref===n.ref)return wn(e,n,u)}return n.flags|=1,e=bn(d,r),e.ref=n.ref,e.return=n,n.child=e}function mp(e,n,a,r,u){if(e!==null){var d=e.memoizedProps;if(Da(d,r)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=r=d,Ec(e,u))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,wn(e,n,u)}return gc(e,n,a,r,u)}function pp(e,n,a,r){var u=r.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~d}else r=0,n.child=null;return gp(e,n,d,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&dr(n,d!==null?d.cachePool:null),d!==null?_m(n,d):Qu(),vm(n);else return r=n.lanes=536870912,gp(e,n,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(dr(n,d.cachePool),_m(n,d),si(),n.memoizedState=null):(e!==null&&dr(n,null),Qu(),si());return lt(e,n,u,a),n.child}function Fa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gp(e,n,a,r,u){var d=Bu();return d=d===null?null:{parent:Fe._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&dr(n,null),Qu(),vm(n),e!==null&&As(e,n,r,!0),n.childLanes=u,null}function Nr(e,n){return n=Rr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yp(e,n,a){return Qi(n,e.child,null,a),e=Nr(n,n.pendingProps),e.flags|=2,kt(n),n.memoizedState=null,e}function T1(e,n,a){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(de){if(r.mode==="hidden")return e=Nr(n,r),n.lanes=536870912,Fa(null,e);if(Ku(n),(e=Me)?(e=Rg(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=em(e),a.return=n,n.child=a,st=n,Me=null)):e=null,e===null)throw Jn(n);return n.lanes=536870912,null}return Nr(n,r)}var d=e.memoizedState;if(d!==null){var h=d.dehydrated;if(Ku(n),u)if(n.flags&256)n.flags&=-257,n=yp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Xe||As(e,n,a,!1),u=(a&e.childLanes)!==0,Xe||u){if(r=Re,r!==null&&(h=rh(r,a),h!==0&&h!==d.retryLane))throw d.retryLane=h,Ui(e,h),Tt(r,e,h),pc;Ur(),n=yp(e,n,a)}else e=d.treeContext,Me=Yt(h.nextSibling),st=n,de=!0,Zn=null,Gt=!1,e!==null&&im(n,e),n=Nr(n,r),n.flags|=4096;return n}return e=bn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ar(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function gc(e,n,a,r,u){return Vi(n),a=Wu(e,n,a,r,void 0,u),r=Zu(),e!==null&&!Xe?(Ju(e,n,u),wn(e,n,u)):(de&&r&&Mu(n),n.flags|=1,lt(e,n,a,u),n.child)}function _p(e,n,a,r,u,d){return Vi(n),n.updateQueue=null,a=Sm(n,r,a,u),bm(e),r=Zu(),e!==null&&!Xe?(Ju(e,n,d),wn(e,n,d)):(de&&r&&Mu(n),n.flags|=1,lt(e,n,a,d),n.child)}function vp(e,n,a,r,u){if(Vi(n),n.stateNode===null){var d=Ts,h=a.contextType;typeof h=="object"&&h!==null&&(d=at(h)),d=new a(r,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=r,d.state=n.memoizedState,d.refs={},Vu(n),h=a.contextType,d.context=typeof h=="object"&&h!==null?at(h):Ts,d.state=n.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(fc(n,a,h,r),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&hc.enqueueReplaceState(d,d.state,null),Va(n,r,d,u),qa(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){d=n.stateNode;var _=n.memoizedProps,S=Ki(a,_);d.props=S;var N=d.context,k=a.contextType;h=Ts,typeof k=="object"&&k!==null&&(h=at(k));var z=a.getDerivedStateFromProps;k=typeof z=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,k||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||N!==h)&&ap(n,d,r,h),ei=!1;var A=n.memoizedState;d.state=A,Va(n,r,d,u),qa(),N=n.memoizedState,_||A!==N||ei?(typeof z=="function"&&(fc(n,a,z,r),N=n.memoizedState),(S=ei||sp(n,a,S,r,A,N,h))?(k||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),d.props=r,d.state=N,d.context=h,r=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{d=n.stateNode,Gu(e,n),h=n.memoizedProps,k=Ki(a,h),d.props=k,z=n.pendingProps,A=d.context,N=a.contextType,S=Ts,typeof N=="object"&&N!==null&&(S=at(N)),_=a.getDerivedStateFromProps,(N=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==z||A!==S)&&ap(n,d,r,S),ei=!1,A=n.memoizedState,d.state=A,Va(n,r,d,u),qa();var R=n.memoizedState;h!==z||A!==R||ei||e!==null&&e.dependencies!==null&&ur(e.dependencies)?(typeof _=="function"&&(fc(n,a,_,r),R=n.memoizedState),(k=ei||sp(n,a,k,r,A,R,S)||e!==null&&e.dependencies!==null&&ur(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,R,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,R,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),d.props=r,d.state=R,d.context=S,r=k):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),r=!1)}return d=r,Ar(e,n),r=(n.flags&128)!==0,d||r?(d=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&r?(n.child=Qi(n,e.child,null,u),n.child=Qi(n,null,a,u)):lt(e,n,a,u),n.memoizedState=d.state,e=n.child):e=wn(e,n,u),e}function bp(e,n,a,r){return Bi(),n.flags|=256,lt(e,n,a,r),n.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:um()}}function vc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=jt),e}function Sp(e,n,a){var r=n.pendingProps,u=!1,d=(n.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),h&&(u=!0,n.flags&=-129),h=(n.flags&32)!==0,n.flags&=-33,e===null){if(de){if(u?ii(n):si(),(e=Me)?(e=Rg(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=em(e),a.return=n,n.child=a,st=n,Me=null)):e=null,e===null)throw Jn(n);return td(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?(si(),u=n.mode,_=Rr({mode:"hidden",children:_},u),r=Hi(r,u,a,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=_c(a),r.childLanes=vc(e,h,a),n.memoizedState=yc,Fa(null,r)):(ii(n),bc(n,_))}var S=e.memoizedState;if(S!==null&&(_=S.dehydrated,_!==null)){if(d)n.flags&256?(ii(n),n.flags&=-257,n=Sc(e,n,a)):n.memoizedState!==null?(si(),n.child=e.child,n.flags|=128,n=null):(si(),_=r.fallback,u=n.mode,r=Rr({mode:"visible",children:r.children},u),_=Hi(_,u,a,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Qi(n,e.child,null,a),r=n.child,r.memoizedState=_c(a),r.childLanes=vc(e,h,a),n.memoizedState=yc,n=Fa(null,r));else if(ii(n),td(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var N=h.dgst;h=N,r=Error(l(419)),r.stack="",r.digest=h,ja({value:r,source:null,stack:null}),n=Sc(e,n,a)}else if(Xe||As(e,n,a,!1),h=(a&e.childLanes)!==0,Xe||h){if(h=Re,h!==null&&(r=rh(h,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,Ui(e,r),Tt(h,e,r),pc;ed(_)||Ur(),n=Sc(e,n,a)}else ed(_)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Me=Yt(_.nextSibling),st=n,de=!0,Zn=null,Gt=!1,e!==null&&im(n,e),n=bc(n,r.children),n.flags|=4096);return n}return u?(si(),_=r.fallback,u=n.mode,S=e.child,N=S.sibling,r=bn(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,N!==null?_=bn(N,_):(_=Hi(_,u,a,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Fa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=_c(a):(u=_.cachePool,u!==null?(S=Fe._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=um(),_={baseLanes:_.baseLanes|a,cachePool:u}),r.memoizedState=_,r.childLanes=vc(e,h,a),n.memoizedState=yc,Fa(e.child,r)):(ii(n),a=e.child,e=a.sibling,a=bn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(h=n.deletions,h===null?(n.deletions=[e],n.flags|=16):h.push(e)),n.child=a,n.memoizedState=null,a)}function bc(e,n){return n=Rr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Rr(e,n){return e=Mt(22,e,null,n),e.lanes=0,e}function Sc(e,n,a){return Qi(n,e.child,null,a),e=bc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Lu(e.return,n,a)}function xc(e,n,a,r,u,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=a,h.tailMode=u,h.treeForkCount=d)}function Ep(e,n,a){var r=n.pendingProps,u=r.revealOrder,d=r.tail;r=r.children;var h=Ye.current,_=(h&2)!==0;if(_?(h=h&1|2,n.flags|=128):h&=1,Y(Ye,h),lt(e,n,r,a),r=de?Ia:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,a,n);else if(e.tag===19)xp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&yr(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),xc(n,!1,u,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&yr(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}xc(n,!0,a,null,d,r);break;case"together":xc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function wn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ri|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(As(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,a=bn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ec(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ur(e)))}function C1(e,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),$n(n,Fe,e.memoizedState.cache),Bi();break;case 27:case 5:va(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:$n(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ku(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ii(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sp(e,n,a):(ii(n),e=wn(e,n,a),e!==null?e.sibling:null);ii(n);break;case 19:var u=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(As(e,n,a,!1),r=(a&n.childLanes)!==0),u){if(r)return Ep(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(Ye,Ye.current),r)break;return null;case 22:return n.lanes=0,pp(e,n,a,n.pendingProps);case 24:$n(n,Fe,e.memoizedState.cache)}return wn(e,n,a)}function Tp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Ec(e,a)&&(n.flags&128)===0)return Xe=!1,C1(e,n,a);Xe=(e.flags&131072)!==0}else Xe=!1,de&&(n.flags&1048576)!==0&&nm(n,Ia,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Pi(n.elementType),n.type=e,typeof e=="function")Au(e)?(r=Ki(e,r),n.tag=1,n=vp(null,n,e,r,a)):(n.tag=0,n=gc(null,n,e,r,a));else{if(e!=null){var u=e.$$typeof;if(u===se){n.tag=11,n=fp(null,n,e,r,a);break e}else if(u===ee){n.tag=14,n=hp(null,n,e,r,a);break e}}throw n=Zt(e)||e,Error(l(306,n,""))}}return n;case 0:return gc(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,u=Ki(r,n.pendingProps),vp(e,n,r,u,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var d=n.memoizedState;u=d.element,Gu(e,n),Va(n,r,null,a);var h=n.memoizedState;if(r=h.cache,$n(n,Fe,r),r!==d.cache&&zu(n,[Fe],a,!0),qa(),r=h.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:h.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=bp(e,n,r,a);break e}else if(r!==u){u=Bt(Error(l(424)),n),ja(u),n=bp(e,n,r,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Yt(e.firstChild),st=n,de=!0,Zn=null,Gt=!0,a=pm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bi(),r===u){n=wn(e,n,a);break e}lt(e,n,r,a)}n=n.child}return n;case 26:return Ar(e,n),e===null?(a=jg(n.type,null,n.pendingProps,null))?n.memoizedState=a:de||(a=n.type,e=n.pendingProps,r=Yr(ae.current).createElement(a),r[it]=n,r[_t]=e,rt(r,a,e),$e(r),n.stateNode=r):n.memoizedState=jg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return va(n),e===null&&de&&(r=n.stateNode=Dg(n.type,n.pendingProps,ae.current),st=n,Gt=!0,u=Me,fi(n.type)?(nd=u,Me=Yt(r.firstChild)):Me=u),lt(e,n,n.pendingProps.children,a),Ar(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&de&&((u=r=Me)&&(r=tS(r,n.type,n.pendingProps,Gt),r!==null?(n.stateNode=r,st=n,Me=Yt(r.firstChild),Gt=!1,u=!0):u=!1),u||Jn(n)),va(n),u=n.type,d=n.pendingProps,h=e!==null?e.memoizedProps:null,r=d.children,Zc(u,d)?r=null:h!==null&&Zc(u,h)&&(n.flags|=32),n.memoizedState!==null&&(u=Wu(e,n,g1,null,null,a),ol._currentValue=u),Ar(e,n),lt(e,n,r,a),n.child;case 6:return e===null&&de&&((e=a=Me)&&(a=nS(a,n.pendingProps,Gt),a!==null?(n.stateNode=a,st=n,Me=null,e=!0):e=!1),e||Jn(n)),null;case 13:return Sp(e,n,a);case 4:return pt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Qi(n,null,r,a):lt(e,n,r,a),n.child;case 11:return fp(e,n,n.type,n.pendingProps,a);case 7:return lt(e,n,n.pendingProps,a),n.child;case 8:return lt(e,n,n.pendingProps.children,a),n.child;case 12:return lt(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,$n(n,n.type,r.value),lt(e,n,r.children,a),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Vi(n),u=at(u),r=r(u),n.flags|=1,lt(e,n,r,a),n.child;case 14:return hp(e,n,n.type,n.pendingProps,a);case 15:return mp(e,n,n.type,n.pendingProps,a);case 19:return Ep(e,n,a);case 31:return T1(e,n,a);case 22:return pp(e,n,a,n.pendingProps);case 24:return Vi(n),r=at(Fe),e===null?(u=Bu(),u===null&&(u=Re,d=Uu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),n.memoizedState={parent:r,cache:u},Vu(n),$n(n,Fe,u)):((e.lanes&a)!==0&&(Gu(e,n),Va(n,null,null,a),qa()),u=e.memoizedState,d=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),$n(n,Fe,r)):(r=d.cache,$n(n,Fe,r),r!==u.cache&&zu(n,[Fe],a,!0))),lt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Nn(e){e.flags|=4}function Tc(e,n,a,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Zp())e.flags|=8192;else throw Yi=hr,qu}else e.flags&=-16777217}function Cp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bg(n))if(Zp())e.flags|=8192;else throw Yi=hr,qu}function Or(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?sh():536870912,e.lanes|=n,Bs|=n)}function Ka(e,n){if(!de)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function w1(e,n,a){var r=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(n),null;case 1:return De(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),En(Fe),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ns(n)?Nn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Iu())),De(n),null;case 26:var u=n.type,d=n.memoizedState;return e===null?(Nn(n),d!==null?(De(n),Cp(n,d)):(De(n),Tc(n,u,null,r,a))):d?d!==e.memoizedState?(Nn(n),De(n),Cp(n,d)):(De(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Nn(n),De(n),Tc(n,u,e,r,a)),null;case 27:if(ql(n),a=ae.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Nn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return De(n),null}e=F.current,Ns(n)?sm(n):(e=Dg(u,r,a),n.stateNode=e,Nn(n))}return De(n),null;case 5:if(ql(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Nn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return De(n),null}if(d=F.current,Ns(n))sm(n);else{var h=Yr(ae.current);switch(d){case 1:d=h.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=h.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=h.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=h.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?h.createElement(u,{is:r.is}):h.createElement(u)}}d[it]=n,d[_t]=r;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)d.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=d;e:switch(rt(d,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Nn(n)}}return De(n),Tc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Nn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ae.current,Ns(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,u=st,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[it]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Sg(e.nodeValue,a)),e||Jn(n,!0)}else e=Yr(e).createTextNode(r),e[it]=n,n.stateNode=e}return De(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=Ns(n),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),e=!1}else a=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return De(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ns(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[it]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),u=!1}else u=Iu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==u&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Or(n,n.updateQueue),De(n),null);case 4:return Pe(),e===null&&Qc(n.stateNode.containerInfo),De(n),null;case 10:return En(n.type),De(n),null;case 19:if(U(Ye),r=n.memoizedState,r===null)return De(n),null;if(u=(n.flags&128)!==0,d=r.rendering,d===null)if(u)Ka(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=yr(e),d!==null){for(n.flags|=128,Ka(r,!1),e=d.updateQueue,n.updateQueue=e,Or(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)$h(a,e),a=a.sibling;return Y(Ye,Ye.current&1|2),de&&Sn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Nt()>jr&&(n.flags|=128,u=!0,Ka(r,!1),n.lanes=4194304)}else{if(!u)if(e=yr(d),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Or(n,e),Ka(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!de)return De(n),null}else 2*Nt()-r.renderingStartTime>jr&&a!==536870912&&(n.flags|=128,u=!0,Ka(r,!1),n.lanes=4194304);r.isBackwards?(d.sibling=n.child,n.child=d):(e=r.last,e!==null?e.sibling=d:n.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,a=Ye.current,Y(Ye,u?a&1|2:a&1),de&&Sn(n,r.treeForkCount),e):(De(n),null);case 22:case 23:return kt(n),Fu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(De(n),n.subtreeFlags&6&&(n.flags|=8192)):De(n),a=n.updateQueue,a!==null&&Or(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&U(Gi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),En(Fe),De(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function N1(e,n){switch(Du(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(Fe),Pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ql(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(l(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Ye),null;case 4:return Pe(),null;case 10:return En(n.type),null;case 22:case 23:return kt(n),Fu(),e!==null&&U(Gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return En(Fe),null;case 25:return null;default:return null}}function wp(e,n){switch(Du(n),n.tag){case 3:En(Fe),Pe();break;case 26:case 27:case 5:ql(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:U(Ye);break;case 10:En(n.type);break;case 22:case 23:kt(n),Fu(),e!==null&&U(Gi);break;case 24:En(Fe)}}function Xa(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&e)===e){r=void 0;var d=a.create,h=a.inst;r=d(),h.destroy=r}a=a.next}while(a!==u)}}catch(_){Se(n,n.return,_)}}function ai(e,n,a){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var d=u.next;r=d;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,u=n;var S=a,N=_;try{N()}catch(k){Se(u,S,k)}}}r=r.next}while(r!==d)}}catch(k){Se(n,n.return,k)}}function Np(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ym(n,a)}catch(r){Se(e,e.return,r)}}}function Ap(e,n,a){a.props=Ki(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Se(e,n,r)}}function Wa(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(u){Se(e,n,u)}}function dn(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){Se(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Se(e,n,u)}else a.current=null}function Rp(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){Se(e,e.return,u)}}function Cc(e,n,a){try{var r=e.stateNode;X1(r,e.type,a,n),r[_t]=n}catch(u){Se(e,e.return,u)}}function Op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nc(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=_n));else if(r!==4&&(r===27&&fi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Nc(e,n,a),e=e.sibling;e!==null;)Nc(e,n,a),e=e.sibling}function Mr(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&fi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Mr(e,n,a),e=e.sibling;e!==null;)Mr(e,n,a),e=e.sibling}function Mp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);rt(n,r,a),n[it]=e,n[_t]=a}catch(d){Se(e,e.return,d)}}var An=!1,We=!1,Ac=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,et=null;function A1(e,n){if(e=e.containerInfo,Xc=Jr,e=Ph(e),Su(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,_=-1,S=-1,N=0,k=0,z=e,A=null;t:for(;;){for(var R;z!==a||u!==0&&z.nodeType!==3||(_=h+u),z!==d||r!==0&&z.nodeType!==3||(S=h+r),z.nodeType===3&&(h+=z.nodeValue.length),(R=z.firstChild)!==null;)A=z,z=R;for(;;){if(z===e)break t;if(A===a&&++N===u&&(_=h),A===d&&++k===r&&(S=h),(R=z.nextSibling)!==null)break;z=A,A=z.parentNode}z=R}a=_===-1||S===-1?null:{start:_,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wc={focusedElem:e,selectionRange:a},Jr=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,u=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var Q=Ki(a.type,u);e=r.getSnapshotBeforeUpdate(Q,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(W){Se(a,a.return,W)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)$c(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$c(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function kp(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:On(e,a),r&4&&Xa(5,a);break;case 1:if(On(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(h){Se(a,a.return,h)}else{var u=Ki(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Se(a,a.return,h)}}r&64&&Np(a),r&512&&Wa(a,a.return);break;case 3:if(On(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ym(e,n)}catch(h){Se(a,a.return,h)}}break;case 27:n===null&&r&4&&Mp(a);case 26:case 5:On(e,a),n===null&&r&4&&Rp(a),r&512&&Wa(a,a.return);break;case 12:On(e,a);break;case 31:On(e,a),r&4&&Lp(e,a);break;case 13:On(e,a),r&4&&zp(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=z1.bind(null,a),iS(e,a))));break;case 22:if(r=a.memoizedState!==null||An,!r){n=n!==null&&n.memoizedState!==null||We,u=An;var d=We;An=r,(We=n)&&!d?Mn(e,a,(a.subtreeFlags&8772)!==0):On(e,a),An=u,We=d}break;case 30:break;default:On(e,a)}}function Ip(e){var n=e.alternate;n!==null&&(e.alternate=null,Ip(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&su(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,bt=!1;function Rn(e,n,a){for(a=a.child;a!==null;)jp(e,n,a),a=a.sibling}function jp(e,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ba,a)}catch{}switch(a.tag){case 26:We||dn(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||dn(a,n);var r=Ue,u=bt;fi(a.type)&&(Ue=a.stateNode,bt=!1),Rn(e,n,a),al(a.stateNode),Ue=r,bt=u;break;case 5:We||dn(a,n);case 6:if(r=Ue,u=bt,Ue=null,Rn(e,n,a),Ue=r,bt=u,Ue!==null)if(bt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(d){Se(a,n,d)}else try{Ue.removeChild(a.stateNode)}catch(d){Se(a,n,d)}break;case 18:Ue!==null&&(bt?(e=Ue,Ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ks(e)):Ng(Ue,a.stateNode));break;case 4:r=Ue,u=bt,Ue=a.stateNode.containerInfo,bt=!0,Rn(e,n,a),Ue=r,bt=u;break;case 0:case 11:case 14:case 15:ai(2,a,n),We||ai(4,a,n),Rn(e,n,a);break;case 1:We||(dn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Ap(a,n,r)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:We=(r=We)||a.memoizedState!==null,Rn(e,n,a),We=r;break;default:Rn(e,n,a)}}function Lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ks(e)}catch(a){Se(n,n.return,a)}}}function zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ks(e)}catch(a){Se(n,n.return,a)}}function R1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dp),n;default:throw Error(l(435,e.tag))}}function Dr(e,n){var a=R1(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var u=U1.bind(null,e,r);r.then(u,u)}})}function St(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],d=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(fi(_.type)){Ue=_.stateNode,bt=!1;break e}break;case 5:Ue=_.stateNode,bt=!1;break e;case 3:case 4:Ue=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(Ue===null)throw Error(l(160));jp(d,h,u),Ue=null,bt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,e),n=n.sibling}var en=null;function Up(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(n,e),xt(e),r&4&&(ai(3,e,e.return),Xa(3,e),ai(5,e,e.return));break;case 1:St(n,e),xt(e),r&512&&(We||a===null||dn(a,a.return)),r&64&&An&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=en;if(St(n,e),xt(e),r&512&&(We||a===null||dn(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Ea]||d[it]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(r),u.head.insertBefore(d,u.querySelector("head > title"))),rt(d,r,a),d[it]=e,$e(d),r=d;break e;case"link":var h=Ug("link","href",u).get(r+(a.href||""));if(h){for(var _=0;_<h.length;_++)if(d=h[_],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(_,1);break t}}d=u.createElement(r),rt(d,r,a),u.head.appendChild(d);break;case"meta":if(h=Ug("meta","content",u).get(r+(a.content||""))){for(_=0;_<h.length;_++)if(d=h[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(_,1);break t}}d=u.createElement(r),rt(d,r,a),u.head.appendChild(d);break;default:throw Error(l(468,r))}d[it]=e,$e(d),r=d}e.stateNode=r}else Hg(u,e.type,e.stateNode);else e.stateNode=zg(u,r,e.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?Hg(u,e.type,e.stateNode):zg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Cc(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(n,e),xt(e),r&512&&(We||a===null||dn(a,a.return)),a!==null&&r&4&&Cc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(n,e),xt(e),r&512&&(We||a===null||dn(a,a.return)),e.flags&32){u=e.stateNode;try{ys(u,"")}catch(Q){Se(e,e.return,Q)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Cc(e,u,a!==null?a.memoizedProps:u)),r&1024&&(Ac=!0);break;case 6:if(St(n,e),xt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Q){Se(e,e.return,Q)}}break;case 3:if(Kr=null,u=en,en=Qr(n.containerInfo),St(n,e),en=u,xt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ks(n.containerInfo)}catch(Q){Se(e,e.return,Q)}Ac&&(Ac=!1,Hp(e));break;case 4:r=en,en=Qr(e.stateNode.containerInfo),St(n,e),xt(e),en=r;break;case 12:St(n,e),xt(e);break;case 31:St(n,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 13:St(n,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ir=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 22:u=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=An,k=We;if(An=N||u,We=k||S,St(n,e),We=k,An=N,xt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||S||An||We||Xi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(d=S.stateNode,u)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=S.stateNode;var z=S.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(Q){Se(S,S.return,Q)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(Q){Se(S,S.return,Q)}}}else if(n.tag===18){if(a===null){S=n;try{var R=S.stateNode;u?Ag(R,!0):Ag(S.stateNode,!1)}catch(Q){Se(S,S.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Dr(e,a))));break;case 19:St(n,e),xt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Dr(e,r)));break;case 30:break;case 21:break;default:St(n,e),xt(e)}}function xt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(Op(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,d=wc(e);Mr(e,d,u);break;case 5:var h=a.stateNode;a.flags&32&&(ys(h,""),a.flags&=-33);var _=wc(e);Mr(e,_,h);break;case 3:case 4:var S=a.stateNode.containerInfo,N=wc(e);Nc(e,N,S);break;default:throw Error(l(161))}}catch(k){Se(e,e.return,k)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function On(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kp(e,n.alternate,n),n=n.sibling}function Xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ai(4,n,n.return),Xi(n);break;case 1:dn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ap(n,n.return,a),Xi(n);break;case 27:al(n.stateNode);case 26:case 5:dn(n,n.return),Xi(n);break;case 22:n.memoizedState===null&&Xi(n);break;case 30:Xi(n);break;default:Xi(n)}e=e.sibling}}function Mn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,d=n,h=d.flags;switch(d.tag){case 0:case 11:case 15:Mn(u,d,a),Xa(4,d);break;case 1:if(Mn(u,d,a),r=d,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Se(r,r.return,N)}if(r=d,u=r.updateQueue,u!==null){var _=r.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)gm(S[u],_)}catch(N){Se(r,r.return,N)}}a&&h&64&&Np(d),Wa(d,d.return);break;case 27:Mp(d);case 26:case 5:Mn(u,d,a),a&&r===null&&h&4&&Rp(d),Wa(d,d.return);break;case 12:Mn(u,d,a);break;case 31:Mn(u,d,a),a&&h&4&&Lp(u,d);break;case 13:Mn(u,d,a),a&&h&4&&zp(u,d);break;case 22:d.memoizedState===null&&Mn(u,d,a),Wa(d,d.return);break;case 30:break;default:Mn(u,d,a)}n=n.sibling}}function Rc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&La(a))}function Oc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&La(e))}function tn(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bp(e,n,a,r),n=n.sibling}function Bp(e,n,a,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,a,r),u&2048&&Xa(9,n);break;case 1:tn(e,n,a,r);break;case 3:tn(e,n,a,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&La(e)));break;case 12:if(u&2048){tn(e,n,a,r),e=n.stateNode;try{var d=n.memoizedProps,h=d.id,_=d.onPostCommit;typeof _=="function"&&_(h,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Se(n,n.return,S)}}else tn(e,n,a,r);break;case 31:tn(e,n,a,r);break;case 13:tn(e,n,a,r);break;case 23:break;case 22:d=n.stateNode,h=n.alternate,n.memoizedState!==null?d._visibility&2?tn(e,n,a,r):Za(e,n):d._visibility&2?tn(e,n,a,r):(d._visibility|=2,zs(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Rc(h,n);break;case 24:tn(e,n,a,r),u&2048&&Oc(n.alternate,n);break;default:tn(e,n,a,r)}}function zs(e,n,a,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,h=n,_=a,S=r,N=h.flags;switch(h.tag){case 0:case 11:case 15:zs(d,h,_,S,u),Xa(8,h);break;case 23:break;case 22:var k=h.stateNode;h.memoizedState!==null?k._visibility&2?zs(d,h,_,S,u):Za(d,h):(k._visibility|=2,zs(d,h,_,S,u)),u&&N&2048&&Rc(h.alternate,h);break;case 24:zs(d,h,_,S,u),u&&N&2048&&Oc(h.alternate,h);break;default:zs(d,h,_,S,u)}n=n.sibling}}function Za(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,u=r.flags;switch(r.tag){case 22:Za(a,r),u&2048&&Rc(r.alternate,r);break;case 24:Za(a,r),u&2048&&Oc(r.alternate,r);break;default:Za(a,r)}n=n.sibling}}var Ja=8192;function Us(e,n,a){if(e.subtreeFlags&Ja)for(e=e.child;e!==null;)qp(e,n,a),e=e.sibling}function qp(e,n,a){switch(e.tag){case 26:Us(e,n,a),e.flags&Ja&&e.memoizedState!==null&&pS(a,en,e.memoizedState,e.memoizedProps);break;case 5:Us(e,n,a);break;case 3:case 4:var r=en;en=Qr(e.stateNode.containerInfo),Us(e,n,a),en=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ja,Ja=16777216,Us(e,n,a),Ja=r):Us(e,n,a));break;default:Us(e,n,a)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $a(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];et=r,Pp(r,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:$a(e),e.flags&2048&&ai(9,e,e.return);break;case 3:$a(e);break;case 12:$a(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,kr(e)):$a(e);break;default:$a(e)}}function kr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];et=r,Pp(r,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ai(8,n,n.return),kr(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,kr(n));break;default:kr(n)}e=e.sibling}}function Pp(e,n){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:ai(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:La(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,et=r;else e:for(a=e;et!==null;){r=et;var u=r.sibling,d=r.return;if(Ip(r),r===a){et=null;break e}if(u!==null){u.return=d,et=u;break e}et=d}}}var O1={getCacheForType:function(e){var n=at(Fe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return at(Fe).controller.signal}},M1=typeof WeakMap=="function"?WeakMap:Map,ye=0,Re=null,le=null,oe=0,be=0,It=null,li=!1,Hs=!1,Mc=!1,Dn=0,qe=0,ri=0,Wi=0,Dc=0,jt=0,Bs=0,el=null,Et=null,kc=!1,Ir=0,Yp=0,jr=1/0,Lr=null,oi=null,Ze=0,ui=null,qs=null,kn=0,Ic=0,jc=null,Qp=null,tl=0,Lc=null;function Lt(){return(ye&2)!==0&&oe!==0?oe&-oe:I.T!==null?Vc():oh()}function Fp(){if(jt===0)if((oe&536870912)===0||de){var e=Pl;Pl<<=1,(Pl&3932160)===0&&(Pl=262144),jt=e}else jt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),jt}function Tt(e,n,a){(e===Re&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),ci(e,oe,jt,!1)),xa(e,a),((ye&2)===0||e!==Re)&&(e===Re&&((ye&2)===0&&(Wi|=a),qe===4&&ci(e,oe,jt,!1)),fn(e))}function Kp(e,n,a){if((ye&6)!==0)throw Error(l(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Sa(e,n),u=r?I1(e,n):Uc(e,n,!0),d=r;do{if(u===0){Hs&&!r&&ci(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!D1(a)){u=Uc(e,n,!1),d=!1;continue}if(u===2){if(d=n,e.errorRecoveryDisabledLanes&d)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){n=h;e:{var _=e;u=el;var S=_.current.memoizedState.isDehydrated;if(S&&(Vs(_,h).flags|=256),h=Uc(_,h,!1),h!==2){if(Mc&&!S){_.errorRecoveryDisabledLanes|=d,Wi|=d,u=4;break e}d=Et,Et=u,d!==null&&(Et===null?Et=d:Et.push.apply(Et,d))}u=h}if(d=!1,u!==2)continue}}if(u===1){Vs(e,0),ci(e,n,0,!0);break}e:{switch(r=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:ci(r,n,jt,!li);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Ir+300-Nt(),10<u)){if(ci(r,n,jt,!li),Ql(r,0,!0)!==0)break e;kn=n,r.timeoutHandle=Cg(Xp.bind(null,r,a,Et,Lr,kc,n,jt,Wi,Bs,li,d,"Throttled",-0,0),u);break e}Xp(r,a,Et,Lr,kc,n,jt,Wi,Bs,li,d,null,-0,0)}}break}while(!0);fn(e)}function Xp(e,n,a,r,u,d,h,_,S,N,k,z,A,R){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},qp(n,d,z);var Q=(d&62914560)===d?Ir-Nt():(d&4194048)===d?Yp-Nt():0;if(Q=gS(z,Q),Q!==null){kn=d,e.cancelPendingCommit=Q(ig.bind(null,e,n,d,a,r,u,h,_,S,k,z,null,A,R)),ci(e,d,h,!N);return}}ig(e,n,d,a,r,u,h,_,S)}function D1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],d=u.getSnapshot;u=u.value;try{if(!Ot(d(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(e,n,a,r){n&=~Dc,n&=~Wi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var d=31-Rt(u),h=1<<d;r[d]=-1,u&=~h}a!==0&&ah(e,a,n)}function zr(){return(ye&6)===0?(nl(0),!1):!0}function zc(){if(le!==null){if(be===0)var e=le.return;else e=le,xn=qi=null,$u(e),Ds=null,Ua=0,e=le;for(;e!==null;)wp(e.alternate,e),e=e.return;le=null}}function Vs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kn=0,zc(),Re=e,le=a=bn(e.current,null),oe=n,be=0,It=null,li=!1,Hs=Sa(e,n),Mc=!1,Bs=jt=Dc=Wi=ri=qe=0,Et=el=null,kc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Rt(r),d=1<<u;n|=e[u],r&=~d}return Dn=n,sr(),a}function Wp(e,n){ne=null,I.H=Qa,n===Ms||n===fr?(n=fm(),be=3):n===qu?(n=fm(),be=4):be=n===pc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,le===null&&(qe=1,wr(e,Bt(n,e.current)))}function Zp(){var e=Dt.current;return e===null?!0:(oe&4194048)===oe?Pt===null:(oe&62914560)===oe||(oe&536870912)!==0?e===Pt:!1}function Jp(){var e=I.H;return I.H=Qa,e===null?Qa:e}function $p(){var e=I.A;return I.A=O1,e}function Ur(){qe=4,li||(oe&4194048)!==oe&&Dt.current!==null||(Hs=!0),(ri&134217727)===0&&(Wi&134217727)===0||Re===null||ci(Re,oe,jt,!1)}function Uc(e,n,a){var r=ye;ye|=2;var u=Jp(),d=$p();(Re!==e||oe!==n)&&(Lr=null,Vs(e,n)),n=!1;var h=qe;e:do try{if(be!==0&&le!==null){var _=le,S=It;switch(be){case 8:zc(),h=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(n=!0);var N=be;if(be=0,It=null,Gs(e,_,S,N),a&&Hs){h=0;break e}break;default:N=be,be=0,It=null,Gs(e,_,S,N)}}k1(),h=qe;break}catch(k){Wp(e,k)}while(!0);return n&&e.shellSuspendCounter++,xn=qi=null,ye=r,I.H=u,I.A=d,le===null&&(Re=null,oe=0,sr()),h}function k1(){for(;le!==null;)eg(le)}function I1(e,n){var a=ye;ye|=2;var r=Jp(),u=$p();Re!==e||oe!==n?(Lr=null,jr=Nt()+500,Vs(e,n)):Hs=Sa(e,n);e:do try{if(be!==0&&le!==null){n=le;var d=It;t:switch(be){case 1:be=0,It=null,Gs(e,n,d,1);break;case 2:case 9:if(cm(d)){be=0,It=null,tg(n);break}n=function(){be!==2&&be!==9||Re!==e||(be=7),fn(e)},d.then(n,n);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:cm(d)?(be=0,It=null,tg(n)):(be=0,It=null,Gs(e,n,d,7));break;case 5:var h=null;switch(le.tag){case 26:h=le.memoizedState;case 5:case 27:var _=le;if(h?Bg(h):_.stateNode.complete){be=0,It=null;var S=_.sibling;if(S!==null)le=S;else{var N=_.return;N!==null?(le=N,Hr(N)):le=null}break t}}be=0,It=null,Gs(e,n,d,5);break;case 6:be=0,It=null,Gs(e,n,d,6);break;case 8:zc(),qe=6;break e;default:throw Error(l(462))}}j1();break}catch(k){Wp(e,k)}while(!0);return xn=qi=null,I.H=r,I.A=u,ye=a,le!==null?0:(Re=null,oe=0,sr(),qe)}function j1(){for(;le!==null&&!sb();)eg(le)}function eg(e){var n=Tp(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,n===null?Hr(e):le=n}function tg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=_p(a,n,n.pendingProps,n.type,void 0,oe);break;case 11:n=_p(a,n,n.pendingProps,n.type.render,n.ref,oe);break;case 5:$u(n);default:wp(a,n),n=le=$h(n,Dn),n=Tp(a,n,Dn)}e.memoizedProps=e.pendingProps,n===null?Hr(e):le=n}function Gs(e,n,a,r){xn=qi=null,$u(n),Ds=null,Ua=0;var u=n.return;try{if(E1(e,u,n,a,oe)){qe=1,wr(e,Bt(a,e.current)),le=null;return}}catch(d){if(u!==null)throw le=u,d;qe=1,wr(e,Bt(a,e.current)),le=null;return}n.flags&32768?(de||r===1?e=!0:Hs||(oe&536870912)!==0?e=!1:(li=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),ng(n,e)):Hr(n)}function Hr(e){var n=e;do{if((n.flags&32768)!==0){ng(n,li);return}e=n.return;var a=w1(n.alternate,n,Dn);if(a!==null){le=a;return}if(n=n.sibling,n!==null){le=n;return}le=n=e}while(n!==null);qe===0&&(qe=5)}function ng(e,n){do{var a=N1(e.alternate,e);if(a!==null){a.flags&=32767,le=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){le=e;return}le=e=a}while(e!==null);qe=6,le=null}function ig(e,n,a,r,u,d,h,_,S){e.cancelPendingCommit=null;do Br();while(Ze!==0);if((ye&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(d=n.lanes|n.childLanes,d|=wu,mb(e,a,d,h,_,S),e===Re&&(le=Re=null,oe=0),qs=n,ui=e,kn=a,Ic=d,jc=u,Qp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H1(Vl,function(){return og(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,u=P.p,P.p=2,h=ye,ye|=4;try{A1(e,n,a)}finally{ye=h,P.p=u,I.T=r}}Ze=1,sg(),ag(),lg()}}function sg(){if(Ze===1){Ze=0;var e=ui,n=qs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var r=P.p;P.p=2;var u=ye;ye|=4;try{Up(n,e);var d=Wc,h=Ph(e.containerInfo),_=d.focusedElem,S=d.selectionRange;if(h!==_&&_&&_.ownerDocument&&Gh(_.ownerDocument.documentElement,_)){if(S!==null&&Su(_)){var N=S.start,k=S.end;if(k===void 0&&(k=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(k,_.value.length);else{var z=_.ownerDocument||document,A=z&&z.defaultView||window;if(A.getSelection){var R=A.getSelection(),Q=_.textContent.length,W=Math.min(S.start,Q),Ce=S.end===void 0?W:Math.min(S.end,Q);!R.extend&&W>Ce&&(h=Ce,Ce=W,W=h);var C=Vh(_,W),E=Vh(_,Ce);if(C&&E&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==E.node||R.focusOffset!==E.offset)){var w=z.createRange();w.setStart(C.node,C.offset),R.removeAllRanges(),W>Ce?(R.addRange(w),R.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),R.addRange(w))}}}}for(z=[],R=_;R=R.parentNode;)R.nodeType===1&&z.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var L=z[_];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Jr=!!Xc,Wc=Xc=null}finally{ye=u,P.p=r,I.T=a}}e.current=n,Ze=2}}function ag(){if(Ze===2){Ze=0;var e=ui,n=qs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var r=P.p;P.p=2;var u=ye;ye|=4;try{kp(e,n.alternate,n)}finally{ye=u,P.p=r,I.T=a}}Ze=3}}function lg(){if(Ze===4||Ze===3){Ze=0,ab();var e=ui,n=qs,a=kn,r=Qp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,qs=ui=null,rg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(oi=null),nu(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ba,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=I.T,u=P.p,P.p=2,I.T=null;try{for(var d=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];d(_.value,{componentStack:_.stack})}}finally{I.T=n,P.p=u}}(kn&3)!==0&&Br(),fn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Lc?tl++:(tl=0,Lc=e):tl=0,nl(0)}}function rg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,La(n)))}function Br(){return sg(),ag(),lg(),og()}function og(){if(Ze!==5)return!1;var e=ui,n=Ic;Ic=0;var a=nu(kn),r=I.T,u=P.p;try{P.p=32>a?32:a,I.T=null,a=jc,jc=null;var d=ui,h=kn;if(Ze=0,qs=ui=null,kn=0,(ye&6)!==0)throw Error(l(331));var _=ye;if(ye|=4,Gp(d.current),Bp(d,d.current,h,a),ye=_,nl(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ba,d)}catch{}return!0}finally{P.p=u,I.T=r,rg(e,n)}}function ug(e,n,a){n=Bt(a,n),n=mc(e.stateNode,n,2),e=ni(e,n,2),e!==null&&(xa(e,2),fn(e))}function Se(e,n,a){if(e.tag===3)ug(e,e,a);else for(;n!==null;){if(n.tag===3){ug(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){e=Bt(a,e),a=cp(2),r=ni(n,a,2),r!==null&&(dp(a,r,n,e),xa(r,2),fn(r));break}}n=n.return}}function Hc(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new M1;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(a)||(Mc=!0,u.add(a),e=L1.bind(null,e,n,a),n.then(e,e))}function L1(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Re===e&&(oe&a)===a&&(qe===4||qe===3&&(oe&62914560)===oe&&300>Nt()-Ir?(ye&2)===0&&Vs(e,0):Dc|=a,Bs===oe&&(Bs=0)),fn(e)}function cg(e,n){n===0&&(n=sh()),e=Ui(e,n),e!==null&&(xa(e,n),fn(e))}function z1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),cg(e,a)}function U1(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),cg(e,a)}function H1(e,n){return Jo(e,n)}var qr=null,Ps=null,Bc=!1,Vr=!1,qc=!1,di=0;function fn(e){e!==Ps&&e.next===null&&(Ps===null?qr=Ps=e:Ps=Ps.next=e),Vr=!0,Bc||(Bc=!0,q1())}function nl(e,n){if(!qc&&Vr){qc=!0;do for(var a=!1,r=qr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var d=0;else{var h=r.suspendedLanes,_=r.pingedLanes;d=(1<<31-Rt(42|e)+1)-1,d&=u&~(h&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mg(r,d))}else d=oe,d=Ql(r,r===Re?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Sa(r,d)||(a=!0,mg(r,d));r=r.next}while(a);qc=!1}}function B1(){dg()}function dg(){Vr=Bc=!1;var e=0;di!==0&&Z1()&&(e=di);for(var n=Nt(),a=null,r=qr;r!==null;){var u=r.next,d=fg(r,n);d===0?(r.next=null,a===null?qr=u:a.next=u,u===null&&(Ps=a)):(a=r,(e!==0||(d&3)!==0)&&(Vr=!0)),r=u}Ze!==0&&Ze!==5||nl(e),di!==0&&(di=0)}function fg(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var h=31-Rt(d),_=1<<h,S=u[h];S===-1?((_&a)===0||(_&r)!==0)&&(u[h]=hb(_,n)):S<=n&&(e.expiredLanes|=_),d&=~_}if(n=Re,a=oe,a=Ql(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(be===2||be===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&$o(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Sa(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&$o(r),nu(a)){case 2:case 8:a=nh;break;case 32:a=Vl;break;case 268435456:a=ih;break;default:a=Vl}return r=hg.bind(null,e),a=Jo(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&$o(r),e.callbackPriority=2,e.callbackNode=null,2}function hg(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Br()&&e.callbackNode!==a)return null;var r=oe;return r=Ql(e,e===Re?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Kp(e,r,n),fg(e,Nt()),e.callbackNode!=null&&e.callbackNode===a?hg.bind(null,e):null)}function mg(e,n){if(Br())return null;Kp(e,n,!0)}function q1(){$1(function(){(ye&6)!==0?Jo(th,B1):dg()})}function Vc(){if(di===0){var e=Rs;e===0&&(e=Gl,Gl<<=1,(Gl&261888)===0&&(Gl=256)),di=e}return di}function pg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wl(""+e)}function gg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function V1(e,n,a,r,u){if(n==="submit"&&a&&a.stateNode===u){var d=pg((u[_t]||null).action),h=r.submitter;h&&(n=(n=h[_t]||null)?pg(n.formAction):h.getAttribute("formAction"),n!==null&&(d=n,h=null));var _=new er("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(di!==0){var S=h?gg(u,h):new FormData(u);oc(a,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(_.preventDefault(),S=h?gg(u,h):new FormData(u),oc(a,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var Gc=0;Gc<Cu.length;Gc++){var Pc=Cu[Gc],G1=Pc.toLowerCase(),P1=Pc[0].toUpperCase()+Pc.slice(1);$t(G1,"on"+P1)}$t(Fh,"onAnimationEnd"),$t(Kh,"onAnimationIteration"),$t(Xh,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(l1,"onTransitionRun"),$t(r1,"onTransitionStart"),$t(o1,"onTransitionCancel"),$t(Wh,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function yg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],u=r.event;r=r.listeners;e:{var d=void 0;if(n)for(var h=r.length-1;0<=h;h--){var _=r[h],S=_.instance,N=_.currentTarget;if(_=_.listener,S!==d&&u.isPropagationStopped())break e;d=_,u.currentTarget=N;try{d(u)}catch(k){ir(k)}u.currentTarget=null,d=S}else for(h=0;h<r.length;h++){if(_=r[h],S=_.instance,N=_.currentTarget,_=_.listener,S!==d&&u.isPropagationStopped())break e;d=_,u.currentTarget=N;try{d(u)}catch(k){ir(k)}u.currentTarget=null,d=S}}}}function re(e,n){var a=n[iu];a===void 0&&(a=n[iu]=new Set);var r=e+"__bubble";a.has(r)||(_g(n,e,2,!1),a.add(r))}function Yc(e,n,a){var r=0;n&&(r|=4),_g(a,e,r,n)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Gr]){e[Gr]=!0,dh.forEach(function(a){a!=="selectionchange"&&(Y1.has(a)||Yc(a,!1,e),Yc(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gr]||(n[Gr]=!0,Yc("selectionchange",!1,n))}}function _g(e,n,a,r){switch(Fg(n)){case 2:var u=vS;break;case 8:u=bS;break;default:u=rd}a=u.bind(null,n,a,e),u=void 0,!fu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Fc(e,n,a,r,u){var d=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===u)break;if(h===4)for(h=r.return;h!==null;){var S=h.tag;if((S===3||S===4)&&h.stateNode.containerInfo===u)return;h=h.return}for(;_!==null;){if(h=fs(_),h===null)return;if(S=h.tag,S===5||S===6||S===26||S===27){r=d=h;continue e}_=_.parentNode}}r=r.return}Eh(function(){var N=d,k=cu(a),z=[];e:{var A=Zh.get(e);if(A!==void 0){var R=er,Q=e;switch(e){case"keypress":if(Jl(a)===0)break e;case"keydown":case"keyup":R=Ub;break;case"focusin":Q="focus",R=gu;break;case"focusout":Q="blur",R=gu;break;case"beforeblur":case"afterblur":R=gu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=qb;break;case Fh:case Kh:case Xh:R=Rb;break;case Wh:R=Gb;break;case"scroll":case"scrollend":R=Tb;break;case"wheel":R=Yb;break;case"copy":case"cut":case"paste":R=Mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Ah;break;case"toggle":case"beforetoggle":R=Fb}var W=(n&4)!==0,Ce=!W&&(e==="scroll"||e==="scrollend"),C=W?A!==null?A+"Capture":null:A;W=[];for(var E=N,w;E!==null;){var L=E;if(w=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||w===null||C===null||(L=Ca(E,C),L!=null&&W.push(sl(E,L,w))),Ce)break;E=E.return}0<W.length&&(A=new R(A,Q,null,a,k),z.push({event:A,listeners:W}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&a!==uu&&(Q=a.relatedTarget||a.fromElement)&&(fs(Q)||Q[ds]))break e;if((R||A)&&(A=k.window===k?k:(A=k.ownerDocument)?A.defaultView||A.parentWindow:window,R?(Q=a.relatedTarget||a.toElement,R=N,Q=Q?fs(Q):null,Q!==null&&(Ce=c(Q),W=Q.tag,Q!==Ce||W!==5&&W!==27&&W!==6)&&(Q=null)):(R=null,Q=N),R!==Q)){if(W=wh,L="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(W=Ah,L="onPointerLeave",C="onPointerEnter",E="pointer"),Ce=R==null?A:Ta(R),w=Q==null?A:Ta(Q),A=new W(L,E+"leave",R,a,k),A.target=Ce,A.relatedTarget=w,L=null,fs(k)===N&&(W=new W(C,E+"enter",Q,a,k),W.target=w,W.relatedTarget=Ce,L=W),Ce=L,R&&Q)t:{for(W=Q1,C=R,E=Q,w=0,L=C;L;L=W(L))w++;L=0;for(var X=E;X;X=W(X))L++;for(;0<w-L;)C=W(C),w--;for(;0<L-w;)E=W(E),L--;for(;w--;){if(C===E||E!==null&&C===E.alternate){W=C;break t}C=W(C),E=W(E)}W=null}else W=null;R!==null&&vg(z,A,R,W,!1),Q!==null&&Ce!==null&&vg(z,Ce,Q,W,!0)}}e:{if(A=N?Ta(N):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var pe=Lh;else if(Ih(A))if(zh)pe=i1;else{pe=t1;var K=e1}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?N&&ou(N.elementType)&&(pe=Lh):pe=n1;if(pe&&(pe=pe(e,N))){jh(z,pe,a,k);break e}K&&K(e,A,N),e==="focusout"&&N&&A.type==="number"&&N.memoizedProps.value!=null&&ru(A,"number",A.value)}switch(K=N?Ta(N):window,e){case"focusin":(Ih(K)||K.contentEditable==="true")&&(Ss=K,xu=N,ka=null);break;case"focusout":ka=xu=Ss=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Yh(z,a,k);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Yh(z,a,k)}var ie;if(_u)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else bs?Dh(e,a)&&(ue="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Rh&&a.locale!=="ko"&&(bs||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&bs&&(ie=Th()):(Xn=k,hu="value"in Xn?Xn.value:Xn.textContent,bs=!0)),K=Pr(N,ue),0<K.length&&(ue=new Nh(ue,e,null,a,k),z.push({event:ue,listeners:K}),ie?ue.data=ie:(ie=kh(a),ie!==null&&(ue.data=ie)))),(ie=Xb?Wb(e,a):Zb(e,a))&&(ue=Pr(N,"onBeforeInput"),0<ue.length&&(K=new Nh("onBeforeInput","beforeinput",null,a,k),z.push({event:K,listeners:ue}),K.data=ie)),V1(z,e,N,a,k)}yg(z,n)})}function sl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Pr(e,n){for(var a=n+"Capture",r=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ca(e,a),u!=null&&r.unshift(sl(e,u,d)),u=Ca(e,n),u!=null&&r.push(sl(e,u,d))),e.tag===3)return r;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vg(e,n,a,r,u){for(var d=n._reactName,h=[];a!==null&&a!==r;){var _=a,S=_.alternate,N=_.stateNode;if(_=_.tag,S!==null&&S===r)break;_!==5&&_!==26&&_!==27||N===null||(S=N,u?(N=Ca(a,d),N!=null&&h.unshift(sl(a,N,S))):u||(N=Ca(a,d),N!=null&&h.push(sl(a,N,S)))),a=a.return}h.length!==0&&e.push({event:n,listeners:h})}var F1=/\r\n?/g,K1=/\u0000|\uFFFD/g;function bg(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(K1,"")}function Sg(e,n){return n=bg(n),bg(e)===n}function Te(e,n,a,r,u,d){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ys(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ys(e,""+r);break;case"className":Kl(e,"class",r);break;case"tabIndex":Kl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(e,a,r);break;case"style":Sh(e,r,d);break;case"data":if(n!=="object"){Kl(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Wl(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Te(e,n,"name",u.name,u,null),Te(e,n,"formEncType",u.formEncType,u,null),Te(e,n,"formMethod",u.formMethod,u,null),Te(e,n,"formTarget",u.formTarget,u,null)):(Te(e,n,"encType",u.encType,u,null),Te(e,n,"method",u.method,u,null),Te(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Wl(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=_n);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Wl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":re("beforetoggle",e),re("toggle",e),Fl(e,"popover",r);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Fl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xb.get(a)||a,Fl(e,a,r))}}function Kc(e,n,a,r,u,d){switch(a){case"style":Sh(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?ys(e,r):(typeof r=="number"||typeof r=="bigint")&&ys(e,""+r);break;case"onScroll":r!=null&&re("scroll",e);break;case"onScrollEnd":r!=null&&re("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),d=e[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,u),typeof r=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,u);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Fl(e,a,r)}}}function rt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",e),re("load",e);var r=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,d,h,a,null)}}u&&Te(e,n,"srcSet",a.srcSet,a,null),r&&Te(e,n,"src",a.src,a,null);return;case"input":re("invalid",e);var _=d=h=u=null,S=null,N=null;for(r in a)if(a.hasOwnProperty(r)){var k=a[r];if(k!=null)switch(r){case"name":u=k;break;case"type":h=k;break;case"checked":S=k;break;case"defaultChecked":N=k;break;case"value":d=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,n));break;default:Te(e,n,r,k,a,null)}}yh(e,d,_,S,N,h,u,!1);return;case"select":re("invalid",e),r=h=d=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":d=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:Te(e,n,u,_,a,null)}n=d,a=h,e.multiple=!!r,n!=null?gs(e,!!r,n,!1):a!=null&&gs(e,!!r,a,!0);return;case"textarea":re("invalid",e),d=u=r=null;for(h in a)if(a.hasOwnProperty(h)&&(_=a[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":u=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Te(e,n,h,_,a,null)}vh(e,r,u,d);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(r=a[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Te(e,n,S,r,a,null)}return;case"dialog":re("beforetoggle",e),re("toggle",e),re("cancel",e),re("close",e);break;case"iframe":case"object":re("load",e);break;case"video":case"audio":for(r=0;r<il.length;r++)re(il[r],e);break;case"image":re("error",e),re("load",e);break;case"details":re("toggle",e);break;case"embed":case"source":case"link":re("error",e),re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(r=a[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Te(e,n,N,r,a,null)}return;default:if(ou(n)){for(k in a)a.hasOwnProperty(k)&&(r=a[k],r!==void 0&&Kc(e,n,k,r,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(r=a[_],r!=null&&Te(e,n,_,r,a,null))}function X1(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,h=null,_=null,S=null,N=null,k=null;for(R in a){var z=a[R];if(a.hasOwnProperty(R)&&z!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=z;default:r.hasOwnProperty(R)||Te(e,n,R,null,r,z)}}for(var A in r){var R=r[A];if(z=a[A],r.hasOwnProperty(A)&&(R!=null||z!=null))switch(A){case"type":d=R;break;case"name":u=R;break;case"checked":N=R;break;case"defaultChecked":k=R;break;case"value":h=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==z&&Te(e,n,A,R,r,z)}}lu(e,h,_,S,N,k,d,u);return;case"select":R=h=_=A=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":R=S;default:r.hasOwnProperty(d)||Te(e,n,d,null,r,S)}for(u in r)if(d=r[u],S=a[u],r.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":A=d;break;case"defaultValue":_=d;break;case"multiple":h=d;default:d!==S&&Te(e,n,u,d,r,S)}n=_,a=h,r=R,A!=null?gs(e,!!a,A,!1):!!r!=!!a&&(n!=null?gs(e,!!a,n,!0):gs(e,!!a,a?[]:"",!1));return;case"textarea":R=A=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Te(e,n,_,null,r,u)}for(h in r)if(u=r[h],d=a[h],r.hasOwnProperty(h)&&(u!=null||d!=null))switch(h){case"value":A=u;break;case"defaultValue":R=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&Te(e,n,h,u,r,d)}_h(e,A,R);return;case"option":for(var Q in a)if(A=a[Q],a.hasOwnProperty(Q)&&A!=null&&!r.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Te(e,n,Q,null,r,A)}for(S in r)if(A=r[S],R=a[S],r.hasOwnProperty(S)&&A!==R&&(A!=null||R!=null))switch(S){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Te(e,n,S,A,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in a)A=a[W],a.hasOwnProperty(W)&&A!=null&&!r.hasOwnProperty(W)&&Te(e,n,W,null,r,A);for(N in r)if(A=r[N],R=a[N],r.hasOwnProperty(N)&&A!==R&&(A!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,n));break;default:Te(e,n,N,A,r,R)}return;default:if(ou(n)){for(var Ce in a)A=a[Ce],a.hasOwnProperty(Ce)&&A!==void 0&&!r.hasOwnProperty(Ce)&&Kc(e,n,Ce,void 0,r,A);for(k in r)A=r[k],R=a[k],!r.hasOwnProperty(k)||A===R||A===void 0&&R===void 0||Kc(e,n,k,A,r,R);return}}for(var C in a)A=a[C],a.hasOwnProperty(C)&&A!=null&&!r.hasOwnProperty(C)&&Te(e,n,C,null,r,A);for(z in r)A=r[z],R=a[z],!r.hasOwnProperty(z)||A===R||A==null&&R==null||Te(e,n,z,A,r,R)}function xg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],d=u.transferSize,h=u.initiatorType,_=u.duration;if(d&&_&&xg(h)){for(h=0,_=u.responseEnd,r+=1;r<a.length;r++){var S=a[r],N=S.startTime;if(N>_)break;var k=S.transferSize,z=S.initiatorType;k&&xg(z)&&(S=S.responseEnd,h+=k*(S<_?1:(_-N)/(S-N)))}if(--r,n+=8*(d+h)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xc=null,Wc=null;function Yr(e){return e.nodeType===9?e:e.ownerDocument}function Eg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jc=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===Jc?!1:(Jc=e,!0):(Jc=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(e){return wg.resolve(null).then(e).catch(eS)}:Cg;function eS(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function Ng(e,n){var a=n,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(u),Ks(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,al(a);for(var d=a.firstChild;d;){var h=d.nextSibling,_=d.nodeName;d[Ea]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=h}}else a==="body"&&al(e.ownerDocument.body);a=u}while(a);Ks(n)}function Ag(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function $c(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$c(a),su(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tS(e,n,a,r){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function nS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function Rg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nd=null;function Og(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Yt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Mg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Dg(e,n,a){switch(n=Yr(a),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);su(e)}var Qt=new Map,kg=new Set;function Qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=P.d;P.d={f:sS,r:aS,D:lS,C:rS,L:oS,m:uS,X:dS,S:cS,M:fS};function sS(){var e=In.f(),n=zr();return e||n}function aS(e){var n=hs(e);n!==null&&n.tag===5&&n.type==="form"?Wm(n):In.r(e)}var Ys=typeof document>"u"?null:document;function Ig(e,n,a){var r=Ys;if(r&&typeof n=="string"&&n){var u=Ut(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),kg.has(u)||(kg.add(u),e={rel:e,crossOrigin:a,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),rt(n,"link",e),$e(n),r.head.appendChild(n)))}}function lS(e){In.D(e),Ig("dns-prefetch",e,null)}function rS(e,n){In.C(e,n),Ig("preconnect",e,n)}function oS(e,n,a){In.L(e,n,a);var r=Ys;if(r&&e&&n){var u='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ut(a.imageSizes)+'"]')):u+='[href="'+Ut(e)+'"]';var d=u;switch(n){case"style":d=Qs(e);break;case"script":d=Fs(e)}Qt.has(d)||(e=v({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Qt.set(d,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(ll(d))||n==="script"&&r.querySelector(rl(d))||(n=r.createElement("link"),rt(n,"link",e),$e(n),r.head.appendChild(n)))}}function uS(e,n){In.m(e,n);var a=Ys;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ut(r)+'"][href="'+Ut(e)+'"]',d=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fs(e)}if(!Qt.has(d)&&(e=v({rel:"modulepreload",href:e},n),Qt.set(d,e),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(d)))return}r=a.createElement("link"),rt(r,"link",e),$e(r),a.head.appendChild(r)}}}function cS(e,n,a){In.S(e,n,a);var r=Ys;if(r&&e){var u=ms(r).hoistableStyles,d=Qs(e);n=n||"default";var h=u.get(d);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(ll(d)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Qt.get(d))&&id(e,a);var S=h=r.createElement("link");$e(S),rt(S,"link",e),S._p=new Promise(function(N,k){S.onload=N,S.onerror=k}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Fr(h,n,r)}h={type:"stylesheet",instance:h,count:1,state:_},u.set(d,h)}}}function dS(e,n){In.X(e,n);var a=Ys;if(a&&e){var r=ms(a).hoistableScripts,u=Fs(e),d=r.get(u);d||(d=a.querySelector(rl(u)),d||(e=v({src:e,async:!0},n),(n=Qt.get(u))&&sd(e,n),d=a.createElement("script"),$e(d),rt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(u,d))}}function fS(e,n){In.M(e,n);var a=Ys;if(a&&e){var r=ms(a).hoistableScripts,u=Fs(e),d=r.get(u);d||(d=a.querySelector(rl(u)),d||(e=v({src:e,async:!0,type:"module"},n),(n=Qt.get(u))&&sd(e,n),d=a.createElement("script"),$e(d),rt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(u,d))}}function jg(e,n,a,r){var u=(u=ae.current)?Qr(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Qs(a.href),a=ms(u).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qs(a.href);var d=ms(u).hoistableStyles,h=d.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,h),(d=u.querySelector(ll(e)))&&!d._p&&(h.instance=d,h.state.loading=5),Qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(e,a),d||hS(u,e,a,h.state))),n&&r===null)throw Error(l(528,""));return h}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(a),a=ms(u).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Qs(e){return'href="'+Ut(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function Lg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),rt(n,"link",a),$e(n),e.head.appendChild(n))}function Fs(e){return'[src="'+Ut(e)+'"]'}function rl(e){return"script[async]"+e}function zg(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(r)return n.instance=r,$e(r),r;var u=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),$e(r),rt(r,"style",u),Fr(r,a.precedence,e),n.instance=r;case"stylesheet":u=Qs(a.href);var d=e.querySelector(ll(u));if(d)return n.state.loading|=4,n.instance=d,$e(d),d;r=Lg(a),(u=Qt.get(u))&&id(r,u),d=(e.ownerDocument||e).createElement("link"),$e(d);var h=d;return h._p=new Promise(function(_,S){h.onload=_,h.onerror=S}),rt(d,"link",r),n.state.loading|=4,Fr(d,a.precedence,e),n.instance=d;case"script":return d=Fs(a.src),(u=e.querySelector(rl(d)))?(n.instance=u,$e(u),u):(r=a,(u=Qt.get(d))&&(r=v({},a),sd(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),$e(u),rt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Fr(r,a.precedence,e));return n.instance}function Fr(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,d=u,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===n)d=_;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Kr=null;function Ug(e,n,a){if(Kr===null){var r=new Map,u=Kr=new Map;u.set(a,r)}else u=Kr,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var d=a[u];if(!(d[Ea]||d[it]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(n)||"";h=e+h;var _=r.get(h);_?_.push(d):r.set(h,[d])}}return r}function Hg(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function mS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pS(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Qs(r.href),d=n.querySelector(ll(u));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xr.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,$e(d);return}d=n.ownerDocument||n,r=Lg(r),(u=Qt.get(u))&&id(r,u),d=d.createElement("link"),$e(d);var h=d;h._p=new Promise(function(_,S){h.onload=_,h.onerror=S}),rt(d,"link",r),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xr.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ad=0;function gS(e,n){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&ad===0&&(ad=62500*W1());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wr=null;function Zr(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wr=new Map,n.forEach(yS,e),Wr=null,Xr.call(e))}function yS(e,n){if(!(n.state.loading&4)){var a=Wr.get(e);if(a)var r=a.get(null);else{a=new Map,Wr.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var h=u[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),r=h)}r&&a.set(null,r)}u=n.instance,h=u.getAttribute("data-precedence"),d=a.get(h)||r,d===r&&a.set(null,u),a.set(h,u),this.count++,r=Xr.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:G,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function _S(e,n,a,r,u,d,h,_,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function qg(e,n,a,r,u,d,h,_,S,N,k,z){return e=new _S(e,n,a,h,S,N,k,z,_),n=1,d===!0&&(n|=24),d=Mt(3,null,null,n),e.current=d,d.stateNode=e,n=Uu(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:n},Vu(d),e}function Vg(e){return e?(e=Ts,e):Ts}function Gg(e,n,a,r,u,d){u=Vg(u),r.context===null?r.context=u:r.pendingContext=u,r=ti(n),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=ni(e,r,n),a!==null&&(Tt(a,e,n),Ba(a,e,n))}function Pg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ld(e,n){Pg(e,n),(e=e.alternate)&&Pg(e,n)}function Yg(e){if(e.tag===13||e.tag===31){var n=Ui(e,67108864);n!==null&&Tt(n,e,67108864),ld(e,67108864)}}function Qg(e){if(e.tag===13||e.tag===31){var n=Lt();n=tu(n);var a=Ui(e,n);a!==null&&Tt(a,e,n),ld(e,n)}}var Jr=!0;function vS(e,n,a,r){var u=I.T;I.T=null;var d=P.p;try{P.p=2,rd(e,n,a,r)}finally{P.p=d,I.T=u}}function bS(e,n,a,r){var u=I.T;I.T=null;var d=P.p;try{P.p=8,rd(e,n,a,r)}finally{P.p=d,I.T=u}}function rd(e,n,a,r){if(Jr){var u=od(r);if(u===null)Fc(e,n,r,$r,a),Kg(e,r);else if(xS(u,e,n,a,r))r.stopPropagation();else if(Kg(e,r),n&4&&-1<SS.indexOf(e)){for(;u!==null;){var d=hs(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=ki(d.pendingLanes);if(h!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var S=1<<31-Rt(h);_.entanglements[1]|=S,h&=~S}fn(d),(ye&6)===0&&(jr=Nt()+500,nl(0))}}break;case 31:case 13:_=Ui(d,2),_!==null&&Tt(_,d,2),zr(),ld(d,2)}if(d=od(r),d===null&&Fc(e,n,r,$r,a),d===u)break;u=d}u!==null&&r.stopPropagation()}else Fc(e,n,r,null,a)}}function od(e){return e=cu(e),ud(e)}var $r=null;function ud(e){if($r=null,e=fs(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $r=e,null}function Fg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lb()){case th:return 2;case nh:return 8;case Vl:case rb:return 32;case ih:return 268435456;default:return 32}default:return 32}}var cd=!1,hi=null,mi=null,pi=null,ul=new Map,cl=new Map,gi=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(e,n){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function dl(e,n,a,r,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[u]},n!==null&&(n=hs(n),n!==null&&Yg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function xS(e,n,a,r,u){switch(n){case"focusin":return hi=dl(hi,e,n,a,r,u),!0;case"dragenter":return mi=dl(mi,e,n,a,r,u),!0;case"mouseover":return pi=dl(pi,e,n,a,r,u),!0;case"pointerover":var d=u.pointerId;return ul.set(d,dl(ul.get(d)||null,e,n,a,r,u)),!0;case"gotpointercapture":return d=u.pointerId,cl.set(d,dl(cl.get(d)||null,e,n,a,r,u)),!0}return!1}function Xg(e){var n=fs(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,uh(e.priority,function(){Qg(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,uh(e.priority,function(){Qg(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);uu=r,a.target.dispatchEvent(r),uu=null}else return n=hs(a),n!==null&&Yg(n),e.blockedOn=a,!1;n.shift()}return!0}function Wg(e,n,a){eo(e)&&a.delete(n)}function ES(){cd=!1,hi!==null&&eo(hi)&&(hi=null),mi!==null&&eo(mi)&&(mi=null),pi!==null&&eo(pi)&&(pi=null),ul.forEach(Wg),cl.forEach(Wg)}function to(e,n){e.blockedOn===n&&(e.blockedOn=null,cd||(cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ES)))}var no=null;function Zg(e){no!==e&&(no=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){no===e&&(no=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(ud(r||a)===null)continue;break}var d=hs(a);d!==null&&(e.splice(n,3),n-=3,oc(d,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function Ks(e){function n(S){return to(S,e)}hi!==null&&to(hi,e),mi!==null&&to(mi,e),pi!==null&&to(pi,e),ul.forEach(n),cl.forEach(n);for(var a=0;a<gi.length;a++){var r=gi[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gi.length&&(a=gi[0],a.blockedOn===null);)Xg(a),a.blockedOn===null&&gi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],d=a[r+1],h=u[_t]||null;if(typeof d=="function")h||Zg(a);else if(h){var _=null;if(d&&d.hasAttribute("formAction")){if(u=d,h=d[_t]||null)_=h.formAction;else if(ud(u)!==null)continue}else _=h.action;typeof _=="function"?a[r+1]=_:(a.splice(r,3),r-=3),Zg(a)}}}function Jg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(h){return u=h})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function dd(e){this._internalRoot=e}io.prototype.render=dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var a=n.current,r=Lt();Gg(a,r,e,n,null,null)},io.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gg(e.current,2,null,e,null,null),zr(),n[ds]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var n=oh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<gi.length&&n!==0&&n<gi[a].priority;a++);gi.splice(a,0,e),a===0&&Xg(e)}};var $g=t.version;if($g!=="19.2.0")throw Error(l(527,$g,"19.2.0"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{ba=so.inject(TS),At=so}catch{}}return hl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var a=!1,r="",u=lp,d=rp,h=op;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=qg(e,1,!1,null,null,a,r,null,u,d,h,Jg),e[ds]=n.current,Qc(e),new dd(n)},hl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(l(299));var r=!1,u="",d=lp,h=rp,_=op,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),n=qg(e,1,!0,n,a??null,r,u,S,d,h,_,Jg),n.context=Vg(null),a=n.current,r=Lt(),r=tu(r),u=ti(r),u.callback=null,ni(a,u,r),a=r,n.current.lanes=a,xa(n,a),fn(n),e[ds]=n.current,Qc(e),new io(n)},hl.version="19.2.0",hl}var uy;function IS(){if(uy)return md.exports;uy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),md.exports=kS(),md.exports}var jS=IS();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cy="popstate";function LS(s={}){function t(o,c){let{pathname:f="/",search:g="",hash:p=""}=os(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Id("",{pathname:f,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");g=m===-1?p:p.slice(0,m)}return g+"#"+(typeof c=="string"?c:Cl(c))}function l(o,c){Kt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return US(t,i,l,s)}function He(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Kt(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function dy(s,t){return{usr:s.state,key:s.key,idx:t}}function Id(s,t,i=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?os(t):t,state:i,key:t&&t.key||l||zS()}}function Cl({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function os(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let l=s.indexOf("?");l>=0&&(t.search=s.substring(l),s=s.substring(0,l)),s&&(t.pathname=s)}return t}function US(s,t,i,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,f=o.history,g="POP",p=null,m=b();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function b(){return(f.state||{idx:null}).idx}function v(){g="POP";let D=b(),B=D==null?null:D-m;m=D,p&&p({action:g,location:q.location,delta:B})}function x(D,B){g="PUSH";let H=Id(q.location,D,B);i&&i(H,D),m=b()+1;let G=dy(H,m),se=q.createHref(H);try{f.pushState(G,"",se)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;o.location.assign(se)}c&&p&&p({action:g,location:q.location,delta:1})}function M(D,B){g="REPLACE";let H=Id(q.location,D,B);i&&i(H,D),m=b();let G=dy(H,m),se=q.createHref(H);f.replaceState(G,"",se),c&&p&&p({action:g,location:q.location,delta:0})}function j(D){return HS(D)}let q={get action(){return g},get location(){return s(o,f)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cy,v),p=D,()=>{o.removeEventListener(cy,v),p=null}},createHref(D){return t(o,D)},createURL:j,encodeLocation(D){let B=j(D);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:x,replace:M,go(D){return f.go(D)}};return q}function HS(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),He(i,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Cl(s);return l=l.replace(/ $/,"%20"),!t&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function C_(s,t,i="/"){return BS(s,t,i,!1)}function BS(s,t,i,l){let o=typeof t=="string"?os(t):t,c=Bn(o.pathname||"/",i);if(c==null)return null;let f=w_(s);qS(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let m=JS(c);g=WS(f[p],m,l)}return g}function w_(s,t=[],i=[],l="",o=!1){let c=(f,g,p=o,m)=>{let b={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(l)&&p)return;He(b.relativePath.startsWith(l),`Absolute route path "${b.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(l.length)}let v=Un([l,b.relativePath]),x=i.concat(b);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),w_(f.children,t,x,v,p)),!(f.path==null&&!f.index)&&t.push({path:v,score:KS(v,f.index),routesMeta:x})};return s.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))c(f,g);else for(let p of N_(f.path))c(f,g,!0,p)}),t}function N_(s){let t=s.split("/");if(t.length===0)return[];let[i,...l]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let f=N_(l.join("/")),g=[];return g.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...f),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function qS(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:XS(t.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var VS=/^:[\w-]+$/,GS=3,PS=2,YS=1,QS=10,FS=-2,fy=s=>s==="*";function KS(s,t){let i=s.split("/"),l=i.length;return i.some(fy)&&(l+=FS),t&&(l+=PS),i.filter(o=>!fy(o)).reduce((o,c)=>o+(VS.test(c)?GS:c===""?YS:QS),l)}function XS(s,t){return s.length===t.length&&s.slice(0,-1).every((l,o)=>l===t[o])?s[s.length-1]-t[t.length-1]:0}function WS(s,t,i=!1){let{routesMeta:l}=s,o={},c="/",f=[];for(let g=0;g<l.length;++g){let p=l[g],m=g===l.length-1,b=c==="/"?t:t.slice(c.length)||"/",v=yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),x=p.route;if(!v&&m&&i&&!l[l.length-1].route.index&&(v=yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!v)return null;Object.assign(o,v.params),f.push({params:o,pathname:Un([c,v.pathname]),pathnameBase:nx(Un([c,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(c=Un([c,v.pathnameBase]))}return f}function yo(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,l]=ZS(s.path,s.caseSensitive,s.end),o=t.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:l.reduce((m,{paramName:b,isOptional:v},x)=>{if(b==="*"){let j=g[x]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const M=g[x];return v&&!M?m[b]=void 0:m[b]=(M||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:s}}function ZS(s,t=!1,i=!0){Kt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(l.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),l]}function JS(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Bn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,l=s.charAt(i);return l&&l!=="/"?null:s.slice(i)||"/"}function $S(s,t="/"){let{pathname:i,search:l="",hash:o=""}=typeof s=="string"?os(s):s;return{pathname:i?i.startsWith("/")?i:ex(i,t):t,search:ix(l),hash:sx(o)}}function ex(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function _d(s,t,i,l){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tx(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function lf(s){let t=tx(s);return t.map((i,l)=>l===t.length-1?i.pathname:i.pathnameBase)}function rf(s,t,i,l=!1){let o;typeof s=="string"?o=os(s):(o={...s},He(!o.pathname||!o.pathname.includes("?"),_d("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),_d("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),_d("#","search","hash",o)));let c=s===""||o.pathname==="",f=c?"/":o.pathname,g;if(f==null)g=i;else{let v=t.length-1;if(!l&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}g=v>=0?t[v]:"/"}let p=$S(o,g),m=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var Un=s=>s.join("/").replace(/\/\/+/g,"/"),nx=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ix=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,sx=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ax(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var lx=["GET",...A_];new Set(lx);var ua=O.createContext(null);ua.displayName="DataRouter";var Lo=O.createContext(null);Lo.displayName="DataRouterState";O.createContext(!1);var R_=O.createContext({isTransitioning:!1});R_.displayName="ViewTransition";var rx=O.createContext(new Map);rx.displayName="Fetchers";var ox=O.createContext(null);ox.displayName="Await";var rn=O.createContext(null);rn.displayName="Navigation";var Ml=O.createContext(null);Ml.displayName="Location";var on=O.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var of=O.createContext(null);of.displayName="RouteError";function ux(s,{relative:t}={}){He(ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=O.useContext(rn),{hash:o,pathname:c,search:f}=Dl(s,{relative:t}),g=c;return i!=="/"&&(g=c==="/"?i:Un([i,c])),l.createHref({pathname:g,search:f,hash:o})}function ca(){return O.useContext(Ml)!=null}function Ri(){return He(ca(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ml).location}var O_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M_(s){O.useContext(rn).static||O.useLayoutEffect(s)}function Oi(){let{isDataRoute:s}=O.useContext(on);return s?Ex():cx()}function cx(){He(ca(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(ua),{basename:t,navigator:i}=O.useContext(rn),{matches:l}=O.useContext(on),{pathname:o}=Ri(),c=JSON.stringify(lf(l)),f=O.useRef(!1);return M_(()=>{f.current=!0}),O.useCallback((p,m={})=>{if(Kt(f.current,O_),!f.current)return;if(typeof p=="number"){i.go(p);return}let b=rf(p,JSON.parse(c),o,m.relative==="path");s==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Un([t,b.pathname])),(m.replace?i.replace:i.push)(b,m.state,m)},[t,i,c,o,s])}O.createContext(null);function dx(){let{matches:s}=O.useContext(on),t=s[s.length-1];return t?t.params:{}}function Dl(s,{relative:t}={}){let{matches:i}=O.useContext(on),{pathname:l}=Ri(),o=JSON.stringify(lf(i));return O.useMemo(()=>rf(s,JSON.parse(o),l,t==="path"),[s,o,l,t])}function fx(s,t){return D_(s,t)}function D_(s,t,i,l,o){He(ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(rn),{matches:f}=O.useContext(on),g=f[f.length-1],p=g?g.params:{},m=g?g.pathname:"/",b=g?g.pathnameBase:"/",v=g&&g.route;{let H=v&&v.path||"";k_(m,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let x=Ri(),M;if(t){let H=typeof t=="string"?os(t):t;He(b==="/"||H.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${H.pathname}" was given in the \`location\` prop.`),M=H}else M=x;let j=M.pathname||"/",q=j;if(b!=="/"){let H=b.replace(/^\//,"").split("/");q="/"+j.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=C_(s,{pathname:q});Kt(v||D!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Kt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=yx(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:Un([b,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?b:Un([b,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),f,i,l,o);return t&&B?O.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},B):B}function hx(){let s=xx(),t=ax(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),i?O.createElement("pre",{style:o},i):null,f)}var mx=O.createElement(hx,null),px=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?O.createElement(on.Provider,{value:this.props.routeContext},O.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gx({routeContext:s,match:t,children:i}){let l=O.useContext(ua);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(on.Provider,{value:s},i)}function yx(s,t=[],i=null,l=null,o=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,f=i?.errors;if(f!=null){let m=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);He(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let g=!1,p=-1;if(i)for(let m=0;m<c.length;m++){let b=c[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=m),b.route.id){let{loaderData:v,errors:x}=i,M=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||M){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,b,v)=>{let x,M=!1,j=null,q=null;i&&(x=f&&b.route.id?f[b.route.id]:void 0,j=b.route.errorElement||mx,g&&(p<0&&v===0?(k_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,q=null):p===v&&(M=!0,q=b.route.hydrateFallbackElement||null)));let D=t.concat(c.slice(0,v+1)),B=()=>{let H;return x?H=j:M?H=q:b.route.Component?H=O.createElement(b.route.Component,null):b.route.element?H=b.route.element:H=m,O.createElement(gx,{match:b,routeContext:{outlet:m,matches:D,isDataRoute:i!=null},children:H})};return i&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?O.createElement(px,{location:i.location,revalidation:i.revalidation,component:j,error:x,children:B(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:l}):B()},null)}function uf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _x(s){let t=O.useContext(ua);return He(t,uf(s)),t}function vx(s){let t=O.useContext(Lo);return He(t,uf(s)),t}function bx(s){let t=O.useContext(on);return He(t,uf(s)),t}function cf(s){let t=bx(s),i=t.matches[t.matches.length-1];return He(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Sx(){return cf("useRouteId")}function xx(){let s=O.useContext(of),t=vx("useRouteError"),i=cf("useRouteError");return s!==void 0?s:t.errors?.[i]}function Ex(){let{router:s}=_x("useNavigate"),t=cf("useNavigate"),i=O.useRef(!1);return M_(()=>{i.current=!0}),O.useCallback(async(o,c={})=>{Kt(i.current,O_),i.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var hy={};function k_(s,t,i){!t&&!hy[s]&&(hy[s]=!0,Kt(!1,i))}O.memo(Tx);function Tx({routes:s,future:t,state:i,unstable_onError:l}){return D_(s,void 0,i,l,t)}function Xs({to:s,replace:t,state:i,relative:l}){He(ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(rn);Kt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(on),{pathname:f}=Ri(),g=Oi(),p=rf(s,lf(c),f,l==="path"),m=JSON.stringify(p);return O.useEffect(()=>{g(JSON.parse(m),{replace:t,state:i,relative:l})},[g,m,l,t,i]),null}function vi(s){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cx({basename:s="/",children:t=null,location:i,navigationType:l="POP",navigator:o,static:c=!1}){He(!ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=os(i));let{pathname:p="/",search:m="",hash:b="",state:v=null,key:x="default"}=i,M=O.useMemo(()=>{let j=Bn(p,f);return j==null?null:{location:{pathname:j,search:m,hash:b,state:v,key:x},navigationType:l}},[f,p,m,b,v,x,l]);return Kt(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:O.createElement(rn.Provider,{value:g},O.createElement(Ml.Provider,{children:t,value:M}))}function wx({children:s,location:t}){return fx(jd(s),t)}function jd(s,t=[]){let i=[];return O.Children.forEach(s,(l,o)=>{if(!O.isValidElement(l))return;let c=[...t,o];if(l.type===O.Fragment){i.push.apply(i,jd(l.props.children,c));return}He(l.type===vi,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=jd(l.props.children,c)),i.push(f)}),i}var uo="get",co="application/x-www-form-urlencoded";function zo(s){return s!=null&&typeof s.tagName=="string"}function Nx(s){return zo(s)&&s.tagName.toLowerCase()==="button"}function Ax(s){return zo(s)&&s.tagName.toLowerCase()==="form"}function Rx(s){return zo(s)&&s.tagName.toLowerCase()==="input"}function Ox(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Mx(s,t){return s.button===0&&(!t||t==="_self")&&!Ox(s)}var ao=null;function Dx(){if(ao===null)try{new FormData(document.createElement("form"),0),ao=!1}catch{ao=!0}return ao}var kx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(s){return s!=null&&!kx.has(s)?(Kt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${co}"`),null):s}function Ix(s,t){let i,l,o,c,f;if(Ax(s)){let g=s.getAttribute("action");l=g?Bn(g,t):null,i=s.getAttribute("method")||uo,o=vd(s.getAttribute("enctype"))||co,c=new FormData(s)}else if(Nx(s)||Rx(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(l=p?Bn(p,t):null,i=s.getAttribute("formmethod")||g.getAttribute("method")||uo,o=vd(s.getAttribute("formenctype"))||vd(g.getAttribute("enctype"))||co,c=new FormData(g,s),!Dx()){let{name:m,type:b,value:v}=s;if(b==="image"){let x=m?`${m}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else m&&c.append(m,v)}}else{if(zo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uo,l=null,o=co,f=s}return c&&o==="text/plain"&&(f=c,c=void 0),{action:l,method:i.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function df(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function jx(s,t,i){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l.pathname==="/"?l.pathname=`_root.${i}`:t&&Bn(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function Lx(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ux(s,t,i){let l=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await Lx(c,i);return f.links?f.links():[]}return[]}));return Vx(l.flat(1).filter(zx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function my(s,t,i,l,o,c){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,g=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return c==="assets"?t.filter((p,m)=>f(p,m)||g(p,m)):c==="data"?t.filter((p,m)=>{let b=l.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,m)||g(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Hx(s,t,{includeHydrateFallback:i}={}){return Bx(s.map(l=>{let o=t.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Bx(s){return[...new Set(s)]}function qx(s){let t={},i=Object.keys(s).sort();for(let l of i)t[l]=s[l];return t}function Vx(s,t){let i=new Set;return new Set(t),s.reduce((l,o)=>{let c=JSON.stringify(qx(o));return i.has(c)||(i.add(c),l.push({key:c,link:o})),l},[])}function I_(){let s=O.useContext(ua);return df(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Gx(){let s=O.useContext(Lo);return df(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var ff=O.createContext(void 0);ff.displayName="FrameworkContext";function j_(){let s=O.useContext(ff);return df(s,"You must render this element inside a <HydratedRouter> element"),s}function Px(s,t){let i=O.useContext(ff),[l,o]=O.useState(!1),[c,f]=O.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:v}=t,x=O.useRef(null);O.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let q=B=>{B.forEach(H=>{f(H.isIntersecting)})},D=new IntersectionObserver(q,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[s]),O.useEffect(()=>{if(l){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[l]);let M=()=>{o(!0)},j=()=>{o(!1),f(!1)};return i?s!=="intent"?[c,x,{}]:[c,x,{onFocus:ml(g,M),onBlur:ml(p,j),onMouseEnter:ml(m,M),onMouseLeave:ml(b,j),onTouchStart:ml(v,M)}]:[!1,x,{}]}function ml(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function Yx({page:s,...t}){let{router:i}=I_(),l=O.useMemo(()=>C_(i.routes,s,i.basename),[i.routes,s,i.basename]);return l?O.createElement(Fx,{page:s,matches:l,...t}):null}function Qx(s){let{manifest:t,routeModules:i}=j_(),[l,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return Ux(s,t,i).then(f=>{c||o(f)}),()=>{c=!0}},[s,t,i]),l}function Fx({page:s,matches:t,...i}){let l=Ri(),{manifest:o,routeModules:c}=j_(),{basename:f}=I_(),{loaderData:g,matches:p}=Gx(),m=O.useMemo(()=>my(s,t,p,o,l,"data"),[s,t,p,o,l]),b=O.useMemo(()=>my(s,t,p,o,l,"assets"),[s,t,p,o,l]),v=O.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let j=new Set,q=!1;if(t.forEach(B=>{let H=o.routes[B.route.id];!H||!H.hasLoader||(!m.some(G=>G.route.id===B.route.id)&&B.route.id in g&&c[B.route.id]?.shouldRevalidate||H.hasClientLoader?q=!0:j.add(B.route.id))}),j.size===0)return[];let D=jx(s,f,"data");return q&&j.size>0&&D.searchParams.set("_routes",t.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[D.pathname+D.search]},[f,g,l,o,m,t,s,c]),x=O.useMemo(()=>Hx(b,o),[b,o]),M=Qx(b);return O.createElement(O.Fragment,null,v.map(j=>O.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...i})),x.map(j=>O.createElement("link",{key:j,rel:"modulepreload",href:j,...i})),M.map(({key:j,link:q})=>O.createElement("link",{key:j,nonce:i.nonce,...q})))}function Kx(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var L_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L_&&(window.__reactRouterVersion="7.9.4")}catch{}function Xx({basename:s,children:t,window:i}){let l=O.useRef();l.current==null&&(l.current=LS({window:i,v5Compat:!0}));let o=l.current,[c,f]=O.useState({action:o.action,location:o.location}),g=O.useCallback(p=>{O.startTransition(()=>f(p))},[f]);return O.useLayoutEffect(()=>o.listen(g),[o,g]),O.createElement(Cx,{basename:s,children:t,location:c.location,navigationType:c.action,navigator:o})}var z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U_=O.forwardRef(function({onClick:t,discover:i="render",prefetch:l="none",relative:o,reloadDocument:c,replace:f,state:g,target:p,to:m,preventScrollReset:b,viewTransition:v,...x},M){let{basename:j}=O.useContext(rn),q=typeof m=="string"&&z_.test(m),D,B=!1;if(typeof m=="string"&&q&&(D=m,L_))try{let ze=new URL(window.location.href),ht=m.startsWith("//")?new URL(ze.protocol+m):new URL(m),mt=Bn(ht.pathname,j);ht.origin===ze.origin&&mt!=null?m=mt+ht.search+ht.hash:B=!0}catch{Kt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ux(m,{relative:o}),[G,se,Le]=Px(l,x),Ve=$x(m,{replace:f,state:g,target:p,preventScrollReset:b,relative:o,viewTransition:v});function ee(ze){t&&t(ze),ze.defaultPrevented||Ve(ze)}let Ge=O.createElement("a",{...x,...Le,href:D||H,onClick:B||c?t:ee,ref:Kx(M,se),target:p,"data-discover":!q&&i==="render"?"true":void 0});return G&&!q?O.createElement(O.Fragment,null,Ge,O.createElement(Yx,{page:H})):Ge});U_.displayName="Link";var Wx=O.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:l="",end:o=!1,style:c,to:f,viewTransition:g,children:p,...m},b){let v=Dl(f,{relative:m.relative}),x=Ri(),M=O.useContext(Lo),{navigator:j,basename:q}=O.useContext(rn),D=M!=null&&sE(v)&&g===!0,B=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,H=x.pathname,G=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(H=H.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&q&&(G=Bn(G,q)||G);const se=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let Le=H===B||!o&&H.startsWith(B)&&H.charAt(se)==="/",Ve=G!=null&&(G===B||!o&&G.startsWith(B)&&G.charAt(B.length)==="/"),ee={isActive:Le,isPending:Ve,isTransitioning:D},Ge=Le?t:void 0,ze;typeof l=="function"?ze=l(ee):ze=[l,Le?"active":null,Ve?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ht=typeof c=="function"?c(ee):c;return O.createElement(U_,{...m,"aria-current":Ge,className:ze,ref:b,style:ht,to:f,viewTransition:g},typeof p=="function"?p(ee):p)});Wx.displayName="NavLink";var Zx=O.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:l,replace:o,state:c,method:f=uo,action:g,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:v,...x},M)=>{let j=nE(),q=iE(g,{relative:m}),D=f.toLowerCase()==="get"?"get":"post",B=typeof g=="string"&&z_.test(g),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let se=G.nativeEvent.submitter,Le=se?.getAttribute("formmethod")||f;j(se||G.currentTarget,{fetcherKey:t,method:Le,navigate:i,replace:o,state:c,relative:m,preventScrollReset:b,viewTransition:v})};return O.createElement("form",{ref:M,method:D,action:q,onSubmit:l?p:H,...x,"data-discover":!B&&s==="render"?"true":void 0})});Zx.displayName="Form";function Jx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(s){let t=O.useContext(ua);return He(t,Jx(s)),t}function $x(s,{target:t,replace:i,state:l,preventScrollReset:o,relative:c,viewTransition:f}={}){let g=Oi(),p=Ri(),m=Dl(s,{relative:c});return O.useCallback(b=>{if(Mx(b,t)){b.preventDefault();let v=i!==void 0?i:Cl(p)===Cl(m);g(s,{replace:v,state:l,preventScrollReset:o,relative:c,viewTransition:f})}},[p,g,m,i,l,t,s,o,c,f])}var eE=0,tE=()=>`__${String(++eE)}__`;function nE(){let{router:s}=H_("useSubmit"),{basename:t}=O.useContext(rn),i=Sx();return O.useCallback(async(l,o={})=>{let{action:c,method:f,encType:g,formData:p,body:m}=Ix(l,t);if(o.navigate===!1){let b=o.fetcherKey||tE();await s.fetch(b,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||g,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||f,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,i])}function iE(s,{relative:t}={}){let{basename:i}=O.useContext(rn),l=O.useContext(on);He(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Dl(s||".",{relative:t})},f=Ri();if(s==null){c.search=f.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(b=>b==="")){g.delete("index"),p.filter(v=>v).forEach(v=>g.append("index",v));let b=g.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Un([i,c.pathname])),Cl(c)}function sE(s,{relative:t}={}){let i=O.useContext(R_);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=H_("useViewTransitionState"),o=Dl(s,{relative:t});if(!i.isTransitioning)return!1;let c=Bn(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=Bn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return yo(o.pathname,f)!=null||yo(o.pathname,c)!=null}function aE({setUser:s}){const[t,i]=O.useState("student"),[l,o]=O.useState(""),[c,f]=O.useState(""),[g,p]=O.useState(!0),m=Oi(),b=()=>{console.log("Auth attempt:",{role:t,email:l,password:c,isLogin:g}),s({email:l,role:t}),t==="student"?m("/student/classes"):t==="teacher"&&m("/teacher/dashboard")};return y.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-purple-800 to-black animate-gradient"}),y.jsx("style",{children:`
        @keyframes gradient {
          0% {
            background-position: 0% 50%;
          }
          50% {
            background-position: 100% 50%;
          }
          100% {
            background-position: 0% 50%;
          }
        }
        .animate-gradient {
          background: linear-gradient(45deg, #581c87, #6b21a8, #7c3aed, #000000, #581c87);
          background-size: 400% 400%;
          animation: gradient 15s ease infinite;
        }
      `}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative z-10",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx("img",{src:"/Edflow logo.svg",alt:"EdFlow Logo",className:"h-16 w-16"})}),y.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-2",children:"EdFlow Quiz"}),y.jsx("p",{className:"text-gray-600",children:g?"Welcome back!":"Create your account"})]}),y.jsxs("div",{className:"flex gap-3 mb-6",children:[y.jsx("button",{onClick:()=>i("student"),className:`flex-1 py-3 rounded-lg font-semibold transition-all ${t==="student"?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Student"}),y.jsx("button",{onClick:()=>i("teacher"),className:`flex-1 py-3 rounded-lg font-semibold transition-all ${t==="teacher"?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Teacher"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Email"}),y.jsx("input",{type:"email",value:l,onChange:v=>o(v.target.value),placeholder:"your.name@school.edu.au",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsx("input",{type:"password",value:c,onChange:v=>f(v.target.value),placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition"})]}),y.jsxs("button",{onClick:b,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 rounded-lg transition-colors shadow-lg hover:shadow-xl",children:[g?"Log In":"Sign Up"," as ",t==="student"?"Student":"Teacher"]})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsx("button",{onClick:()=>p(!g),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:g?"Don't have an account? Sign up":"Already have an account? Log in"})}),y.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:y.jsxs("p",{className:"text-xs text-gray-500",children:["Logging in as a ",y.jsx("span",{className:"font-semibold text-purple-600",children:t})]})})]})]})}function lE(){const[s,t]=O.useState(null),i=Oi(),l=[{id:1,name:"Maths Extension 1",icon:"📐",color:"from-blue-500 to-cyan-500",topics:12,quizzes:4},{id:2,name:"Business Studies",icon:"💼",color:"from-purple-500 to-pink-500",topics:6,quizzes:7}],o=()=>{localStorage.removeItem("user"),i("/")},c=f=>{t(f),console.log("Selected class:",f),i(`/student/subject/${f}`)};return y.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-purple-800 to-black animate-gradient"}),y.jsx("style",{children:`
        @keyframes gradient {
          0% {
            background-position: 0% 50%;
          }
          50% {
            background-position: 100% 50%;
          }
          100% {
            background-position: 0% 50%;
          }
        }
        .animate-gradient {
          background: linear-gradient(45deg, #581c87, #6b21a8, #7c3aed, #000000, #581c87);
          background-size: 400% 400%;
          animation: gradient 15s ease infinite;
        }
      `}),y.jsx("div",{className:"relative z-10 p-8",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-12",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome back, Student!"}),y.jsx("p",{className:"text-purple-200",children:"Select a class to get started"})]}),y.jsx("button",{onClick:o,className:"bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-lg backdrop-blur-sm transition-all",children:"Log Out"})]}),y.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:l.map(f=>y.jsxs("button",{onClick:()=>c(f.id),className:"group relative bg-white rounded-2xl p-8 shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 text-left",children:[f.id===2&&y.jsx("div",{className:"absolute -top-3 -right-3 bg-red-500 text-white px-4 py-2 rounded-full text-xs font-bold shadow-lg animate-[pulse_3s_ease-in-out_infinite] z-50",children:"NEW QUIZ!"}),y.jsx("div",{className:`absolute top-0 left-0 right-0 h-2 rounded-t-2xl bg-gradient-to-r ${f.color}`}),y.jsx("div",{className:"text-6xl mb-4",children:f.icon}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3 group-hover:text-purple-600 transition-colors",children:f.name}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-600 mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold text-purple-600",children:f.topics})," Topics"]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold text-purple-600",children:f.quizzes})," Quizzes"]})]}),y.jsxs("div",{className:"flex items-center text-purple-600 font-medium",children:[y.jsx("span",{children:"Start Learning"}),y.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-2 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},f.id))}),y.jsx("div",{className:"mt-12 max-w-4xl mx-auto",children:y.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:y.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0"}),y.jsx("div",{className:"text-purple-200 text-sm",children:"Quizzes Completed"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0%"}),y.jsx("div",{className:"text-purple-200 text-sm",children:"Average Score"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0"}),y.jsx("div",{className:"text-purple-200 text-sm",children:"Topics Mastered"})]})]})})})]})})]})}function rE(){const[s,t]=O.useState("all"),i=Oi(),l=p=>{i(`/student/quiz/${p}`)},o=()=>{i("/student/classes")},c=[{id:1,title:"Marketing Strategies & Consumer Behavior",topics:["Marketing","Consumer Behavior"],questions:5,difficulty:"Medium",timeEstimate:"20 min",isNew:!0}],f=[{id:2,title:"Business Operations & Management",topics:["Operations","Management"],questions:20,difficulty:"Hard",timeEstimate:"25 min",progress:60}],g=[{id:3,title:"Financial Planning Basics",topics:["Finance","Planning"],questions:12,difficulty:"Easy",score:85,completedDate:"2 days ago"},{id:4,title:"Human Resources Management",topics:["HR","Management"],questions:18,difficulty:"Medium",score:72,completedDate:"5 days ago"}];return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[y.jsxs("button",{onClick:o,className:"text-white/80 hover:text-white mb-4 flex items-center text-sm",children:[y.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Classes"]}),y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("span",{className:"text-5xl",children:"💼"}),y.jsx("h1",{className:"text-4xl font-bold",children:"Business Studies"})]}),y.jsx("p",{className:"text-purple-100",children:"Year 12 HSC • 15 Topics • 30 Quizzes Available"})]}),y.jsx("div",{className:"max-w-7xl mx-auto px-6",children:y.jsx("div",{className:"flex gap-2 border-b border-white/20",children:[{id:"all",label:"All Quizzes"},{id:"new",label:"New"},{id:"bookmarked",label:"Bookmarked"},{id:"completed",label:"Completed"},{id:"revision",label:"Revision Mode"}].map(p=>y.jsx("button",{onClick:()=>t(p.id),className:`px-6 py-3 font-medium transition-all ${s===p.id?"text-white border-b-2 border-white":"text-white/60 hover:text-white/90"}`,children:p.label},p.id))})})]}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(s==="all"||s==="new")&&y.jsxs("div",{className:"mb-12",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"New Quiz Added!"}),y.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:"NEW"})]}),y.jsx("div",{className:"grid gap-6",children:c.map(p=>y.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all border-l-4 border-purple-500",children:y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:p.title}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:p.topics.map(m=>y.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:m},m))}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-600",children:[y.jsxs("span",{children:["📝 ",p.questions," questions"]}),y.jsxs("span",{children:["⏱️ ",p.timeEstimate]}),y.jsx("span",{className:`font-semibold ${p.difficulty==="Easy"?"text-green-600":p.difficulty==="Medium"?"text-yellow-600":"text-red-600"}`,children:p.difficulty})]})]}),y.jsx("button",{onClick:()=>l(p.id),className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:"Start Quiz"})]})},p.id))})]}),(s==="all"||s==="bookmarked")&&f.length>0&&y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"📌 Bookmarked Quizzes"}),y.jsx("div",{className:"grid gap-6",children:f.map(p=>y.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all",children:y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:p.title}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:p.topics.map(m=>y.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:m},m))}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-600 mb-3",children:[y.jsxs("span",{children:["📝 ",p.questions," questions"]}),y.jsxs("span",{children:["⏱️ ",p.timeEstimate]}),y.jsx("span",{className:"font-semibold text-yellow-600",children:p.difficulty})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:y.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${p.progress}%`}})}),y.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[p.progress,"%"]})]})]}),y.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-all ml-4",children:"Continue"})]})},p.id))})]}),(s==="all"||s==="revision")&&y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"🎯 Revision Mode"}),y.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-8 border-2 border-purple-200",children:y.jsxs("div",{className:"flex items-start gap-6",children:[y.jsx("div",{className:"bg-purple-600 text-white p-4 rounded-xl text-4xl",children:"🧠"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Personalized Learning Experience"}),y.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Specially curated quizzes developed by EdFlow's advanced analysis algorithm. This mode compiles questions you got wrong, spent the most time on, or topics where you need improvement. Perfect for targeted exam preparation and mastering difficult concepts."}),y.jsxs("div",{className:"flex gap-4 text-sm text-gray-700 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:[y.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),y.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),y.jsx("span",{children:"Adaptive difficulty"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),y.jsx("span",{children:"Focus on weak areas"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),y.jsx("span",{children:"Time-based insights"})]})]}),y.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:"Start Revision Quiz"})]})]})})]}),(s==="all"||s==="completed")&&g.length>0&&y.jsxs("div",{className:"mb-12",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"✅ Completed Quizzes"}),y.jsx("div",{className:"grid gap-6",children:g.map(p=>y.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:p.title}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:p.topics.map(m=>y.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:m},m))}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-600",children:[y.jsxs("span",{children:["📝 ",p.questions," questions"]}),y.jsxs("span",{children:["🎯 Score: ",y.jsxs("span",{className:`font-bold ${p.score>=80?"text-green-600":p.score>=60?"text-yellow-600":"text-red-600"}`,children:[p.score,"%"]})]}),y.jsxs("span",{children:["📅 ",p.completedDate]})]})]}),y.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-lg font-semibold transition-all",children:"Review"})]})},p.id))})]})]})]})}function oE(){const[s,t]=O.useState(0),[i,l]=O.useState(null),[o,c]=O.useState(""),[f,g]=O.useState([]),[p,m]=O.useState(0),[b,v]=O.useState(!1),[x,M]=O.useState({}),j=Oi(),q=[{id:1,type:"multiple-choice",question:"What is the primary objective of a business?",options:["To maximize profit","To satisfy stakeholder needs","To provide employment","To contribute to society"],correctAnswer:0},{id:2,type:"short-answer",question:"Explain the difference between internal and external stakeholders in a business.",maxWords:100,modelAnswer:"Internal stakeholders are individuals or groups within the organization such as employees, managers, and owners. External stakeholders are outside parties like customers, suppliers, and the community who are affected by business decisions."},{id:3,type:"multiple-choice",question:"Which of the following is NOT a function of management?",options:["Planning","Leading","Marketing","Controlling"],correctAnswer:2},{id:4,type:"short-answer",question:"Describe two advantages of operating as a sole trader.",maxWords:80,modelAnswer:"Advantages include complete control over business decisions and operations, and the owner receives all profits. Additionally, sole traders have simplified legal requirements and lower setup costs compared to companies."},{id:5,type:"multiple-choice",question:"What does CSR stand for in business?",options:["Customer Service Relations","Corporate Social Responsibility","Company Sales Revenue","Consumer Safety Regulations"],correctAnswer:1}],D=q[s],B=o.trim().split(/\s+/).filter(me=>me.length>0).length,H=D.type==="short-answer"&&B>D.maxWords;O.useEffect(()=>{const me=setInterval(()=>{m(Oe=>Oe+1)},1e3);return()=>clearInterval(me)},[]);const G=me=>{const Oe=Math.floor(me/60),Zt=me%60;return`${Oe}:${Zt.toString().padStart(2,"0")}`},se=me=>{l(me),M({...x,[s]:me})},Le=me=>{c(me.target.value),M({...x,[s]:me.target.value})},Ve=()=>{f.includes(s)?g(f.filter(me=>me!==s)):g([...f,s])},ee=()=>{s<q.length-1&&(t(s+1),l(x[s+1]||null),c(x[s+1]||""))},Ge=()=>{s>0&&(t(s-1),l(x[s-1]||null),c(x[s-1]||""))},ze=()=>{console.log("Quiz submitted!",x),j("/student/quiz-results/1")},ht=()=>{v(!0)},mt=()=>{console.log("Quiz bookmarked for later"),j("/student/subject/2")};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("div",{className:"bg-white shadow-md sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Marketing Strategies Quiz"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Question ",s+1," of ",q.length]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-2xl font-bold text-purple-600",children:G(p)}),y.jsx("div",{className:"text-xs text-gray-500",children:"Time Elapsed"})]}),y.jsx("button",{onClick:ht,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Exit Quiz"})]})]})}),y.jsx("div",{className:"bg-gray-200 h-2",children:y.jsx("div",{className:"bg-purple-600 h-2 transition-all duration-300",style:{width:`${(s+1)/q.length*100}%`}})}),y.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-semibold",children:D.type==="multiple-choice"?"Multiple Choice":"Short Answer"}),f.includes(s)&&y.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-semibold",children:"🚩 Flagged"})]}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:D.question}),D.type==="short-answer"&&y.jsxs("p",{className:"text-sm text-gray-500",children:["Maximum ",D.maxWords," words"]})]}),y.jsx("button",{onClick:Ve,className:`ml-4 p-3 rounded-lg transition-all ${f.includes(s)?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Flag question for review",children:y.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z"})})})]}),D.type==="multiple-choice"&&y.jsx("div",{className:"space-y-3",children:D.options.map((me,Oe)=>y.jsx("button",{onClick:()=>se(Oe),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${i===Oe?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 bg-white"}`,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${i===Oe?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:i===Oe&&y.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("span",{className:"font-medium text-gray-800",children:me})]})},Oe))}),D.type==="short-answer"&&y.jsxs("div",{children:[y.jsx("textarea",{value:o,onChange:Le,placeholder:"Type your answer here...",className:`w-full p-4 border-2 rounded-lg min-h-[200px] focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition ${H?"border-red-500":"border-gray-300"}`}),y.jsx("div",{className:"flex justify-between items-center mt-2",children:y.jsxs("p",{className:`text-sm ${H?"text-red-600 font-semibold":"text-gray-500"}`,children:["Word count: ",B," / ",D.maxWords,H&&" (Over limit!)"]})})]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("button",{onClick:Ge,disabled:s===0,className:"flex items-center gap-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),s===q.length-1?y.jsx("button",{onClick:ze,className:"px-8 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:"Submit Quiz"}):y.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all",children:["Next",y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),y.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[y.jsx("h3",{className:"font-semibold text-gray-700 mb-4",children:"Question Navigator"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:q.map((me,Oe)=>y.jsx("button",{onClick:()=>{t(Oe),l(x[Oe]||null),c(x[Oe]||"")},className:`w-12 h-12 rounded-lg font-semibold transition-all ${Oe===s?"bg-purple-600 text-white":x[Oe]!==void 0?"bg-green-100 text-green-700 hover:bg-green-200":f.includes(Oe)?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Oe+1},Oe))}),y.jsxs("div",{className:"flex gap-4 mt-4 text-sm",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded"}),y.jsx("span",{className:"text-gray-600",children:"Current"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 bg-green-100 rounded"}),y.jsx("span",{className:"text-gray-600",children:"Answered"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded"}),y.jsx("span",{className:"text-gray-600",children:"Flagged"})]})]})]})]}),b&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Exit Quiz?"}),y.jsx("p",{className:"text-gray-600",children:"Your progress will be saved and this quiz will be added to your bookmarked quizzes. You can continue later from where you left off."})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Continue Quiz"}),y.jsx("button",{onClick:mt,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all",children:"Exit & Save"})]})]})})]})}const uE=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(s,t){if(!s)throw da(t)},da=function(s){return new Error("Firebase Database ("+B_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},cE=function(s){const t=[];let i=0,l=0;for(;i<s.length;){const o=s[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[l++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],g=s[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[l++]=String.fromCharCode(55296+(p>>10)),t[l++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],f=s[i++];t[l++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},hf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,b=c>>2,v=(c&3)<<4|g>>4;let x=(g&15)<<2|m>>6,M=m&63;p||(M=64,f||(x=64)),l.push(i[b],i[v],i[x],i[M])}return l.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(q_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):cE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const m=o<s.length?i[s.charAt(o)]:64;++o;const v=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||m==null||v==null)throw new dE;const x=c<<2|g>>4;if(l.push(x),m!==64){const M=g<<4&240|m>>2;if(l.push(M),v!==64){const j=m<<6&192|v;l.push(j)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V_=function(s){const t=q_(s);return hf.encodeByteArray(t,!0)},_o=function(s){return V_(s).replace(/\./g,"")},vo=function(s){try{return hf.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(s){return G_(void 0,s)}function G_(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!hE(i)||(s[i]=G_(s[i],t[i]));return s}function hE(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=()=>mE().__FIREBASE_DEFAULTS__,gE=()=>{if(typeof process>"u"||typeof py>"u")return;const s=py.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},yE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&vo(s[1]);return t&&JSON.parse(t)},mf=()=>{try{return uE()||pE()||gE()||yE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P_=s=>mf()?.emulatorHosts?.[s],_E=s=>{const t=P_(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},Y_=()=>mf()?.config,Q_=s=>mf()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F_(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[_o(JSON.stringify(i)),_o(JSON.stringify(f)),""].join(".")}const vl={};function bE(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function SE(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let gy=!1;function K_(s,t){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||vl[s]===t||vl[s]||gy)return;vl[s]=t;function i(x){return`__firebase__banner__${x}`}const l="__firebase__banner",c=bE().prod.length>0;function f(){const x=document.getElementById(l);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,M){x.setAttribute("width","24"),x.setAttribute("id",M),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{gy=!0,f()},x}function b(x,M){x.setAttribute("id",M),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=SE(l),M=i("text"),j=document.getElementById(M)||document.createElement("span"),q=i("learnmore"),D=document.getElementById(q)||document.createElement("a"),B=i("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const G=x.element;g(G),b(D,q);const se=m();p(H,B),G.append(H,j,D,se),document.body.appendChild(G)}c?(j.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function xE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function X_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TE(){const s=yt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CE(){return B_.NODE_ADMIN===!0}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((s,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FirebaseError";class Mi extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=AE,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?RE(c,l):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Mi(o,g,l)}}function RE(s,t){return s.replace(OE,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const OE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(s){return JSON.parse(s)}function ut(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(s){let t={},i={},l={},o="";try{const c=s.split(".");t=wl(vo(c[0])||""),i=wl(vo(c[1])||""),o=c[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},ME=function(s){const t=W_(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},DE=function(s){const t=W_(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function sa(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Ld(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function bo(s,t,i){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=t.call(i,s[o],o,s));return l}function ns(s,t){if(s===t)return!0;const i=Object.keys(s),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const c=s[o],f=t[o];if(yy(c)&&yy(f)){if(!ns(c,f))return!1}else if(c!==f)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function yy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){const t=[];for(const[i,l]of Object.entries(s))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)l[v]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let v=0;v<16;v++)l[v]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let v=16;v<80;v++){const x=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],f=this.chain_[2],g=this.chain_[3],p=this.chain_[4],m,b;for(let v=0;v<80;v++){v<40?v<20?(m=g^c&(f^g),b=1518500249):(m=c^f^g,b=1859775393):v<60?(m=c&f|g&(c|f),b=2400959708):(m=c^f^g,b=3395469782);const x=(o<<5|o>>>27)+m+p+b+l[v]&4294967295;p=g,g=f,f=(c<<30|c>>>2)&4294967295,c=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const c=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[f]=t.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}else for(;o<i;)if(c[f]=t[o],++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[l]=this.chain_[o]>>c&255,++l;return t}}function IE(s,t){const i=new jE(s,t);return i.subscribe.bind(i)}class jE{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");LE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=bd),o.error===void 0&&(o.error=bd),o.complete===void 0&&(o.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LE(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function bd(){}function gf(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(s){const t=[];let i=0;for(let l=0;l<s.length;l++){let o=s.charCodeAt(l);if(o>=55296&&o<=56319){const c=o-55296;l++,V(l<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(l)-56320;o=65536+(c<<10)+f}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ho=function(s){let t=0;for(let i=0;i<s.length;i++){const l=s.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(s){return s&&s._delegate?s._delegate:s}class is{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Uo;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BE(t))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});l.resolve(c)}catch{}}}}clearInstance(t=Zi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zi){return this.instances.has(t)}getOptions(t=Zi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);l===g&&f.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const c=this.instances.get(l);return c&&t(c,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:HE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=Zi){return this.component?this.component.multipleInstances?t:Zi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HE(s){return s===Zi?void 0:s}function BE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new UE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(we||(we={}));const VE={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},GE=we.INFO,PE={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},YE=(s,t,...i)=>{if(t<s.logLevel)return;const l=new Date().toISOString(),o=PE[t];if(o)console[o](`[${l}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yf{constructor(t){this.name=t,this._logLevel=GE,this._logHandler=YE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const QE=(s,t)=>t.some(i=>s instanceof i);let _y,vy;function FE(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KE(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,zd=new WeakMap,J_=new WeakMap,Sd=new WeakMap,_f=new WeakMap;function XE(s){const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(Ti(s.result)),o()},f=()=>{l(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&Z_.set(i,s)}).catch(()=>{}),_f.set(t,s),t}function WE(s){if(zd.has(s))return;const t=new Promise((i,l)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{l(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});zd.set(s,t)}let Ud={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||J_.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ti(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ZE(s){Ud=s(Ud)}function JE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=s.call(xd(this),t,...i);return J_.set(l,t.sort?t.sort():[t]),Ti(l)}:KE().includes(s)?function(...t){return s.apply(xd(this),t),Ti(Z_.get(this))}:function(...t){return Ti(s.apply(xd(this),t))}}function $E(s){return typeof s=="function"?JE(s):(s instanceof IDBTransaction&&WE(s),QE(s,FE())?new Proxy(s,Ud):s)}function Ti(s){if(s instanceof IDBRequest)return XE(s);if(Sd.has(s))return Sd.get(s);const t=$E(s);return t!==s&&(Sd.set(s,t),_f.set(t,s)),t}const xd=s=>_f.get(s);function eT(s,t,{blocked:i,upgrade:l,blocking:o,terminated:c}={}){const f=indexedDB.open(s,t),g=Ti(f);return l&&f.addEventListener("upgradeneeded",p=>{l(Ti(f.result),p.oldVersion,p.newVersion,Ti(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const tT=["get","getKey","getAll","getAllKeys","count"],nT=["put","add","delete","clear"],Ed=new Map;function by(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=nT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||tT.includes(i)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return l&&(m=m.index(g.shift())),(await Promise.all([m[i](...g),o&&p.done]))[0]};return Ed.set(t,c),c}ZE(s=>({...s,get:(t,i,l)=>by(t,i)||s.get(t,i,l),has:(t,i)=>!!by(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sT(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function sT(s){return s.getComponent()?.type==="VERSION"}const Hd="@firebase/app",Sy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new yf("@firebase/app"),aT="@firebase/app-compat",lT="@firebase/analytics-compat",rT="@firebase/analytics",oT="@firebase/app-check-compat",uT="@firebase/app-check",cT="@firebase/auth",dT="@firebase/auth-compat",fT="@firebase/database",hT="@firebase/data-connect",mT="@firebase/database-compat",pT="@firebase/functions",gT="@firebase/functions-compat",yT="@firebase/installations",_T="@firebase/installations-compat",vT="@firebase/messaging",bT="@firebase/messaging-compat",ST="@firebase/performance",xT="@firebase/performance-compat",ET="@firebase/remote-config",TT="@firebase/remote-config-compat",CT="@firebase/storage",wT="@firebase/storage-compat",NT="@firebase/firestore",AT="@firebase/ai",RT="@firebase/firestore-compat",OT="firebase",MT="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",DT={[Hd]:"fire-core",[aT]:"fire-core-compat",[rT]:"fire-analytics",[lT]:"fire-analytics-compat",[uT]:"fire-app-check",[oT]:"fire-app-check-compat",[cT]:"fire-auth",[dT]:"fire-auth-compat",[fT]:"fire-rtdb",[hT]:"fire-data-connect",[mT]:"fire-rtdb-compat",[pT]:"fire-fn",[gT]:"fire-fn-compat",[yT]:"fire-iid",[_T]:"fire-iid-compat",[vT]:"fire-fcm",[bT]:"fire-fcm-compat",[ST]:"fire-perf",[xT]:"fire-perf-compat",[ET]:"fire-rc",[TT]:"fire-rc-compat",[CT]:"fire-gcs",[wT]:"fire-gcs-compat",[NT]:"fire-fst",[RT]:"fire-fst-compat",[AT]:"fire-vertex","fire-js":"fire-js",[OT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,kT=new Map,qd=new Map;function xy(s,t){try{s.container.addComponent(t)}catch(i){qn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function aa(s){const t=s.name;if(qd.has(t))return qn.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,s);for(const i of So.values())xy(i,s);for(const i of kT.values())xy(i,s);return!0}function vf(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function hn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new kl("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=MT;function $_(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const l={name:Bd,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(i||(i=Y_()),!i)throw Ci.create("no-options");const c=So.get(o);if(c){if(ns(i,c.options)&&ns(l,c.config))return c;throw Ci.create("duplicate-app",{appName:o})}const f=new qE(o);for(const p of qd.values())f.addComponent(p);const g=new jT(i,l,f);return So.set(o,g),g}function ev(s=Bd){const t=So.get(s);if(!t&&s===Bd&&Y_())return $_();if(!t)throw Ci.create("no-app",{appName:s});return t}function wi(s,t,i){let l=DT[s]??s;i&&(l+=`-${i}`);const o=l.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${l}" with version "${t}":`];o&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qn.warn(f.join(" "));return}aa(new is(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebase-heartbeat-database",zT=1,Nl="firebase-heartbeat-store";let Td=null;function tv(){return Td||(Td=eT(LT,zT,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ci.create("idb-open",{originalErrorMessage:s.message})})),Td}async function UT(s){try{const i=(await tv()).transaction(Nl),l=await i.objectStore(Nl).get(nv(s));return await i.done,l}catch(t){if(t instanceof Mi)qn.warn(t.message);else{const i=Ci.create("idb-get",{originalErrorMessage:t?.message});qn.warn(i.message)}}}async function Ey(s,t){try{const l=(await tv()).transaction(Nl,"readwrite");await l.objectStore(Nl).put(t,nv(s)),await l.done}catch(i){if(i instanceof Mi)qn.warn(i.message);else{const l=Ci.create("idb-set",{originalErrorMessage:i?.message});qn.warn(l.message)}}}function nv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1024,BT=30;class qT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ty();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>BT){const o=PT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ty(),{heartbeatsToSend:i,unsentEntries:l}=VT(this._heartbeatsCache.heartbeats),o=_o(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qn.warn(t),""}}}function Ty(){return new Date().toISOString().substring(0,10)}function VT(s,t=HT){const i=[];let l=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Cy(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Cy(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class GT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Ey(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Ey(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Cy(s){return _o(JSON.stringify({version:2,heartbeats:s})).length}function PT(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let l=1;l<s.length;l++)s[l].date<i&&(i=s[l].date,t=l);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s){aa(new is("platform-logger",t=>new iT(t),"PRIVATE")),aa(new is("heartbeat",t=>new qT(t),"PRIVATE")),wi(Hd,Sy,s),wi(Hd,Sy,"esm2020"),wi("fire-js","")}YT("");var QT="firebase",FT="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(QT,FT,"app");function iv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KT=iv,sv=new kl("auth","Firebase",iv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new yf("@firebase/auth");function XT(s,...t){xo.logLevel<=we.WARN&&xo.warn(`Auth (${ma}): ${s}`,...t)}function fo(s,...t){xo.logLevel<=we.ERROR&&xo.error(`Auth (${ma}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(s,...t){throw bf(s,...t)}function pn(s,...t){return bf(s,...t)}function av(s,t,i){const l={...KT(),[t]:i};return new kl("auth","Firebase",l).create(t,{appName:s.name})}function ts(s){return av(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bf(s,...t){if(typeof s!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=s.name),s._errorFactory.create(i,...l)}return sv.create(s,...t)}function J(s,t,...i){if(!s)throw bf(t,...i)}function jn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw fo(t),new Error(t)}function Gn(s,t){s||jn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){return typeof self<"u"&&self.location?.href||""}function WT(){return wy()==="http:"||wy()==="https:"}function wy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WT()||EE()||"connection"in navigator)?navigator.onLine:!0}function JT(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gn(i>t,"Short delay should be less than long delay!"),this.isMobile=pf()||X_()}get(){return ZT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(s,t){Gn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new Il(3e4,6e4);function xf(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function pa(s,t,i,l,o={}){return rv(s,o,async()=>{let c={},f={};l&&(t==="GET"?f=l:c={body:JSON.stringify(l)});const g=ha({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m={method:t,headers:p,...c};return xE()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&fa(s.emulatorConfig.host)&&(m.credentials="include"),lv.fetch()(await ov(s,s.config.apiHost,i,g),m)})}async function rv(s,t,i){s._canInitEmulator=!1;const l={...$T,...t};try{const o=new iC(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw lo(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,m]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lo(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lo(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw lo(s,"user-disabled",f);const b=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw av(s,b,m);Vn(s,b)}}catch(o){if(o instanceof Mi)throw o;Vn(s,"network-request-failed",{message:String(o)})}}async function nC(s,t,i,l,o={}){const c=await pa(s,t,i,l,o);return"mfaPendingCredential"in c&&Vn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function ov(s,t,i,l){const o=`${t}${i}?${l}`,c=s,f=c.config.emulator?Sf(s.config,o):`${s.config.apiScheme}://${o}`;return eC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(pn(this.auth,"network-request-failed")),tC.get())})}}function lo(s,t,i){const l={appName:s.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=pn(s,t,l);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(s,t){return pa(s,"POST","/v1/accounts:delete",t)}async function Eo(s,t){return pa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aC(s,t=!1){const i=Wt(s),l=await i.getIdToken(t),o=Ef(l);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:l,authTime:bl(Cd(o.auth_time)),issuedAtTime:bl(Cd(o.iat)),expirationTime:bl(Cd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cd(s){return Number(s)*1e3}function Ef(s){const[t,i,l]=s.split(".");if(t===void 0||i===void 0||l===void 0)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const o=vo(i);return o?JSON.parse(o):(fo("Failed to decode base64 JWT payload"),null)}catch(o){return fo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ny(s){const t=Ef(s);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(s,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof Mi&&lC(l)&&s.auth.currentUser===s&&await s.auth.signOut(),l}}function lC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(s){const t=s.auth,i=await s.getIdToken(),l=await Al(s,Eo(t,{idToken:i}));J(l?.users.length,t,"internal-error");const o=l.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?uv(o.providerUserInfo):[],f=uC(s.providerData,c),g=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,m=g?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(s,b)}async function oC(s){const t=Wt(s);await To(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uC(s,t){return[...s.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function uv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(s,t){const i=await rv(s,{},async()=>{const l=ha({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await ov(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:l};return s.emulatorConfig&&fa(s.emulatorConfig.host)&&(p.credentials="include"),lv.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dC(s,t){return pa(s,"POST","/v2/accounts:revokeToken",xf(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ny(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=Ny(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:c}=await cC(t,i);this.updateTokensAndExpiration(l,o,Number(c))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:c}=i,f=new $s;return l&&(J(typeof l=="string","internal-error",{appName:t}),f.refreshToken=l),o&&(J(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(J(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(s,t){J(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class sn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new rC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Al(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aC(this,t)}reload(){return oC(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new sn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await To(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(ts(this.auth));const t=await this.getIdToken();return await Al(this,sC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,m=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:M,providerData:j,stsTokenManager:q}=i;J(v&&q,t,"internal-error");const D=$s.fromJSON(this.name,q);J(typeof v=="string",t,"internal-error"),_i(l,t.name),_i(o,t.name),J(typeof x=="boolean",t,"internal-error"),J(typeof M=="boolean",t,"internal-error"),_i(c,t.name),_i(f,t.name),_i(g,t.name),_i(p,t.name),_i(m,t.name),_i(b,t.name);const B=new sn({uid:v,auth:t,email:o,emailVerified:x,displayName:l,isAnonymous:M,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:D,createdAt:m,lastLoginAt:b});return j&&Array.isArray(j)&&(B.providerData=j.map(H=>({...H}))),p&&(B._redirectEventId=p),B}static async _fromIdTokenResponse(t,i,l=!1){const o=new $s;o.updateFromServerResponse(i);const c=new sn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await To(c),c}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];J(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?uv(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new $s;g.updateFromIdToken(l);const p=new sn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;function Ln(s){Gn(s instanceof Function,"Expected a class definition");let t=Ay.get(s);return t?(Gn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Ay.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}cv.type="NONE";const Ry=cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(s,t,i){return`firebase:${s}:${t}:${i}`}class ea{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:c}=this.auth;this.fullUserKey=ho(this.userKey,o.apiKey,c),this.fullPersistenceKey=ho("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Eo(this.auth,{idToken:t}).catch(()=>{});return i?sn._fromGetAccountInfoResponse(this.auth,i,t):null}return sn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ea(Ln(Ry),t,l);const o=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Ln(Ry);const f=ho(l,t.config.apiKey,t.name);let g=null;for(const m of i)try{const b=await m._get(f);if(b){let v;if(typeof b=="string"){const x=await Eo(t,{idToken:b}).catch(()=>{});if(!x)break;v=await sn._fromGetAccountInfoResponse(t,x,b)}else v=sn._fromJSON(t,b);m!==c&&(g=v),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ea(c,t,l):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async m=>{if(m!==c)try{await m._remove(f)}catch{}})),new ea(c,t,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gv(t))return"Blackberry";if(yv(t))return"Webos";if(fv(t))return"Safari";if((t.includes("chrome/")||hv(t))&&!t.includes("edge/"))return"Chrome";if(pv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=s.match(i);if(l?.length===2)return l[1]}return"Other"}function dv(s=yt()){return/firefox\//i.test(s)}function fv(s=yt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hv(s=yt()){return/crios\//i.test(s)}function mv(s=yt()){return/iemobile/i.test(s)}function pv(s=yt()){return/android/i.test(s)}function gv(s=yt()){return/blackberry/i.test(s)}function yv(s=yt()){return/webos/i.test(s)}function Tf(s=yt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function fC(s=yt()){return Tf(s)&&!!window.navigator?.standalone}function hC(){return TE()&&document.documentMode===10}function _v(s=yt()){return Tf(s)||pv(s)||yv(s)||gv(s)||/windows phone/i.test(s)||mv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s,t=[]){let i;switch(s){case"Browser":i=Oy(yt());break;case"Worker":i=`${Oy(yt())}-${s}`;break;default:i=s}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ma}/${l}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(s,t={}){return pa(s,"GET","/v2/passwordPolicy",xf(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=6;class yC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new My(this),this.idTokenSubscription=new My(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ln(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ea.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Eo(this,{idToken:t}),l=await sn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=l?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===f)&&g?.user&&(l=g.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(c){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await To(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hn(this.app))return Promise.reject(ts(this));const i=t?Wt(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),i=new yC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await dC(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ln(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Ln(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,l,o);return()=>{f=!0,p()}}else{const p=t.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&XT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Cf(s){return Wt(s)}class My{constructor(t){this.auth=t,this.observer=null,this.addObserver=IE(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(s){wf=s}function bC(s){return wf.loadJS(s)}function SC(){return wf.gapiScript}function xC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(s,t){const i=vf(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ns(c,t??{}))return o;Vn(o,"already-initialized")}return i.initialize({options:t})}function TC(s,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Ln);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(l,t?.popupRedirectResolver)}function CC(s,t,i){const l=Cf(s);J(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,c=bv(t),{host:f,port:g}=wC(t),p=g===null?"":`:${g}`,m={url:`${c}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){J(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),J(ns(m,l.config.emulator)&&ns(b,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=m,l.emulatorConfig=b,l.settings.appVerificationDisabledForTesting=!0,fa(f)?(F_(`${c}//${f}${p}`),K_("Auth",!0)):NC()}function bv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function wC(s){const t=bv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const c=o[1];return{host:c,port:Dy(l.substr(c.length+1))}}else{const[c,f]=l.split(":");return{host:c,port:Dy(f)}}}function Dy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function NC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,i){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(s,t){return nC(s,"POST","/v1/accounts:signInWithIdp",xf(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="http://localhost";class ss extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ss(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...c}=i;if(!l||!o)return null;const f=new ss(l,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return ta(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ta(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ta(t,i)}buildRequest(){const t={requestUri:AC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ha(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends xv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends jl{constructor(){super("facebook.com")}static credential(t){return ss._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ss._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Si.credential(i,l)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends jl{constructor(){super("github.com")}static credential(t){return ss._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends jl{constructor(){super("twitter.com")}static credential(t,i){return ss._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Ei.credential(i,l)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const c=await sn._fromIdTokenResponse(t,l,o),f=ky(l);return new la({user:c,providerId:f,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=ky(l);return new la({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function ky(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Mi{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Co.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Co(t,i,l,o)}}function Ev(s,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Co._fromErrorAndOperation(s,c,t,l):c})}async function RC(s,t,i=!1){const l=await Al(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return la._forOperation(s,"link",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(s,t,i=!1){const{auth:l}=s;if(hn(l.app))return Promise.reject(ts(l));const o="reauthenticate";try{const c=await Al(s,Ev(l,o,t,s),i);J(c.idToken,l,"internal-error");const f=Ef(c.idToken);J(f,l,"internal-error");const{sub:g}=f;return J(s.uid===g,l,"user-mismatch"),la._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vn(l,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(s,t,i=!1){if(hn(s.app))return Promise.reject(ts(s));const l="signIn",o=await Ev(s,l,t),c=await la._fromIdTokenResponse(s,l,o);return i||await s._updateCurrentUser(c.user),c}function DC(s,t,i,l){return Wt(s).onIdTokenChanged(t,i,l)}function kC(s,t,i){return Wt(s).beforeAuthStateChanged(t,i)}const wo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1e3,jC=10;class Cv extends Tv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_v(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(l);!i&&this.localCache[l]===f||this.notifyListeners(l,f)},c=this.storage.getItem(l);hC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,jC):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Cv.type="LOCAL";const LC=Cv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Tv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}wv.type="SESSION";const Nv=wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new Bo(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const g=Array.from(f).map(async m=>m(i.origin,c)),p=await zC(g);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(s="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const m=Nf("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},l);f={messageChannel:o,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:m,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function HC(s){gn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function BC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qC(){return navigator?.serviceWorker?.controller||null}function VC(){return Av()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="firebaseLocalStorageDb",GC=1,No="firebaseLocalStorage",Ov="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function qo(s,t){return s.transaction([No],t?"readwrite":"readonly").objectStore(No)}function PC(){const s=indexedDB.deleteDatabase(Rv);return new Ll(s).toPromise()}function Pd(){const s=indexedDB.open(Rv,GC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const l=s.result;try{l.createObjectStore(No,{keyPath:Ov})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const l=s.result;l.objectStoreNames.contains(No)?t(l):(l.close(),await PC(),t(await Pd()))})})}async function Iy(s,t,i){const l=qo(s,!0).put({[Ov]:t,value:i});return new Ll(l).toPromise()}async function YC(s,t){const i=qo(s,!1).get(t),l=await new Ll(i).toPromise();return l===void 0?null:l.value}function jy(s,t){const i=qo(s,!0).delete(t);return new Ll(i).toPromise()}const QC=800,FC=3;class Mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>FC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bo._getInstance(VC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BC(),!this.activeServiceWorker)return;this.sender=new UC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pd();return await Iy(t,wo,"1"),await jy(t,wo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>Iy(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>YC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=qo(o,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mv.type="LOCAL";const KC=Mv;new Il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(s,t){return t?Ln(t):(J(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Sv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ta(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ta(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ta(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function WC(s){return MC(s.auth,new Af(s),s.bypassAuthState)}function ZC(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),OC(i,new Af(s),s.bypassAuthState)}async function JC(s){const{auth:t,user:i}=s;return J(i,t,"internal-error"),RC(i,new Af(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,i,l,o,c=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:l,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return JC;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:Vn(this.auth,"internal-error")}}resolve(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Il(2e3,1e4);class Zs extends Dv{constructor(t,i,l,o,c){super(t,i,o,c),this.provider=l,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const t=Nf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$C.get())};t()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="pendingRedirect",mo=new Map;class tw extends Dv{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=mo.get(this.auth._key());if(!t){try{const l=await nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}mo.set(this.auth._key(),t)}return this.bypassAuthState||mo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nw(s,t){const i=aw(t),l=sw(s);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function iw(s,t){mo.set(s._key(),t)}function sw(s){return Ln(s._redirectPersistence)}function aw(s){return ho(ew,s.config.apiKey,s.name)}async function lw(s,t,i=!1){if(hn(s.app))return Promise.reject(ts(s));const l=Cf(s),o=XC(l,t),f=await new tw(l,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await l._persistUserIfCurrent(f.user),await l._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=600*1e3;class ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kv(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(pn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ly(t))}saveEventToCache(t){this.cachedEventUids.add(Ly(t)),this.lastProcessedEventTime=Date.now()}}function Ly(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function kv({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(s,t={}){return pa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fw=/^https?/;async function hw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cw(s);for(const i of t)try{if(mw(i))return}catch{}Vn(s,"unauthorized-domain")}function mw(s){const t=Vd(),{protocol:i,hostname:l}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&l===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===l}if(!fw.test(i))return!1;if(dw.test(s))return l===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Il(3e4,6e4);function zy(){const s=gn().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function gw(s){return new Promise((t,i)=>{function l(){zy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zy(),i(pn(s,"network-request-failed"))},timeout:pw.get()})}if(gn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(gn().gapi?.load)l();else{const o=xC("iframefcb");return gn()[o]=()=>{gapi.load?l():i(pn(s,"network-request-failed"))},bC(`${SC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw po=null,t})}let po=null;function yw(s){return po=po||gw(s),po}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Il(5e3,15e3),vw="__/auth/iframe",bw="emulator/auth/iframe",Sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ew(s){const t=s.config;J(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Sf(t,bw):`https://${s.config.authDomain}/${vw}`,l={apiKey:t.apiKey,appName:s.name,v:ma},o=xw.get(s.config.apiHost);o&&(l.eid=o);const c=s._getFrameworks();return c.length&&(l.fw=c.join(",")),`${i}?${ha(l).slice(1)}`}async function Tw(s){const t=await yw(s),i=gn().gapi;return J(i,s,"internal-error"),t.open({where:document.body,url:Ew(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sw,dontclear:!0},l=>new Promise(async(o,c)=>{await l.restyle({setHideOnLeave:!1});const f=pn(s,"network-request-failed"),g=gn().setTimeout(()=>{c(f)},_w.get());function p(){gn().clearTimeout(g),o(l)}l.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ww=500,Nw=600,Aw="_blank",Rw="http://localhost";class Uy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ow(s,t,i,l=ww,o=Nw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-l)/2,0).toString();let g="";const p={...Cw,width:l.toString(),height:o.toString(),top:c,left:f},m=yt().toLowerCase();i&&(g=hv(m)?Aw:i),dv(m)&&(t=t||Rw,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[M,j])=>`${x}${M}=${j},`,"");if(fC(m)&&g!=="_self")return Mw(t||"",g),new Uy(null);const v=window.open(t||"",g,b);J(v,s,"popup-blocked");try{v.focus()}catch{}return new Uy(v)}function Mw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__/auth/handler",kw="emulator/auth/handler",Iw=encodeURIComponent("fac");async function Hy(s,t,i,l,o,c){J(s.config.authDomain,s,"auth-domain-config-required"),J(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:l,v:ma,eventId:o};if(t instanceof xv){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",Ld(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,v]of Object.entries({}))f[b]=v}if(t instanceof jl){const b=t.getScopes().filter(v=>v!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),m=p?`#${Iw}=${encodeURIComponent(p)}`:"";return`${jw(s)}?${ha(g).slice(1)}${m}`}function jw({config:s}){return s.emulator?Sf(s,kw):`https://${s.authDomain}/${Dw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="webStorageSupport";class Lw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nv,this._completeRedirectFn=lw,this._overrideRedirectResult=iw}async _openPopup(t,i,l,o){Gn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Hy(t,i,l,Vd(),o);return Ow(t,c,Nf())}async _openRedirect(t,i,l,o){await this._originValidation(t);const c=await Hy(t,i,l,Vd(),o);return HC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Gn(c,"If manager is not set, promise should be"),c)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await Tw(t),l=new ow(t);return i.register("authEvent",o=>(J(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(wd,{type:wd},o=>{const c=o?.[0]?.[wd];c!==void 0&&i(!!c),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return _v()||fv()||Tf()}}const zw=Lw;var By="@firebase/auth",qy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bw(s){aa(new is("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=l.options;J(f&&!f.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vv(s)},m=new _C(l,o,c,p);return TC(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),aa(new is("auth-internal",t=>{const i=Cf(t.getProvider("auth").getImmediate());return(l=>new Uw(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(By,qy,Hw(s)),wi(By,qy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=300,Vw=Q_("authIdTokenMaxAge")||qw;let Vy=null;const Gw=s=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>Vw)return;const o=i?.token;Vy!==o&&(Vy=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Pw(s=ev()){const t=vf(s,"auth");if(t.isInitialized())return t.getImmediate();const i=EC(s,{popupRedirectResolver:zw,persistence:[KC,LC,Nv]}),l=Q_("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(l,location.origin);if(location.origin===c.origin){const f=Gw(c.toString());kC(i,f,()=>f(i.currentUser)),DC(i,g=>f(g))}}const o=P_("auth");return o&&CC(i,`http://${o}`),i}function Yw(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(s){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",s),l.onload=t,l.onerror=o=>{const c=pn("internal-error");c.customData=o,i(c)},l.type="text/javascript",l.charset="UTF-8",Yw().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bw("Browser");var Gy={};const Py="@firebase/database",Yy="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv="";function Qw(s){Iv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ut(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:wl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return Qn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fw(t)}}catch{}return new Kw},$i=jv("localStorage"),Xw=jv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new yf("@firebase/database"),Ww=(function(){let s=1;return function(){return s++}})(),Lv=function(s){const t=zE(s),i=new kE;i.update(t);const l=i.digest();return hf.encodeByteArray(l)},zl=function(...s){let t="";for(let i=0;i<s.length;i++){const l=s[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=zl.apply(null,l):typeof l=="object"?t+=ut(l):t+=l,t+=" "}return t};let Sl=null,Qy=!0;const Zw=function(s,t){V(!0,"Can't turn on custom loggers persistently."),na.logLevel=we.VERBOSE,Sl=na.log.bind(na)},dt=function(...s){if(Qy===!0&&(Qy=!1,Sl===null&&Xw.get("logging_enabled")===!0&&Zw()),Sl){const t=zl.apply(null,s);Sl(t)}},Ul=function(s){return function(...t){dt(s,...t)}},Yd=function(...s){const t="FIREBASE INTERNAL ERROR: "+zl(...s);na.error(t)},Pn=function(...s){const t=`FIREBASE FATAL ERROR: ${zl(...s)}`;throw na.error(t),new Error(t)},wt=function(...s){const t="FIREBASE WARNING: "+zl(...s);na.warn(t)},Jw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zv=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},$w=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ra="[MIN_NAME]",as="[MAX_NAME]",ga=function(s,t){if(s===t)return 0;if(s===ra||t===as)return-1;if(t===ra||s===as)return 1;{const i=Fy(s),l=Fy(t);return i!==null?l!==null?i-l===0?s.length-t.length:i-l:-1:l!==null?1:s<t?-1:1}},eN=function(s,t){return s===t?0:s<t?-1:1},pl=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+ut(t))},Rf=function(s){if(typeof s!="object"||s===null)return ut(s);const t=[];for(const l in s)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=ut(t[l]),i+=":",i+=Rf(s[t[l]]);return i+="}",i},Uv=function(s,t){const i=s.length;if(i<=t)return[s];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(s.substring(o,i)):l.push(s.substring(o,o+t));return l};function Xt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Hv=function(s){V(!zv(s),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,c,f,g,p;s===0?(c=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-l)?(g=Math.min(Math.floor(Math.log(s)/Math.LN2),l),c=g+l,f=Math.round(s*Math.pow(2,i-g)-Math.pow(2,i))):(c=0,f=Math.round(s/Math.pow(2,1-l-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=t;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const b=m.join("");let v="";for(p=0;p<64;p+=8){let x=parseInt(b.substr(p,8),2).toString(16);x.length===1&&(x="0"+x),v=v+x}return v.toLowerCase()},tN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},iN=new RegExp("^-?(0*)\\d{1,10}$"),sN=-2147483648,aN=2147483647,Fy=function(s){if(iN.test(s)){const t=Number(s);if(t>=sN&&t<=aN)return t}return null},ya=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw wt("Exception was thrown by user callback.",i),t},Math.floor(0))}},lN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xl=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,hn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(t)}}class go{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="5",Bv="v",qv="s",Vv="r",Gv="f",Pv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yv="ls",Qv="p",Qd="ac",Fv="websocket",Kv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,i,l,o,c=!1,f="",g=!1,p=!1,m=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function uN(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Wv(s,t,i){V(typeof t=="string","typeof type must == string"),V(typeof i=="object","typeof params must == object");let l;if(t===Fv)l=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Kv)l=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);uN(s)&&(i.ns=s.namespace);const o=[];return Xt(i,(c,f)=>{o.push(c+"="+f)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.counters_={}}incrementCounter(t,i=1){Qn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return fE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd={},Ad={};function Mf(s){const t=s.toString();return Nd[t]||(Nd[t]=new cN),Nd[t]}function dN(s,t){const i=s.toString();return Ad[i]||(Ad[i]=t()),Ad[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ya(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="start",hN="close",mN="pLPCommand",pN="pRTLPCB",Zv="id",Jv="pw",$v="ser",gN="cb",yN="seg",_N="ts",vN="d",bN="dframe",e0=1870,t0=30,SN=e0-t0,xN=25e3,EN=3e4;class Js{constructor(t,i,l,o,c,f,g){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ul(t),this.stats_=Mf(i),this.urlFn=p=>(this.appCheckToken&&(p[Qd]=this.appCheckToken),Wv(i,Kv,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new fN(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(EN)),$w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Df((...c)=>{const[f,g,p,m,b]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Ky)this.id=g,this.password=p;else if(f===hN)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,g]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const l={};l[Ky]="t",l[$v]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[gN]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Bv]=Of,this.transportSessionId&&(l[qv]=this.transportSessionId),this.lastSessionId&&(l[Yv]=this.lastSessionId),this.applicationId&&(l[Qv]=this.applicationId),this.appCheckToken&&(l[Qd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Pv.test(location.hostname)&&(l[Vv]=Gv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return Js.forceAllow_?!0:!Js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tN()&&!nN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=ut(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=V_(i),o=Uv(l,SN);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[bN]="t",l[Zv]=t,l[Jv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=ut(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Df{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ww(),window[mN+this.uniqueCallbackIdentifier]=t,window[pN+this.uniqueCallbackIdentifier]=i,this.myIFrame=Df.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){dt("frame writing exception"),g.stack&&dt(g.stack),dt(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||dt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Zv]=this.myID,t[Jv]=this.myPW,t[$v]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t0+l.length<=e0;){const f=this.pendingSegs.shift();l=l+"&"+yN+o+"="+f.seg+"&"+_N+o+"="+f.ts+"&"+vN+o+"="+f.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(xN)),c=()=>{clearTimeout(o),l()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{dt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=16384,CN=45e3;let Ao=null;typeof MozWebSocket<"u"?Ao=MozWebSocket:typeof WebSocket<"u"&&(Ao=WebSocket);class nn{constructor(t,i,l,o,c,f,g){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ul(this.connId),this.stats_=Mf(i),this.connURL=nn.connectionURL_(i,f,g,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,c){const f={};return f[Bv]=Of,typeof location<"u"&&location.hostname&&Pv.test(location.hostname)&&(f[Vv]=Gv),i&&(f[qv]=i),l&&(f[Yv]=l),o&&(f[Qd]=o),c&&(f[Qv]=c),Wv(t,Fv,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let l;CE(),this.mySock=new Ao(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){nn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Ao!==null&&!nn.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=wl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(V(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=ut(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Uv(i,TN);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CN))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nn.responsesRequiredToBeHealthy=2;nn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static get ALL_TRANSPORTS(){return[Js,nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=nn&&nn.isAvailable();let l=i&&!nn.previouslyFailed();if(t.webSocketOnly&&(i||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[nn];else{const o=this.transports_=[];for(const c of Rl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Rl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=6e4,NN=5e3,AN=10*1024,RN=100*1024,Rd="t",Xy="d",ON="s",Wy="r",MN="e",Zy="o",Jy="a",$y="n",e_="p",DN="h";class kN{constructor(t,i,l,o,c,f,g,p,m,b){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ul("c:"+this.id+":"),this.transportManager_=new Rl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Rd in t){const i=t[Rd];i===Jy?this.upgradeIfSecondaryHealthy_():i===Wy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Zy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:e_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$y,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=pl("t",t),l=pl("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=pl(Rd,t);if(Xy in t){const l=t[Xy];if(i===DN){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===$y){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===ON?this.onConnectionShutdown_(l):i===Wy?this.onReset_(l):i===MN?Yd("Server Error: "+l):i===Zy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yd("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Of!==l&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wN))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(NN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:e_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t){this.allowedEvents_=t,this.listeners_={},V(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!l||l===o[c].context)){o.splice(c,1);return}}validateEventType_(t){V(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends i0{static getInstance(){return new Ro}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return V(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=32,n_=768;class je{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Ne(){return new je("")}function ce(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ai(s){return s.pieces_.length-s.pieceNum_}function Ie(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new je(s.pieces_,t)}function s0(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function IN(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function a0(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function l0(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new je(t,0)}function Je(s,t){const i=[];for(let l=s.pieceNum_;l<s.pieces_.length;l++)i.push(s.pieces_[l]);if(t instanceof je)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new je(i,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function Ft(s,t){const i=ce(s),l=ce(t);if(i===null)return t;if(i===l)return Ft(Ie(s),Ie(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function r0(s,t){if(Ai(s)!==Ai(t))return!1;for(let i=s.pieceNum_,l=t.pieceNum_;i<=s.pieces_.length;i++,l++)if(s.pieces_[i]!==t.pieces_[l])return!1;return!0}function an(s,t){let i=s.pieceNum_,l=t.pieceNum_;if(Ai(s)>Ai(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class jN{constructor(t,i){this.errorPrefix_=i,this.parts_=a0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Ho(this.parts_[l]);o0(this)}}function LN(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Ho(t),o0(s)}function zN(s){const t=s.parts_.pop();s.byteLength_-=Ho(t),s.parts_.length>0&&(s.byteLength_-=1)}function o0(s){if(s.byteLength_>n_)throw new Error(s.errorPrefix_+"has a key path longer than "+n_+" bytes ("+s.byteLength_+").");if(s.parts_.length>t_)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t_+") or object contains a cycle "+Ji(s))}function Ji(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends i0{static getInstance(){return new kf}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return V(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=1e3,UN=300*1e3,i_=30*1e3,HN=1.3,BN=3e4,qN="server_kill",s_=3;class Hn extends n0{constructor(t,i,l,o,c,f,g,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=p,this.id=Hn.nextPersistentConnectionId_++,this.log_=Ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gl,this.maxReconnectDelay_=UN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ro.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(ut(c)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Uo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?i.resolve(g):i.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,l,o){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),V(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(f).set(c,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const c={p:l},f="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,g=>{const p=g.d,m=g.s;Hn.warnOnListenWarnings_(p,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",g),m!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(m,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Qn(t,"w")){const l=sa(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||DE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=i_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=ME(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const c=o.s,f=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),V(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},f="n";o&&(c.q=l,c.t=o),this.sendRequest(f,c)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const c={p:i,d:l};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,c){this.initConnection_();const f={p:i,d:l};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const c=l.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ut(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Yd("Unrecognized action received from server: "+ut(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BN&&(this.reconnectDelay_=gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*HN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Hn.nextConnectionId_++,c=this.lastSessionId;let f=!1,g=null;const p=function(){g?g.close():(f=!0,l())},m=function(v){V(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:p,sendRequest:m};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,x]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);f?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=x&&x.token,g=new kN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,M=>{wt(M+" ("+this.repoInfo_.toString()+")"),this.interrupt(qN)},c))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&wt(v),p())}}}interrupt(t){dt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){dt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ld(this.interruptReasons_)&&(this.reconnectDelay_=gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(c=>Rf(c)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new je(t).toString();let o;if(this.listens.has(l)){const c=this.listens.get(l);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){dt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=s_&&(this.reconnectDelay_=i_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){dt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=s_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Iv.replace(/\./g,"-")]=1,pf()?t["framework.cordova"]=1:X_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ro.getInstance().currentlyOnline();return Ld(this.interruptReasons_)&&t}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new he(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new he(ra,t),o=new he(ra,i);return this.compare(l,o)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro;class u0 extends Vo{static get __EMPTY_NODE(){return ro}static set __EMPTY_NODE(t){ro=t}compare(t,i){return ga(t.name,i.name)}isDefinedOn(t){throw da("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return he.MIN}maxPost(){return new he(as,ro)}makePost(t,i){return V(typeof t=="string","KeyIndex indexValue must always be a string."),new he(t,ro)}toString(){return".key"}}const ia=new u0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,i,l,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?l(t.key,i):1,o&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nt{constructor(t,i,l,o,c){this.key=t,this.value=i,this.color=l??nt.RED,this.left=o??Ct.EMPTY_NODE,this.right=c??Ct.EMPTY_NODE}copy(t,i,l,o,c){return new nt(t??this.key,i??this.value,l??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const c=l(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Ct.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class VN{copy(t,i,l,o,c){return this}insert(t,i,l){return new nt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(t,i=Ct.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ct(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(t){return new Ct(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new oo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new oo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new oo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new oo(this.root_,null,this.comparator_,!0,t)}}Ct.EMPTY_NODE=new VN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(s,t){return ga(s.name,t.name)}function If(s,t){return ga(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;function PN(s){Fd=s}const c0=function(s){return typeof s=="number"?"number:"+Hv(s):"string:"+s},d0=function(s){if(s.isLeafNode()){const t=s.val();V(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qn(t,".sv"),"Priority must be a string or number.")}else V(s===Fd||s.isEmpty(),"priority of unexpected type.");V(s===Fd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a_;class tt{static set __childrenNodeConstructor(t){a_=t}static get __childrenNodeConstructor(){return a_}constructor(t,i=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),d0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new tt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return fe(t)?this:ce(t)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ce(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(V(l!==".priority"||Ai(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+c0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Hv(this.value_):t+=this.value_,this.lazyHash_=Lv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===tt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof tt.__childrenNodeConstructor?-1:(V(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=tt.VALUE_TYPE_ORDER.indexOf(i),c=tt.VALUE_TYPE_ORDER.indexOf(l);return V(o>=0,"Unknown leaf type: "+i),V(c>=0,"Unknown leaf type: "+l),o===c?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f0,h0;function YN(s){f0=s}function QN(s){h0=s}class FN extends Vo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),c=l.compareTo(o);return c===0?ga(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(as,new tt("[PRIORITY-POST]",h0))}makePost(t,i){const l=f0(t);return new he(i,new tt("[PRIORITY-POST]",l))}toString(){return".priority"}}const ft=new FN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=Math.log(2);class XN{constructor(t){const i=c=>parseInt(Math.log(c)/KN,10),l=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Oo=function(s,t,i,l){s.sort(t);const o=function(p,m){const b=m-p;let v,x;if(b===0)return null;if(b===1)return v=s[p],x=i?i(v):v,new nt(x,v.node,nt.BLACK,null,null);{const M=parseInt(b/2,10)+p,j=o(p,M),q=o(M+1,m);return v=s[M],x=i?i(v):v,new nt(x,v.node,nt.BLACK,j,q)}},c=function(p){let m=null,b=null,v=s.length;const x=function(j,q){const D=v-j,B=v;v-=j;const H=o(D+1,B),G=s[D],se=i?i(G):G;M(new nt(se,G.node,q,null,H))},M=function(j){m?(m.left=j,m=j):(b=j,m=j)};for(let j=0;j<p.count;++j){const q=p.nextBitIsOne(),D=Math.pow(2,p.count-(j+1));q?x(D,nt.BLACK):(x(D,nt.BLACK),x(D,nt.RED))}return b},f=new XN(s.length),g=c(f);return new Ct(l||t,g)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const Ws={};class zn{static get Default(){return V(Ws&&ft,"ChildrenNode.ts has not been loaded"),Od=Od||new zn({".priority":Ws},{".priority":ft}),Od}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=sa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ct?i:null}hasIndex(t){return Qn(this.indexSet_,t.toString())}addIndex(t,i){V(t!==ia,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const c=i.getIterator(he.Wrap);let f=c.getNext();for(;f;)o=o||t.isDefinedOn(f.node),l.push(f),f=c.getNext();let g;o?g=Oo(l,t.getCompare()):g=Ws;const p=t.toString(),m={...this.indexSet_};m[p]=t;const b={...this.indexes_};return b[p]=g,new zn(b,m)}addToIndexes(t,i){const l=bo(this.indexes_,(o,c)=>{const f=sa(this.indexSet_,c);if(V(f,"Missing index implementation for "+c),o===Ws)if(f.isDefinedOn(t.node)){const g=[],p=i.getIterator(he.Wrap);let m=p.getNext();for(;m;)m.name!==t.name&&g.push(m),m=p.getNext();return g.push(t),Oo(g,f.getCompare())}else return Ws;else{const g=i.get(t.name);let p=o;return g&&(p=p.remove(new he(t.name,g))),p.insert(t,t.node)}});return new zn(l,this.indexSet_)}removeFromIndexes(t,i){const l=bo(this.indexes_,o=>{if(o===Ws)return o;{const c=i.get(t.name);return c?o.remove(new he(t.name,c)):o}});return new zn(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl;class ve{static get EMPTY_NODE(){return yl||(yl=new ve(new Ct(If),null,zn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&d0(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yl}updatePriority(t){return this.children_.isEmpty()?this:new ve(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?yl:i}}getChild(t){const i=ce(t);return i===null?this:this.getImmediateChild(i).getChild(Ie(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(V(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new he(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(l,this.children_));const f=o.isEmpty()?yl:this.priorityNode_;return new ve(o,f,c)}}updateChild(t,i){const l=ce(t);if(l===null)return i;{V(ce(t)!==".priority"||Ai(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Ie(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,c=!0;if(this.forEachChild(ft,(f,g)=>{i[f]=g.val(t),l++,c&&ve.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):c=!1}),!t&&c&&o<2*l){const f=[];for(const g in i)f[g]=i[g];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+c0(this.getPriority().val())+":"),this.forEachChild(ft,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Lv(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const c=o.getPredecessorKey(new he(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new he(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new he(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,he.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hl?-1:0}withIndex(t){if(t===ia||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ve(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ia||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(ft),o=i.getIterator(ft);let c=l.getNext(),f=o.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=l.getNext(),f=o.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===ia?null:this.indexMap_.get(t.toString())}}ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WN extends ve{constructor(){super(new Ct(If),ve.EMPTY_NODE,zn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ve.EMPTY_NODE}isEmpty(){return!1}}const Hl=new WN;Object.defineProperties(he,{MIN:{value:new he(ra,ve.EMPTY_NODE)},MAX:{value:new he(as,Hl)}});u0.__EMPTY_NODE=ve.EMPTY_NODE;tt.__childrenNodeConstructor=ve;PN(Hl);QN(Hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=!0;function ot(s,t=null){if(s===null)return ve.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),V(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new tt(i,ot(t))}if(!(s instanceof Array)&&ZN){const i=[];let l=!1;if(Xt(s,(f,g)=>{if(f.substring(0,1)!=="."){const p=ot(g);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),i.push(new he(f,p)))}}),i.length===0)return ve.EMPTY_NODE;const c=Oo(i,GN,f=>f.name,If);if(l){const f=Oo(i,ft.getCompare());return new ve(c,ot(t),new zn({".priority":f},{".priority":ft}))}else return new ve(c,ot(t),zn.Default)}else{let i=ve.EMPTY_NODE;return Xt(s,(l,o)=>{if(Qn(s,l)&&l.substring(0,1)!=="."){const c=ot(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(l,c))}}),i.updatePriority(ot(t))}}YN(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends Vo{constructor(t){super(),this.indexPath_=t,V(!fe(t)&&ce(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),c=l.compareTo(o);return c===0?ga(t.name,i.name):c}makePost(t,i){const l=ot(t),o=ve.EMPTY_NODE.updateChild(this.indexPath_,l);return new he(i,o)}maxPost(){const t=ve.EMPTY_NODE.updateChild(this.indexPath_,Hl);return new he(as,t)}toString(){return a0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N extends Vo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?ga(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(t,i){const l=ot(t);return new he(i,l)}toString(){return".value"}}const e2=new $N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s){return{type:"value",snapshotNode:s}}function n2(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function i2(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function l_(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function s2(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ra}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:as}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const t=new jf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function r_(s){const t={};if(s.isDefault())return t;let i;if(s.index_===ft?i="$priority":s.index_===e2?i="$value":s.index_===ia?i="$key":(V(s.index_ instanceof JN,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=ut(i),s.startSet_){const l=s.startAfterSet_?"startAfter":"startAt";t[l]=ut(s.indexStartValue_),s.startNameSet_&&(t[l]+=","+ut(s.indexStartName_))}if(s.endSet_){const l=s.endBeforeSet_?"endBefore":"endAt";t[l]=ut(s.indexEndValue_),s.endNameSet_&&(t[l]+=","+ut(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function o_(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==ft&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends n0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(V(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=Ul("p:rest:"),this.listens_={}}listen(t,i,l,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Mo.getListenId_(t,l),g={};this.listens_[f]=g;const p=r_(t._queryParams);this.restRequest_(c+".json",p,(m,b)=>{let v=b;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(c,v,!1,l),sa(this.listens_,f)===g){let x;m?m===401?x="permission_denied":x="rest_error:"+m:x="ok",o(x,null)}})}unlisten(t,i){const l=Mo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=r_(t._queryParams),l=t._path.toString(),o=new Uo;return this.restRequest_(l+".json",i,(c,f)=>{let g=f;c===404&&(g=null,c=null),c===null?(this.onDataUpdate_(l,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ha(i);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(l&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let p=null;if(g.status>=200&&g.status<300){try{p=wl(g.responseText)}catch{wt("Failed to parse JSON response for "+f+": "+g.responseText)}l(null,p)}else g.status!==401&&g.status!==404&&wt("Got unsuccessful REST response for "+f+" Status: "+g.status),l(g.status);l=null}},g.open("GET",f,!0),g.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return{value:null,children:new Map}}function m0(s,t,i){if(fe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const l=ce(t);s.children.has(l)||s.children.set(l,Do());const o=s.children.get(l);t=Ie(t),m0(o,t,i)}}function Kd(s,t,i){s.value!==null?i(t,s.value):l2(s,(l,o)=>{const c=new je(t.toString()+"/"+l);Kd(o,c,i)})}function l2(s,t){s.children.forEach((i,l)=>{t(l,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&Xt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=10*1e3,o2=30*1e3,u2=300*1e3;class c2{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new r2(t);const l=u_+(o2-u_)*Math.random();xl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;Xt(t,(o,c)=>{c>0&&Qn(this.statsToReport_,o)&&(i[o]=c,l=!0)}),l&&this.server_.reportStats(i),xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*u2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function p0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function g0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function y0(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=mn.ACK_USER_WRITE,this.source=p0()}operationForChild(t){if(fe(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new je(t));return new ko(Ne(),i,this.revert)}}else return V(ce(this.path)===t,"operationForChild called for unrelated child."),new ko(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=mn.OVERWRITE}operationForChild(t){return fe(this.path)?new ls(this.source,Ne(),this.snap.getImmediateChild(t)):new ls(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=mn.MERGE}operationForChild(t){if(fe(this.path)){const i=this.children.subtree(new je(t));return i.isEmpty()?null:i.value?new ls(this.source,Ne(),i.value):new Ol(this.source,Ne(),i)}else return V(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ol(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(fe(t))return this.isFullyInitialized()&&!this.filtered_;const i=ce(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function d2(s,t,i,l){const o=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(s2(f.childName,f.snapshotNode))}),_l(s,o,"child_removed",t,l,i),_l(s,o,"child_added",t,l,i),_l(s,o,"child_moved",c,l,i),_l(s,o,"child_changed",t,l,i),_l(s,o,"value",t,l,i),o}function _l(s,t,i,l,o,c){const f=l.filter(g=>g.type===i);f.sort((g,p)=>h2(s,g,p)),f.forEach(g=>{const p=f2(s,g,c);o.forEach(m=>{m.respondsTo(g.type)&&t.push(m.createEvent(p,s.query_))})})}function f2(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function h2(s,t,i){if(t.childName==null||i.childName==null)throw da("Should only compare child_ events.");const l=new he(t.childName,t.snapshotNode),o=new he(i.childName,i.snapshotNode);return s.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(s,t){return{eventCache:s,serverCache:t}}function El(s,t,i,l){return _0(new Lf(t,i,l),s.serverCache)}function v0(s,t,i,l){return _0(s.eventCache,new Lf(t,i,l))}function Xd(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function rs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;const m2=()=>(Md||(Md=new Ct(eN)),Md);class ke{static fromObject(t){let i=new ke(null);return Xt(t,(l,o)=>{i=i.set(new je(l),o)}),i}constructor(t,i=m2()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Ne(),value:this.value};if(fe(t))return null;{const l=ce(t),o=this.children.get(l);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ie(t),i);return c!=null?{path:Je(new je(l),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(fe(t))return this;{const i=ce(t),l=this.children.get(i);return l!==null?l.subtree(Ie(t)):new ke(null)}}set(t,i){if(fe(t))return new ke(i,this.children);{const l=ce(t),c=(this.children.get(l)||new ke(null)).set(Ie(t),i),f=this.children.insert(l,c);return new ke(this.value,f)}}remove(t){if(fe(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=ce(t),l=this.children.get(i);if(l){const o=l.remove(Ie(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new ke(null):new ke(this.value,c)}else return this}}get(t){if(fe(t))return this.value;{const i=ce(t),l=this.children.get(i);return l?l.get(Ie(t)):null}}setTree(t,i){if(fe(t))return i;{const l=ce(t),c=(this.children.get(l)||new ke(null)).setTree(Ie(t),i);let f;return c.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,c),new ke(this.value,f)}}fold(t){return this.fold_(Ne(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,c)=>{l[o]=c.fold_(Je(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,Ne(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(fe(t))return null;{const c=ce(t),f=this.children.get(c);return f?f.findOnPath_(Ie(t),Je(i,c),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Ne(),i)}foreachOnPath_(t,i,l){if(fe(t))return this;{this.value&&l(i,this.value);const o=ce(t),c=this.children.get(o);return c?c.foreachOnPath_(Ie(t),Je(i,o),l):new ke(null)}}foreach(t){this.foreach_(Ne(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Je(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.writeTree_=t}static empty(){return new ln(new ke(null))}}function Tl(s,t,i){if(fe(t))return new ln(new ke(i));{const l=s.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let c=l.value;const f=Ft(o,t);return c=c.updateChild(f,i),new ln(s.writeTree_.set(o,c))}else{const o=new ke(i),c=s.writeTree_.setTree(t,o);return new ln(c)}}}function c_(s,t,i){let l=s;return Xt(i,(o,c)=>{l=Tl(l,Je(t,o),c)}),l}function d_(s,t){if(fe(t))return ln.empty();{const i=s.writeTree_.setTree(t,new ke(null));return new ln(i)}}function Wd(s,t){return us(s,t)!=null}function us(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(Ft(i.path,t)):null}function f_(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ft,(l,o)=>{t.push(new he(l,o))}):s.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new he(l,o.value))}),t}function Ni(s,t){if(fe(t))return s;{const i=us(s,t);return i!=null?new ln(new ke(i)):new ln(s.writeTree_.subtree(t))}}function Zd(s){return s.writeTree_.isEmpty()}function oa(s,t){return b0(Ne(),s.writeTree_,t)}function b0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let l=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(V(c.value!==null,"Priority writes must always be leaf nodes"),l=c.value):i=b0(Je(s,o),c,i)}),!i.getChild(s).isEmpty()&&l!==null&&(i=i.updateChild(Je(s,".priority"),l)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(s,t){return w0(t,s)}function p2(s,t,i,l,o){V(l>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(s.visibleWrites=Tl(s.visibleWrites,t,i)),s.lastWriteId=l}function g2(s,t){for(let i=0;i<s.allWrites.length;i++){const l=s.allWrites[i];if(l.writeId===t)return l}return null}function y2(s,t){const i=s.allWrites.findIndex(g=>g.writeId===t);V(i>=0,"removeWrite called with nonexistent writeId.");const l=s.allWrites[i];s.allWrites.splice(i,1);let o=l.visible,c=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const g=s.allWrites[f];g.visible&&(f>=i&&_2(g,l.path)?o=!1:an(l.path,g.path)&&(c=!0)),f--}if(o){if(c)return v2(s),!0;if(l.snap)s.visibleWrites=d_(s.visibleWrites,l.path);else{const g=l.children;Xt(g,p=>{s.visibleWrites=d_(s.visibleWrites,Je(l.path,p))})}return!0}else return!1}function _2(s,t){if(s.snap)return an(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&an(Je(s.path,i),t))return!0;return!1}function v2(s){s.visibleWrites=x0(s.allWrites,b2,Ne()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function b2(s){return s.visible}function x0(s,t,i){let l=ln.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const f=c.path;let g;if(c.snap)an(i,f)?(g=Ft(i,f),l=Tl(l,g,c.snap)):an(f,i)&&(g=Ft(f,i),l=Tl(l,Ne(),c.snap.getChild(g)));else if(c.children){if(an(i,f))g=Ft(i,f),l=c_(l,g,c.children);else if(an(f,i))if(g=Ft(f,i),fe(g))l=c_(l,Ne(),c.children);else{const p=sa(c.children,ce(g));if(p){const m=p.getChild(Ie(g));l=Tl(l,Ne(),m)}}}else throw da("WriteRecord should have .snap or .children")}}return l}function E0(s,t,i,l,o){if(!l&&!o){const c=us(s.visibleWrites,t);if(c!=null)return c;{const f=Ni(s.visibleWrites,t);if(Zd(f))return i;if(i==null&&!Wd(f,Ne()))return null;{const g=i||ve.EMPTY_NODE;return oa(f,g)}}}else{const c=Ni(s.visibleWrites,t);if(!o&&Zd(c))return i;if(!o&&i==null&&!Wd(c,Ne()))return null;{const f=function(m){return(m.visible||o)&&(!l||!~l.indexOf(m.writeId))&&(an(m.path,t)||an(t,m.path))},g=x0(s.allWrites,f,t),p=i||ve.EMPTY_NODE;return oa(g,p)}}}function S2(s,t,i){let l=ve.EMPTY_NODE;const o=us(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ft,(c,f)=>{l=l.updateImmediateChild(c,f)}),l;if(i){const c=Ni(s.visibleWrites,t);return i.forEachChild(ft,(f,g)=>{const p=oa(Ni(c,new je(f)),g);l=l.updateImmediateChild(f,p)}),f_(c).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}else{const c=Ni(s.visibleWrites,t);return f_(c).forEach(f=>{l=l.updateImmediateChild(f.name,f.node)}),l}}function x2(s,t,i,l,o){V(l||o,"Either existingEventSnap or existingServerSnap must exist");const c=Je(t,i);if(Wd(s.visibleWrites,c))return null;{const f=Ni(s.visibleWrites,c);return Zd(f)?o.getChild(i):oa(f,o.getChild(i))}}function E2(s,t,i,l){const o=Je(t,i),c=us(s.visibleWrites,o);if(c!=null)return c;if(l.isCompleteForChild(i)){const f=Ni(s.visibleWrites,o);return oa(f,l.getNode().getImmediateChild(i))}else return null}function T2(s,t){return us(s.visibleWrites,t)}function C2(s,t,i,l,o,c,f){let g;const p=Ni(s.visibleWrites,t),m=us(p,Ne());if(m!=null)g=m;else if(i!=null)g=oa(p,i);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const b=[],v=f.getCompare(),x=c?g.getReverseIteratorFrom(l,f):g.getIteratorFrom(l,f);let M=x.getNext();for(;M&&b.length<o;)v(M,l)!==0&&b.push(M),M=x.getNext();return b}else return[]}function w2(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Jd(s,t,i,l){return E0(s.writeTree,s.treePath,t,i,l)}function T0(s,t){return S2(s.writeTree,s.treePath,t)}function h_(s,t,i,l){return x2(s.writeTree,s.treePath,t,i,l)}function Io(s,t){return T2(s.writeTree,Je(s.treePath,t))}function N2(s,t,i,l,o,c){return C2(s.writeTree,s.treePath,t,i,l,o,c)}function zf(s,t,i){return E2(s.writeTree,s.treePath,t,i)}function C0(s,t){return w0(Je(s.treePath,t),s.writeTree)}function w0(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;V(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),V(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(l,l_(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(l,i2(l,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(l,n2(l,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(l,l_(l,t.snapshotNode,o.oldSnap));else throw da("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const N0=new R2;class Uf{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Lf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zf(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),c=N2(this.writes_,o,i,1,l,t);return c.length===0?null:c[0]}}function O2(s,t){V(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),V(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function M2(s,t,i,l,o){const c=new A2;let f,g;if(i.type===mn.OVERWRITE){const m=i;m.source.fromUser?f=$d(s,t,m.path,m.snap,l,o,c):(V(m.source.fromServer,"Unknown source."),g=m.source.tagged||t.serverCache.isFiltered()&&!fe(m.path),f=jo(s,t,m.path,m.snap,l,o,g,c))}else if(i.type===mn.MERGE){const m=i;m.source.fromUser?f=k2(s,t,m.path,m.children,l,o,c):(V(m.source.fromServer,"Unknown source."),g=m.source.tagged||t.serverCache.isFiltered(),f=ef(s,t,m.path,m.children,l,o,g,c))}else if(i.type===mn.ACK_USER_WRITE){const m=i;m.revert?f=L2(s,t,m.path,l,o,c):f=I2(s,t,m.path,m.affectedTree,l,o,c)}else if(i.type===mn.LISTEN_COMPLETE)f=j2(s,t,i.path,l,c);else throw da("Unknown operation type: "+i.type);const p=c.getChanges();return D2(t,f,p),{viewCache:f,changes:p}}function D2(s,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),c=Xd(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!l.getNode().equals(c)||!l.getNode().getPriority().equals(c.getPriority()))&&i.push(t2(Xd(t)))}}function A0(s,t,i,l,o,c){const f=t.eventCache;if(Io(l,i)!=null)return t;{let g,p;if(fe(i))if(V(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=rs(t),b=m instanceof ve?m:ve.EMPTY_NODE,v=T0(l,b);g=s.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const m=Jd(l,rs(t));g=s.filter.updateFullNode(t.eventCache.getNode(),m,c)}else{const m=ce(i);if(m===".priority"){V(Ai(i)===1,"Can't have a priority with additional path components");const b=f.getNode();p=t.serverCache.getNode();const v=h_(l,i,b,p);v!=null?g=s.filter.updatePriority(b,v):g=f.getNode()}else{const b=Ie(i);let v;if(f.isCompleteForChild(m)){p=t.serverCache.getNode();const x=h_(l,i,f.getNode(),p);x!=null?v=f.getNode().getImmediateChild(m).updateChild(b,x):v=f.getNode().getImmediateChild(m)}else v=zf(l,m,t.serverCache);v!=null?g=s.filter.updateChild(f.getNode(),m,v,b,o,c):g=f.getNode()}}return El(t,g,f.isFullyInitialized()||fe(i),s.filter.filtersNodes())}}function jo(s,t,i,l,o,c,f,g){const p=t.serverCache;let m;const b=f?s.filter:s.filter.getIndexedFilter();if(fe(i))m=b.updateFullNode(p.getNode(),l,null);else if(b.filtersNodes()&&!p.isFiltered()){const M=p.getNode().updateChild(i,l);m=b.updateFullNode(p.getNode(),M,null)}else{const M=ce(i);if(!p.isCompleteForPath(i)&&Ai(i)>1)return t;const j=Ie(i),D=p.getNode().getImmediateChild(M).updateChild(j,l);M===".priority"?m=b.updatePriority(p.getNode(),D):m=b.updateChild(p.getNode(),M,D,j,N0,null)}const v=v0(t,m,p.isFullyInitialized()||fe(i),b.filtersNodes()),x=new Uf(o,v,c);return A0(s,v,i,o,x,g)}function $d(s,t,i,l,o,c,f){const g=t.eventCache;let p,m;const b=new Uf(o,t,c);if(fe(i))m=s.filter.updateFullNode(t.eventCache.getNode(),l,f),p=El(t,m,!0,s.filter.filtersNodes());else{const v=ce(i);if(v===".priority")m=s.filter.updatePriority(t.eventCache.getNode(),l),p=El(t,m,g.isFullyInitialized(),g.isFiltered());else{const x=Ie(i),M=g.getNode().getImmediateChild(v);let j;if(fe(x))j=l;else{const q=b.getCompleteChild(v);q!=null?s0(x)===".priority"&&q.getChild(l0(x)).isEmpty()?j=q:j=q.updateChild(x,l):j=ve.EMPTY_NODE}if(M.equals(j))p=t;else{const q=s.filter.updateChild(g.getNode(),v,j,x,b,f);p=El(t,q,g.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function m_(s,t){return s.eventCache.isCompleteForChild(t)}function k2(s,t,i,l,o,c,f){let g=t;return l.foreach((p,m)=>{const b=Je(i,p);m_(t,ce(b))&&(g=$d(s,g,b,m,o,c,f))}),l.foreach((p,m)=>{const b=Je(i,p);m_(t,ce(b))||(g=$d(s,g,b,m,o,c,f))}),g}function p_(s,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function ef(s,t,i,l,o,c,f,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,m;fe(i)?m=l:m=new ke(null).setTree(i,l);const b=t.serverCache.getNode();return m.children.inorderTraversal((v,x)=>{if(b.hasChild(v)){const M=t.serverCache.getNode().getImmediateChild(v),j=p_(s,M,x);p=jo(s,p,new je(v),j,o,c,f,g)}}),m.children.inorderTraversal((v,x)=>{const M=!t.serverCache.isCompleteForChild(v)&&x.value===null;if(!b.hasChild(v)&&!M){const j=t.serverCache.getNode().getImmediateChild(v),q=p_(s,j,x);p=jo(s,p,new je(v),q,o,c,f,g)}}),p}function I2(s,t,i,l,o,c,f){if(Io(o,i)!=null)return t;const g=t.serverCache.isFiltered(),p=t.serverCache;if(l.value!=null){if(fe(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return jo(s,t,i,p.getNode().getChild(i),o,c,g,f);if(fe(i)){let m=new ke(null);return p.getNode().forEachChild(ia,(b,v)=>{m=m.set(new je(b),v)}),ef(s,t,i,m,o,c,g,f)}else return t}else{let m=new ke(null);return l.foreach((b,v)=>{const x=Je(i,b);p.isCompleteForPath(x)&&(m=m.set(b,p.getNode().getChild(x)))}),ef(s,t,i,m,o,c,g,f)}}function j2(s,t,i,l,o){const c=t.serverCache,f=v0(t,c.getNode(),c.isFullyInitialized()||fe(i),c.isFiltered());return A0(s,f,i,l,N0,o)}function L2(s,t,i,l,o,c){let f;if(Io(l,i)!=null)return t;{const g=new Uf(l,t,o),p=t.eventCache.getNode();let m;if(fe(i)||ce(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Jd(l,rs(t));else{const v=t.serverCache.getNode();V(v instanceof ve,"serverChildren would be complete if leaf node"),b=T0(l,v)}b=b,m=s.filter.updateFullNode(p,b,c)}else{const b=ce(i);let v=zf(l,b,t.serverCache);v==null&&t.serverCache.isCompleteForChild(b)&&(v=p.getImmediateChild(b)),v!=null?m=s.filter.updateChild(p,b,v,Ie(i),g,c):t.eventCache.getNode().hasChild(b)?m=s.filter.updateChild(p,b,ve.EMPTY_NODE,Ie(i),g,c):m=p,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Jd(l,rs(t)),f.isLeafNode()&&(m=s.filter.updateFullNode(m,f,c)))}return f=t.serverCache.isFullyInitialized()||Io(l,Ne())!=null,El(t,m,f,s.filter.filtersNodes())}}function z2(s,t){const i=rs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!fe(t)&&!i.getImmediateChild(ce(t)).isEmpty())?i.getChild(t):null}function g_(s,t,i,l){t.type===mn.MERGE&&t.source.queryId!==null&&(V(rs(s.viewCache_),"We should always have a full cache before handling merges"),V(Xd(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=M2(s.processor_,o,t,i,l);return O2(s.processor_,c.viewCache),V(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,U2(s,c.changes,c.viewCache.eventCache.getNode())}function U2(s,t,i,l){const o=s.eventRegistrations_;return d2(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_;function H2(s){V(!y_,"__referenceConstructor has already been defined"),y_=s}function Hf(s,t,i,l){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return V(c!=null,"SyncTree gave us an op for an invalid query."),g_(c,t,i,l)}else{let c=[];for(const f of s.views.values())c=c.concat(g_(f,t,i,l));return c}}function Bf(s,t){let i=null;for(const l of s.views.values())i=i||z2(l,t);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __;function B2(s){V(!__,"__referenceConstructor has already been defined"),__=s}class v_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=w2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R0(s,t,i,l,o){return p2(s.pendingWriteTree_,t,i,l,o),o?Po(s,new ls(p0(),t,i)):[]}function es(s,t,i=!1){const l=g2(s.pendingWriteTree_,t);if(y2(s.pendingWriteTree_,t)){let c=new ke(null);return l.snap!=null?c=c.set(Ne(),!0):Xt(l.children,f=>{c=c.set(new je(f),!0)}),Po(s,new ko(l.path,c,i))}else return[]}function Go(s,t,i){return Po(s,new ls(g0(),t,i))}function q2(s,t,i){const l=ke.fromObject(i);return Po(s,new Ol(g0(),t,l))}function V2(s,t,i,l){const o=D0(s,l);if(o!=null){const c=k0(o),f=c.path,g=c.queryId,p=Ft(f,t),m=new ls(y0(g),p,i);return I0(s,f,m)}else return[]}function G2(s,t,i,l){const o=D0(s,l);if(o){const c=k0(o),f=c.path,g=c.queryId,p=Ft(f,t),m=ke.fromObject(i),b=new Ol(y0(g),p,m);return I0(s,f,b)}else return[]}function qf(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(f,g)=>{const p=Ft(f,t),m=Bf(g,p);if(m)return m});return E0(o,t,c,i,!0)}function Po(s,t){return O0(t,s.syncPointTree_,null,S0(s.pendingWriteTree_,Ne()))}function O0(s,t,i,l){if(fe(s.path))return M0(s,t,i,l);{const o=t.get(Ne());i==null&&o!=null&&(i=Bf(o,Ne()));let c=[];const f=ce(s.path),g=s.operationForChild(f),p=t.children.get(f);if(p&&g){const m=i?i.getImmediateChild(f):null,b=C0(l,f);c=c.concat(O0(g,p,m,b))}return o&&(c=c.concat(Hf(o,s,l,i))),c}}function M0(s,t,i,l){const o=t.get(Ne());i==null&&o!=null&&(i=Bf(o,Ne()));let c=[];return t.children.inorderTraversal((f,g)=>{const p=i?i.getImmediateChild(f):null,m=C0(l,f),b=s.operationForChild(f);b&&(c=c.concat(M0(b,g,p,m)))}),o&&(c=c.concat(Hf(o,s,l,i))),c}function D0(s,t){return s.tagToQueryMap.get(t)}function k0(s){const t=s.indexOf("$");return V(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new je(s.substr(0,t))}}function I0(s,t,i){const l=s.syncPointTree_.get(t);V(l,"Missing sync point for query tag that we're tracking");const o=S0(s.pendingWriteTree_,t);return Hf(l,i,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Vf(i)}node(){return this.node_}}class Gf{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Je(this.path_,t);return new Gf(this.syncTree_,i)}node(){return qf(this.syncTree_,this.path_)}}const P2=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},b_=function(s,t,i){if(!s||typeof s!="object")return s;if(V(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return Y2(s[".sv"],t,i);if(typeof s[".sv"]=="object")return Q2(s[".sv"],t);V(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},Y2=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:V(!1,"Unexpected server value: "+s)}},Q2=function(s,t,i){s.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const l=s.increment;typeof l!="number"&&V(!1,"Unexpected increment value: "+l);const o=t.node();if(V(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const f=o.getValue();return typeof f!="number"?l:f+l},F2=function(s,t,i,l){return Pf(t,new Gf(i,s),l)},j0=function(s,t,i){return Pf(s,new Vf(t),i)};function Pf(s,t,i){const l=s.getPriority().val(),o=b_(l,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const f=s,g=b_(f.getValue(),t,i);return g!==f.getValue()||o!==f.getPriority().val()?new tt(g,ot(o)):s}else{const f=s;return c=f,o!==f.getPriority().val()&&(c=c.updatePriority(new tt(o))),f.forEachChild(ft,(g,p)=>{const m=Pf(p,t.getImmediateChild(g),i);m!==p&&(c=c.updateImmediateChild(g,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Qf(s,t){let i=t instanceof je?t:new je(t),l=s,o=ce(i);for(;o!==null;){const c=sa(l.node.children,o)||{children:{},childCount:0};l=new Yf(o,l,c),i=Ie(i),o=ce(i)}return l}function _a(s){return s.node.value}function L0(s,t){s.node.value=t,tf(s)}function z0(s){return s.node.childCount>0}function K2(s){return _a(s)===void 0&&!z0(s)}function Yo(s,t){Xt(s.node.children,(i,l)=>{t(new Yf(i,s,l))})}function U0(s,t,i,l){i&&t(s),Yo(s,o=>{U0(o,t,!0)})}function X2(s,t,i){let l=s.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Bl(s){return new je(s.parent===null?s.name:Bl(s.parent)+"/"+s.name)}function tf(s){s.parent!==null&&W2(s.parent,s.name,s)}function W2(s,t,i){const l=K2(i),o=Qn(s.node.children,t);l&&o?(delete s.node.children[t],s.node.childCount--,tf(s)):!l&&!o&&(s.node.children[t]=i.node,s.node.childCount++,tf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/[\[\].#$\/\u0000-\u001F\u007F]/,J2=/[\[\].#$\u0000-\u001F\u007F]/,Dd=10*1024*1024,H0=function(s){return typeof s=="string"&&s.length!==0&&!Z2.test(s)},B0=function(s){return typeof s=="string"&&s.length!==0&&!J2.test(s)},$2=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),B0(s)},q0=function(s,t,i,l){l&&t===void 0||Ff(gf(s,"value"),t,i)},Ff=function(s,t,i){const l=i instanceof je?new jN(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Ji(l));if(typeof t=="function")throw new Error(s+"contains a function "+Ji(l)+" with contents = "+t.toString());if(zv(t))throw new Error(s+"contains "+t.toString()+" "+Ji(l));if(typeof t=="string"&&t.length>Dd/3&&Ho(t)>Dd)throw new Error(s+"contains a string greater than "+Dd+" utf8 bytes "+Ji(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(Xt(t,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!H0(f)))throw new Error(s+" contains an invalid key ("+f+") "+Ji(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);LN(l,f),Ff(s,g,l),zN(l)}),o&&c)throw new Error(s+' contains ".value" child '+Ji(l)+" in addition to actual children.")}},V0=function(s,t,i,l){if(!B0(i))throw new Error(gf(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},eA=function(s,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),V0(s,t,i)},G0=function(s,t){if(ce(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},tA=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!H0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!$2(i))throw new Error(gf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function P0(s,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],c=o.getPath();i!==null&&!r0(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function Yn(s,t,i){P0(s,i),iA(s,l=>an(l,t)||an(t,l))}function iA(s,t){s.recursionDepth_++;let i=!0;for(let l=0;l<s.eventLists_.length;l++){const o=s.eventLists_[l];if(o){const c=o.path;t(c)?(sA(s.eventLists_[l]),s.eventLists_[l]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function sA(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const l=i.getEventRunner();Sl&&dt("event: "+i.toString()),ya(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="repo_interrupt",lA=25;class rA{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Do(),this.transactionQueueTree_=new Yf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oA(s,t,i){if(s.stats_=Mf(s.repoInfo_),s.forceRestClient_||lN())s.server_=new Mo(s.repoInfo_,(l,o,c,f)=>{S_(s,l,o,c,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>x_(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}s.persistentConnection_=new Hn(s.repoInfo_,t,(l,o,c,f)=>{S_(s,l,o,c,f)},l=>{x_(s,l)},l=>{uA(s,l)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(l=>{s.server_.refreshAuthToken(l)}),s.appCheckProvider_.addTokenChangeListener(l=>{s.server_.refreshAppCheckToken(l.token)}),s.statsReporter_=dN(s.repoInfo_,()=>new c2(s.stats_,s.server_)),s.infoData_=new a2,s.infoSyncTree_=new v_({startListening:(l,o,c,f)=>{let g=[];const p=s.infoData_.getNode(l._path);return p.isEmpty()||(g=Go(s.infoSyncTree_,l._path,p),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),Xf(s,"connected",!1),s.serverSyncTree_=new v_({startListening:(l,o,c,f)=>(s.server_.listen(l,c,o,(g,p)=>{const m=f(g,p);Yn(s.eventQueue_,l._path,m)}),[]),stopListening:(l,o)=>{s.server_.unlisten(l,o)}})}function Y0(s){const i=s.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Kf(s){return P2({timestamp:Y0(s)})}function S_(s,t,i,l,o){s.dataUpdateCount++;const c=new je(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let f=[];if(o)if(l){const p=bo(i,m=>ot(m));f=G2(s.serverSyncTree_,c,p,o)}else{const p=ot(i);f=V2(s.serverSyncTree_,c,p,o)}else if(l){const p=bo(i,m=>ot(m));f=q2(s.serverSyncTree_,c,p)}else{const p=ot(i);f=Go(s.serverSyncTree_,c,p)}let g=c;f.length>0&&(g=Qo(s,c)),Yn(s.eventQueue_,g,f)}function x_(s,t){Xf(s,"connected",t),t===!1&&dA(s)}function uA(s,t){Xt(t,(i,l)=>{Xf(s,i,l)})}function Xf(s,t,i){const l=new je("/.info/"+t),o=ot(i);s.infoData_.updateSnapshot(l,o);const c=Go(s.infoSyncTree_,l,o);Yn(s.eventQueue_,l,c)}function Q0(s){return s.nextWriteId_++}function cA(s,t,i,l,o){Wf(s,"set",{path:t.toString(),value:i,priority:l});const c=Kf(s),f=ot(i,l),g=qf(s.serverSyncTree_,t),p=j0(f,g,c),m=Q0(s),b=R0(s.serverSyncTree_,t,p,m,!0);P0(s.eventQueue_,b),s.server_.put(t.toString(),f.val(!0),(x,M)=>{const j=x==="ok";j||wt("set at "+t+" failed: "+x);const q=es(s.serverSyncTree_,m,!j);Yn(s.eventQueue_,t,q),hA(s,o,x,M)});const v=Z0(s,t);Qo(s,v),Yn(s.eventQueue_,v,[])}function dA(s){Wf(s,"onDisconnectEvents");const t=Kf(s),i=Do();Kd(s.onDisconnect_,Ne(),(o,c)=>{const f=F2(o,c,s.serverSyncTree_,t);m0(i,o,f)});let l=[];Kd(i,Ne(),(o,c)=>{l=l.concat(Go(s.serverSyncTree_,o,c));const f=Z0(s,o);Qo(s,f)}),s.onDisconnect_=Do(),Yn(s.eventQueue_,Ne(),l)}function fA(s){s.persistentConnection_&&s.persistentConnection_.interrupt(aA)}function Wf(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),dt(i,...t)}function hA(s,t,i,l){t&&ya(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;l&&(c+=": "+l);const f=new Error(c);f.code=o,t(f)}})}function F0(s,t,i){return qf(s.serverSyncTree_,t,i)||ve.EMPTY_NODE}function Zf(s,t=s.transactionQueueTree_){if(t||Fo(s,t),_a(t)){const i=X0(s,t);V(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&mA(s,Bl(t),i)}else z0(t)&&Yo(t,i=>{Zf(s,i)})}function mA(s,t,i){const l=i.map(m=>m.currentWriteId),o=F0(s,t,l);let c=o;const f=o.hash();for(let m=0;m<i.length;m++){const b=i[m];V(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=Ft(t,b.path);c=c.updateChild(v,b.currentOutputSnapshotRaw)}const g=c.val(!0),p=t;s.server_.put(p.toString(),g,m=>{Wf(s,"transaction put response",{path:p.toString(),status:m});let b=[];if(m==="ok"){const v=[];for(let x=0;x<i.length;x++)i[x].status=2,b=b.concat(es(s.serverSyncTree_,i[x].currentWriteId)),i[x].onComplete&&v.push(()=>i[x].onComplete(null,!0,i[x].currentOutputSnapshotResolved)),i[x].unwatcher();Fo(s,Qf(s.transactionQueueTree_,t)),Zf(s,s.transactionQueueTree_),Yn(s.eventQueue_,t,b);for(let x=0;x<v.length;x++)ya(v[x])}else{if(m==="datastale")for(let v=0;v<i.length;v++)i[v].status===3?i[v].status=4:i[v].status=0;else{wt("transaction at "+p.toString()+" failed: "+m);for(let v=0;v<i.length;v++)i[v].status=4,i[v].abortReason=m}Qo(s,t)}},f)}function Qo(s,t){const i=K0(s,t),l=Bl(i),o=X0(s,i);return pA(s,o,l),l}function pA(s,t,i){if(t.length===0)return;const l=[];let o=[];const f=t.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const p=t[g],m=Ft(i,p.path);let b=!1,v;if(V(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)b=!0,v=p.abortReason,o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=lA)b=!0,v="maxretry",o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0));else{const x=F0(s,p.path,f);p.currentInputSnapshot=x;const M=t[g].update(x.val());if(M!==void 0){Ff("transaction failed: Data returned ",M,p.path);let j=ot(M);typeof M=="object"&&M!=null&&Qn(M,".priority")||(j=j.updatePriority(x.getPriority()));const D=p.currentWriteId,B=Kf(s),H=j0(j,x,B);p.currentOutputSnapshotRaw=j,p.currentOutputSnapshotResolved=H,p.currentWriteId=Q0(s),f.splice(f.indexOf(D),1),o=o.concat(R0(s.serverSyncTree_,p.path,H,p.currentWriteId,p.applyLocally)),o=o.concat(es(s.serverSyncTree_,D,!0))}else b=!0,v="nodata",o=o.concat(es(s.serverSyncTree_,p.currentWriteId,!0))}Yn(s.eventQueue_,i,o),o=[],b&&(t[g].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[g].unwatcher),t[g].onComplete&&(v==="nodata"?l.push(()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot)):l.push(()=>t[g].onComplete(new Error(v),!1,null))))}Fo(s,s.transactionQueueTree_);for(let g=0;g<l.length;g++)ya(l[g]);Zf(s,s.transactionQueueTree_)}function K0(s,t){let i,l=s.transactionQueueTree_;for(i=ce(t);i!==null&&_a(l)===void 0;)l=Qf(l,i),t=Ie(t),i=ce(t);return l}function X0(s,t){const i=[];return W0(s,t,i),i.sort((l,o)=>l.order-o.order),i}function W0(s,t,i){const l=_a(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Yo(t,o=>{W0(s,o,i)})}function Fo(s,t){const i=_a(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,L0(t,i.length>0?i:void 0)}Yo(t,l=>{Fo(s,l)})}function Z0(s,t){const i=Bl(K0(s,t)),l=Qf(s.transactionQueueTree_,t);return X2(l,o=>{kd(s,o)}),kd(s,l),U0(l,o=>{kd(s,o)}),i}function kd(s,t){const i=_a(t);if(i){const l=[];let o=[],c=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(V(c===f-1,"All SENT items should be at beginning of queue."),c=f,i[f].status=3,i[f].abortReason="set"):(V(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat(es(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&l.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?L0(t,void 0):i.length=c+1,Yn(s.eventQueue_,Bl(t),o);for(let f=0;f<l.length;f++)ya(l[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s){let t="";const i=s.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function yA(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):wt(`Invalid query segment '${i}' in query '${s}'`)}return t}const E_=function(s,t){const i=_A(s),l=i.namespace;i.domain==="firebase.com"&&Pn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Jw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Xv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new je(i.pathString)}},_A=function(s){let t="",i="",l="",o="",c="",f=!0,g="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(g=s.substring(0,m-1),s=s.substring(m+2));let b=s.indexOf("/");b===-1&&(b=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),t=s.substring(0,Math.min(b,v)),b<v&&(o=gA(s.substring(b,v)));const x=yA(s.substring(Math.min(s.length,v)));m=t.indexOf(":"),m>=0?(f=g==="https"||g==="wss",p=parseInt(t.substring(m+1),10)):m=t.length;const M=t.slice(0,m);if(M.toLowerCase()==="localhost")i="localhost";else if(M.split(".").length<=2)i=M;else{const j=t.indexOf(".");l=t.substring(0,j).toLowerCase(),i=t.substring(j+1),c=l}"ns"in x&&(c=x.ns)}return{host:t,port:p,domain:i,subdomain:l,secure:f,scheme:g,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vA=(function(){let s=0;const t=[];return function(i){const l=i===s;s=i;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=T_.charAt(i%64),i=Math.floor(i/64);V(i===0,"Cannot push at time == 0");let f=c.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=T_.charAt(t[o]);return V(f.length===20,"nextPushId: Length should be 20."),f}})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return fe(this._path)?null:s0(this._path)}get ref(){return new cs(this._repo,this._path)}get _queryIdentifier(){const t=o_(this._queryParams),i=Rf(t);return i==="{}"?"default":i}get _queryObject(){return o_(this._queryParams)}isEqual(t){if(t=Wt(t),!(t instanceof Jf))return!1;const i=this._repo===t._repo,l=r0(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+IN(this._path)}}class cs extends Jf{constructor(t,i){super(t,i,new jf,!1)}get parent(){const t=l0(this._path);return t===null?null:new cs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function J0(s,t){return s=Wt(s),s._checkNotDeleted("ref"),t!==void 0?nf(s._root,t):s._root}function nf(s,t){return s=Wt(s),ce(s._path)===null?eA("child","path",t):V0("child","path",t),new cs(s._repo,Je(s._path,t))}function $0(s,t){s=Wt(s),G0("push",s._path),q0("push",t,s._path,!0);const i=Y0(s._repo),l=vA(i),o=nf(s,l),c=nf(s,l);let f;return f=Promise.resolve(c),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function eb(s,t){s=Wt(s),G0("set",s._path),q0("set",t,s._path,!1);const i=new Uo;return cA(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}H2(cs);B2(cs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="FIREBASE_DATABASE_EMULATOR_HOST",sf={};let SA=!1;function xA(s,t,i,l){const o=t.lastIndexOf(":"),c=t.substring(0,o),f=fa(c);s.repoInfo_=new Xv(t,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(s.authTokenProvider_=l)}function EA(s,t,i,l,o){let c=l||s.options.databaseURL;c===void 0&&(s.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=E_(c,o),g=f.repoInfo,p;typeof process<"u"&&Gy&&(p=Gy[bA]),p?(c=`http://${p}?ns=${g.namespace}`,f=E_(c,o),g=f.repoInfo):f.repoInfo.secure;const m=new oN(s.name,s.options,t);tA("Invalid Firebase Database URL",f),fe(f.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=CA(g,s,m,new rN(s,i));return new wA(b,s)}function TA(s,t){const i=sf[t];(!i||i[s.key]!==s)&&Pn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),fA(s),delete i[s.key]}function CA(s,t,i,l){let o=sf[t.name];o||(o={},sf[t.name]=o);let c=o[s.toURLString()];return c&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new rA(s,SA,i,l),o[s.toURLString()]=c,c}class wA{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pn("Cannot call "+t+" on a deleted database.")}}function NA(s=ev(),t){const i=vf(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=_E("database");l&&AA(i,...l)}return i}function AA(s,t,i,l={}){s=Wt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&ns(l,c.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(c.repoInfo_.nodeAdmin)l.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new go(go.OWNER);else if(l.mockUserToken){const g=typeof l.mockUserToken=="string"?l.mockUserToken:vE(l.mockUserToken,s.app.options.projectId);f=new go(g)}fa(t)&&(F_(t),K_("Database",!0)),xA(c,o,l,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(s){Qw(ma),aa(new is("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return EA(l,o,c,i)},"PUBLIC").setMultipleInstances(!0)),wi(Py,Yy,s),wi(Py,Yy,"esm2020")}Hn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Hn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};RA();const OA={apiKey:"AIzaSyAMvLM5nFeK8KMk4YJKqQ_ibViMDAJ_tpg",authDomain:"pierre-edflow.firebaseapp.com",databaseURL:"https://pierre-edflow-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"pierre-edflow",storageBucket:"pierre-edflow.firebasestorage.app",messagingSenderId:"212189098345",appId:"1:212189098345:web:b57fc5ddd564949e698df8",measurementId:"G-FR2TJJNFMS"},tb=$_(OA);Pw(tb);const nb=NA(tb),MA=async s=>{try{const t=J0(nb,"attempts"),i=$0(t);return await eb(i,{...s,submittedAt:Date.now()}),{id:i.key,error:null}}catch(t){return{id:null,error:t.message}}},DA=async s=>{try{const t=J0(nb,"flaggedQuestions"),i=$0(t);return await eb(i,{...s,flaggedAt:Date.now(),resolved:!1}),{id:i.key,error:null}}catch(t){return{id:null,error:t.message}}};function kA(){const[s,t]=O.useState([]),[i,l]=O.useState(!1),o=Oi(),{quizId:c}=dx(),f=JSON.parse(localStorage.getItem("user")),g={title:"Marketing Strategies & Consumer Behavior",score:68,totalQuestions:5,correctAnswers:3,timeSpent:"12:34",completedDate:new Date().toLocaleDateString()},p=[{id:1,type:"multiple-choice",question:"What is the primary objective of a business?",userAnswer:"To maximize profit",correctAnswer:"To maximize profit",isCorrect:!0,explanation:"Correct! While businesses have multiple objectives, profit maximization is generally considered the primary objective as it ensures business survival and growth."},{id:2,type:"short-answer",question:"Explain the difference between internal and external stakeholders in a business.",userAnswer:"Internal stakeholders work inside the company like employees. External stakeholders are outside like customers.",modelAnswer:"Internal stakeholders are individuals or groups within the organization such as employees, managers, and owners who have direct involvement in business operations. External stakeholders are outside parties like customers, suppliers, government, and the community who are affected by business decisions but are not directly involved in operations.",isCorrect:!1,markingCriteria:{maxMarks:4,earnedMarks:2,breakdown:[{criterion:"Defines internal stakeholders with examples",marks:1,earned:1},{criterion:"Explains internal stakeholder involvement",marks:1,earned:0},{criterion:"Defines external stakeholders with examples",marks:1,earned:1},{criterion:"Explains external stakeholder relationship",marks:1,earned:0}]},feedback:`Your answer identifies basic differences but lacks depth. You correctly identified employees and customers, but didn't explain the nature of their involvement or provide sufficient examples. Include more detail about "direct involvement" vs "affected by decisions".`},{id:3,type:"multiple-choice",question:"Which of the following is NOT a function of management?",userAnswer:"Marketing",correctAnswer:"Marketing",isCorrect:!0,explanation:"Correct! The four main functions of management are Planning, Organizing, Leading, and Controlling. Marketing is a separate business function, not a management function."},{id:4,type:"short-answer",question:"Describe two advantages of operating as a sole trader.",userAnswer:"You get all the money and you can make your own decisions without asking anyone.",modelAnswer:"Key advantages include: (1) Complete control over business decisions and operations, allowing for quick decision-making and flexibility, and (2) The owner receives all profits generated by the business. Additionally, sole traders benefit from simplified legal requirements, lower setup costs, and greater privacy compared to companies.",isCorrect:!1,markingCriteria:{maxMarks:4,earnedMarks:2,breakdown:[{criterion:"First advantage clearly stated",marks:1,earned:1},{criterion:"First advantage explained with business terminology",marks:1,earned:0},{criterion:"Second advantage clearly stated",marks:1,earned:1},{criterion:"Second advantage explained with business terminology",marks:1,earned:0}]},feedback:'You identified the correct advantages but need to use appropriate business terminology. Instead of "get all the money," use "receives all profits." Instead of "make your own decisions," explain "complete control over business operations."'},{id:5,type:"multiple-choice",question:"What does CSR stand for in business?",userAnswer:"Customer Service Relations",correctAnswer:"Corporate Social Responsibility",isCorrect:!1,explanation:"Incorrect. CSR stands for Corporate Social Responsibility, which refers to a business's commitment to ethical practices and contributing positively to society and the environment."}],m=()=>{o("/student/subject/2")};O.useEffect(()=>{f&&(async()=>{const x={quizId:c,studentId:f.uid,studentEmail:f.email,classId:"1",score:g.score,correctAnswers:g.correctAnswers,totalQuestions:g.totalQuestions,timeSpent:g.timeSpent,answers:p.map(j=>({questionId:j.id,userAnswer:j.userAnswer,isCorrect:j.isCorrect}))},{error:M}=await MA(x);M&&console.error("Error saving attempt:",M)})()},[]);const b=async v=>{if(s.includes(v))t(s.filter(x=>x!==v));else{t([...s,v]),l(!0);const x={quizId:c,questionId:v,studentId:f.uid,studentEmail:f.email,classId:"1",questionText:p.find(j=>j.id===v)?.question,studentAnswer:p.find(j=>j.id===v)?.userAnswer},{error:M}=await DA(x);l(!1),M&&(console.error("Error flagging question:",M),alert("Failed to flag question. Please try again."),t(s.filter(j=>j!==v)))}};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-12",children:y.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[y.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Quiz Complete! 🎉"}),y.jsx("p",{className:"text-purple-100",children:g.title})]})}),y.jsxs("div",{className:"max-w-5xl mx-auto px-6 -mt-8",children:[y.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 mb-8",children:y.jsxs("div",{className:"grid md:grid-cols-4 gap-6 text-center",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"text-5xl font-bold mb-2 text-yellow-600",children:[g.score,"%"]}),y.jsx("div",{className:"text-gray-600 text-sm",children:"Overall Score"})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"text-5xl font-bold text-purple-600 mb-2",children:[g.correctAnswers,"/",g.totalQuestions]}),y.jsx("div",{className:"text-gray-600 text-sm",children:"Correct Answers"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-5xl font-bold text-blue-600 mb-2",children:g.timeSpent}),y.jsx("div",{className:"text-gray-600 text-sm",children:"Time Spent"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-3xl font-bold text-gray-700 mb-2",children:"Good Job! 👍"}),y.jsx("div",{className:"text-gray-600 text-sm",children:"Performance"})]})]})}),y.jsxs("div",{className:"space-y-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Detailed Review"}),p.map((v,x)=>y.jsx("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden border-l-4 ${v.isCorrect?"border-green-500":"border-red-500"}`,children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:v.isCorrect?"✓ Correct":"✗ Incorrect"}),y.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-semibold",children:["Question ",x+1]}),v.type==="short-answer"&&v.markingCriteria&&y.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold",children:[v.markingCriteria.earnedMarks,"/",v.markingCriteria.maxMarks," marks"]}),s.includes(v.id)&&y.jsx("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm font-semibold",children:"🚩 Flagged for Teacher"})]}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:v.question})]}),y.jsx("button",{onClick:()=>b(v.id),disabled:i,className:`ml-4 px-4 py-2 rounded-lg font-semibold transition-all ${s.includes(v.id)?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"} disabled:opacity-50 disabled:cursor-not-allowed`,children:i?"Saving...":s.includes(v.id)?"Flagged for Teacher":"Flag with Teacher"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Your Answer:"}),y.jsx("div",{className:`p-4 rounded-lg ${v.isCorrect?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:y.jsx("p",{className:"text-gray-800",children:v.userAnswer})})]}),v.type==="short-answer"&&v.markingCriteria&&y.jsxs("div",{className:"mb-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[y.jsx("div",{className:"font-semibold text-blue-900 mb-3",children:"Marking Criteria:"}),y.jsx("div",{className:"space-y-2",children:v.markingCriteria.breakdown.map((M,j)=>y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${M.earned===M.marks?"bg-green-500":M.earned>0?"bg-yellow-500":"bg-red-500"}`}),y.jsx("span",{className:"text-sm text-gray-700",children:M.criterion})]}),y.jsxs("span",{className:`font-semibold text-sm ${M.earned===M.marks?"text-green-600":"text-gray-600"}`,children:[M.earned,"/",M.marks]})]},j))})]}),!v.isCorrect&&v.modelAnswer&&y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Model Answer:"}),y.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:y.jsx("p",{className:"text-gray-800",children:v.modelAnswer})})]}),y.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[y.jsx("div",{className:"font-semibold text-purple-900 mb-2",children:v.type==="short-answer"?"Feedback:":"Explanation:"}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.feedback||v.explanation})]})]})},v.id))]}),y.jsxs("div",{className:"flex gap-4 pb-12",children:[y.jsx("button",{onClick:m,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl",children:"Return to Dashboard"}),y.jsx("button",{className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-8 py-4 rounded-lg font-semibold transition-all",children:"Review Mistakes"})]}),s.length>0&&y.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-8",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"text-3xl",children:"🚩"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Questions Flagged for Teacher Review"}),y.jsxs("p",{className:"text-yellow-800 text-sm mb-3",children:["You've flagged ",s.length," question",s.length!==1?"s":""," for your teacher to review. They will be notified and can provide additional feedback."]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(v=>y.jsxs("span",{className:"bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full text-sm font-semibold",children:["Question ",v]},v))})]})]})})]})]})}function IA(){const[s,t]=O.useState(!1),[i,l]=O.useState([]),[o,c]=O.useState("");Oi();const f={"Preliminary Course":["Nature of business: The role and nature of business","Business management: The nature and responsibilities of management","Business planning: Establishing and planning a small to medium enterprise"],"HSC Course":["Operations: Strategies for effective operations management","Marketing: Development and implementation of successful marketing strategies","Finance: Financial information in the planning and management of business","Human resources: Human resource management and business performance"]},g=m=>{i.includes(m)?l(i.filter(b=>b!==m)):l([...i,m])},p=()=>{console.log("Publishing quiz:",{quizTitle:o,selectedTopics:i}),c(""),l([]),t(!1)};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[y.jsxs("button",{className:"text-white/80 hover:text-white mb-4 flex items-center text-sm",children:[y.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("span",{className:"text-5xl",children:"💼"}),y.jsx("h1",{className:"text-4xl font-bold",children:"Business Studies Year 12"})]}),y.jsx("p",{className:"text-purple-100",children:"23 Students • 12 Active Quizzes"})]}),y.jsxs("button",{onClick:()=>t(!0),className:"bg-white text-purple-600 hover:bg-purple-50 px-6 py-3 rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Quiz"]})]})]})}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[y.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[y.jsx("button",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all text-left group",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"bg-red-100 p-4 rounded-lg group-hover:bg-red-200 transition-all",children:y.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z"})})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:"Flagged Quizzes"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"5 need review"})]})]})}),y.jsx("button",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all text-left group",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"bg-blue-100 p-4 rounded-lg group-hover:bg-blue-200 transition-all",children:y.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:"Student Progress"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"View analytics"})]})]})}),y.jsx("button",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition-all text-left group",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"bg-green-100 p-4 rounded-lg group-hover:bg-green-200 transition-all",children:y.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:"Manage Quizzes"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Edit or delete"})]})]})})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Recent Quizzes"}),y.jsx("div",{className:"space-y-4",children:[{title:"Marketing Strategies Quiz",students:18,avgScore:76,date:"2 days ago"},{title:"Financial Management",students:21,avgScore:82,date:"5 days ago"},{title:"Operations & Processes",students:20,avgScore:71,date:"1 week ago"}].map((m,b)=>y.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:m.title}),y.jsxs("div",{className:"flex gap-6 text-sm text-gray-600",children:[y.jsxs("span",{children:["👥 ",m.students," students completed"]}),y.jsxs("span",{children:["📊 ",m.avgScore,"% average score"]}),y.jsxs("span",{children:["📅 ",m.date]})]})]}),y.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-semibold transition-all",children:"View Results"})]})},b))})]})]}),s&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-6 my-6 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Create New Quiz"}),y.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700",children:y.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Quiz Title"}),y.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"e.g., Marketing Strategies Assessment",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Topics (Multiple Selection)"}),Object.entries(f).map(([m,b])=>y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"font-bold text-purple-700 mb-3",children:m}),y.jsx("div",{className:"space-y-2",children:b.map(v=>y.jsx("button",{onClick:()=>g(v),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${i.includes(v)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 bg-white"}`,children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${i.includes(v)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:i.includes(v)&&y.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("span",{className:"font-medium text-gray-800 text-sm",children:v})]})},v))})]},m))]}),i.length>0&&y.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[y.jsxs("h4",{className:"font-semibold text-purple-900 mb-2",children:["Selected Topics (",i.length,")"]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(m=>y.jsx("span",{className:"bg-purple-200 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:m.split(":")[0]},m))})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Cancel"}),y.jsx("button",{onClick:p,disabled:!o||i.length===0,className:"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:"Publish Quiz"})]})]})})]})}function jA(){const[s,t]=O.useState(""),[i,l]=O.useState([]),[o,c]=O.useState(5),[f,g]=O.useState([]),p={"Preliminary Course":["Nature of business: The role and nature of business","Business management: The nature and responsibilities of management","Business planning: Establishing and planning a small to medium enterprise"],"HSC Course":["Operations: Strategies for effective operations management","Marketing: Development and implementation of successful marketing strategies","Finance: Financial information in the planning and management of business","Human resources: Human resource management and business performance"]},m=D=>{i.includes(D)?l(i.filter(B=>B!==D)):l([...i,D])},b=()=>{g([...f,{id:Date.now(),type:"multiple-choice",questionText:"",wordLimit:100,exemplarAnswer:"",markingCriteria:["","","",""],options:["","","",""]}])},v=(D,B,H)=>{g(f.map(G=>G.id===D?{...G,[B]:H}:G))},x=(D,B,H)=>{g(f.map(G=>{if(G.id===D){const se=[...G.options];return se[B]=H,{...G,options:se}}return G}))},M=(D,B,H)=>{g(f.map(G=>{if(G.id===D){const se=[...G.markingCriteria];return se[B]=H,{...G,markingCriteria:se}}return G}))},j=D=>{g(f.filter(B=>B.id!==D))},q=()=>{console.log("Publishing quiz:",{quizTitle:s,selectedTopics:i,numQuestions:o,questions:f})};return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-8",children:y.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[y.jsxs("button",{className:"text-white/80 hover:text-white mb-4 flex items-center text-sm",children:[y.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Class"]}),y.jsx("h1",{className:"text-4xl font-bold",children:"Create New Quiz"})]})}),y.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Quiz Setup"}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Quiz Title"}),y.jsx("input",{type:"text",value:s,onChange:D=>t(D.target.value),placeholder:"e.g., Marketing Strategies Assessment",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Topics"}),Object.entries(p).map(([D,B])=>y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"font-bold text-purple-700 mb-2 text-sm",children:D}),y.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:B.map(H=>y.jsx("button",{onClick:()=>m(H),className:`text-left p-3 rounded-lg border-2 transition-all text-sm ${i.includes(H)?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${i.includes(H)?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:i.includes(H)&&y.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),y.jsx("span",{className:"font-medium text-gray-800",children:H.split(":")[0]})]})},H))})]},D))]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Number of Questions"}),y.jsx("input",{type:"number",min:"1",max:"50",value:o,onChange:D=>c(parseInt(D.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Questions (",f.length,")"]}),y.jsxs("button",{onClick:b,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-semibold transition-all flex items-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Question"]})]}),f.map((D,B)=>y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Question ",B+1]}),y.jsx("button",{onClick:()=>j(D.id),className:"text-red-500 hover:text-red-700",children:y.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Question Type"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:()=>v(D.id,"type","multiple-choice"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${D.type==="multiple-choice"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Multiple Choice"}),y.jsx("button",{onClick:()=>v(D.id,"type","short-answer"),className:`flex-1 py-2 px-4 rounded-lg font-semibold transition-all ${D.type==="short-answer"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Short Answer"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Question Text"}),y.jsx("textarea",{value:D.questionText,onChange:H=>v(D.id,"questionText",H.target.value),placeholder:"Enter your question here...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none min-h-[100px]"})]}),D.type==="multiple-choice"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Answer Options"}),y.jsx("div",{className:"space-y-2",children:D.options.map((H,G)=>y.jsx("input",{type:"text",value:H,onChange:se=>x(D.id,G,se.target.value),placeholder:`Option ${G+1}`,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"},G))})]}),D.type==="short-answer"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Word Limit"}),y.jsx("input",{type:"number",min:"10",max:"500",value:D.wordLimit,onChange:H=>v(D.id,"wordLimit",parseInt(H.target.value)),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Exemplar Answer"}),y.jsx("textarea",{value:D.exemplarAnswer,onChange:H=>v(D.id,"exemplarAnswer",H.target.value),placeholder:"Provide a model answer for AI reference...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none min-h-[100px]"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Marking Criteria (4 points)"}),y.jsx("div",{className:"space-y-2",children:D.markingCriteria.map((H,G)=>y.jsx("input",{type:"text",value:H,onChange:se=>M(D.id,G,se.target.value),placeholder:`Criterion ${G+1} - What should students demonstrate?`,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"},G))})]})]})]},D.id))]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{className:"flex-1 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-semibold transition-all",children:"Save as Draft"}),y.jsx("button",{onClick:q,disabled:!s||i.length===0||f.length===0,className:"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:"Publish Quiz"})]})]})]})}function LA(){const[s,t]=O.useState(()=>{const i=localStorage.getItem("user");return i?JSON.parse(i):null});return O.useEffect(()=>{s?localStorage.setItem("user",JSON.stringify(s)):localStorage.removeItem("user")},[s]),y.jsx(Xx,{children:y.jsxs(wx,{children:[y.jsx(vi,{path:"/",element:y.jsx(aE,{setUser:t})}),y.jsx(vi,{path:"/student/classes",element:s?.role==="student"?y.jsx(lE,{}):y.jsx(Xs,{to:"/"})}),y.jsx(vi,{path:"/student/subject/:subjectId",element:s?.role==="student"?y.jsx(rE,{}):y.jsx(Xs,{to:"/"})}),y.jsx(vi,{path:"/student/quiz/:quizId",element:s?.role==="student"?y.jsx(oE,{}):y.jsx(Xs,{to:"/"})}),y.jsx(vi,{path:"/student/quiz-results/:quizId",element:s?.role==="student"?y.jsx(kA,{}):y.jsx(Xs,{to:"/"})}),y.jsx(vi,{path:"/teacher/dashboard",element:s?.role==="teacher"?y.jsx(IA,{}):y.jsx(Xs,{to:"/"})}),y.jsx(vi,{path:"/teacher/quiz-builder/:classId",element:s?.role==="teacher"?y.jsx(jA,{}):y.jsx(Xs,{to:"/"})})]})})}jS.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(LA,{})}));
